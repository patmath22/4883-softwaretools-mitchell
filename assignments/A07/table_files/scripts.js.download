var Ad={container:document.querySelector("div#container"),height:90,width:728,horizontalLayout:!0,mobileLayout:!1,boxLayout:!1,footer:document.getElementsByClassName("footer")[0],scale:1,scaleTo:.93,hasPrice:""!==myFT.instantAds.price_txt&&""===myFT.instantAds.percentage_txt,hasPercent:""!==myFT.instantAds.percentage_txt&&""===myFT.instantAds.price_txt,timeline:gsap.timeline(),animate:function(){var t=document.querySelectorAll(".bg-frame"),e="2"===myFT.instantAds.frameCount?3:1;gsap.to("div#container",{duration:.25,alpha:1},0);for(var s=0;s<e;s++)Ad.animateBackground(t[s%2],s%2,2===s);Ad.timeline.from("div#headline > span",{duration:1.25,x:-Ad.width,stagger:.25},0),Ad.timeline.from("div#subheadline > span",{duration:1.25,x:-Ad.width,stagger:.25},">-1"),Ad.hasPercent&&Ad.timeline.from("div#percent",{duration:1,x:-Ad.width},"<"),Ad.hasPrice&&Ad.timeline.from("div#price",{duration:1,x:-Ad.width},"<")},animateBackground:function(t,e,s){var i,n,a=myFT.instantAds.bgAnimationStyle.split("|")[e],l=parseInt(myFT.instantAds.animationTiming),o=gsap.timeline();switch(Ad.mobileLayout&&("zoomin"!=a&&"zoomout"!=a||(Ad.scale=1.25)),a){case"none":i={x:0},n={x:0,duration:l};break;case"panleft":i={x:0,scale:Ad.scale},n={x:30,duration:l};break;case"panright":i={x:30,scale:Ad.scale},n={x:0,duration:l};break;case"zoomin":i={scale:Ad.scale},n={scale:Ad.scale*Ad.scaleTo,duration:l};break;case"zoomout":i={scale:Ad.scale*Ad.scaleTo},n={scale:Ad.scale,duration:l}}o.fromTo(t.querySelector("img"),i,n),"2"===myFT.instantAds.frameCount&&(Ad.resetFrame(o,Number(!e)),s||(o.to(t,{duration:1,x:-Ad.width},">"),o.set(t,{x:0,zIndex:-3},">"),o.set(t.querySelector("img"),i,">"),o.set(document.querySelectorAll(".bg-frame")[Number(!e)],{zIndex:-1},">"))),Ad.timeline.add(o,"-=1")},build:function(){var t=document.getElementsByClassName("copy")[0],e=document.querySelector("div#headline"),s=document.querySelector("div#subheadline"),i=document.querySelector("div#cta"),n=document.querySelectorAll(".bg-frame"),a=document.createElement("img"),l=document.getElementsByClassName("logo-container")[0],o=document.querySelector("div#legal");if(Ad.splitHeadline(e,myFT.instantAds.headline_txt),Ad.styleHeadline(e,myFT.instantAds.headline_size_hex_xy),Ad.splitHeadline(s,myFT.instantAds.subheadline_txt),Ad.styleHeadline(s,myFT.instantAds.subheadline_size_hex_xy),Ad.splitHeadline(o,myFT.instantAds.legal_txt),Ad.styleHeadline(o,myFT.instantAds.legal_size_hex_xy),""!==myFT.instantAds.percentage_txt&&""===myFT.instantAds.price_txt){if((r=document.querySelector("div#percent")).style.opacity=1,r.style.display="block",myFT.instantAds.percentage_txt.includes("|")){t.style.width="100%",r.style.width="100%";var d=document.createElement("span");d.id="percent-aside",d.style.width="100%",d.style.fontSize="7px",d.style.lineHeight="7.3px",r.style.height=myFT.instantAds.percentage_size_hex_xy.split("|")[0]-1+"px",d.innerHTML=myFT.instantAds.percentage_txt.split("|")[1],r.querySelector("span.value").style.display="flex",r.querySelector("span.value").innerHTML=myFT.instantAds.percentage_txt.split("|")[0],r.style.display="flex",r.style.justifyContent="flex-start",r.style.verticalAlign="center",r.style.leftAlign="center",r.appendChild(d)}else r.querySelector("span.value").innerHTML=myFT.instantAds.percentage_txt;Ad.styleHeadline(r,myFT.instantAds.percentage_size_hex_xy)}if(""!==myFT.instantAds.price_txt&&""===myFT.instantAds.percentage_txt){var r;if((r=document.querySelector("div#price")).style.opacity=1,r.style.display="block",myFT.instantAds.price_txt.includes("|")){var y=document.createElement("span");y.style.display="flex",y.style.justifyContent="flex-start",y.style.alignItems="center",y.style.paddingLeft="1%",myFT.instantAds.price_txt.split("|")[1].split("<br/>").length<3?(y.style.fontSize=myFT.instantAds.price_size_hex_xy.split("|")[0]/5+"px",y.style.lineHeight=myFT.instantAds.price_size_hex_xy.split("|")[0]/5+"px"):(y.style.fontSize=myFT.instantAds.price_size_hex_xy.split("|")[0]/6+"px",y.style.lineHeight=myFT.instantAds.price_size_hex_xy.split("|")[0]/6+"px"),y.innerHTML=myFT.instantAds.price_txt.split("|")[1],r.querySelector("span.value").style.display="flex",r.querySelector("span.value").innerHTML='<span style = "display: flex; line-height: 1.3em; font-size: '+myFT.instantAds.price_size_hex_xy.split("|")[0]/2+'px">'+myFT.instantAds.price_txt.split("|")[0].charAt(0)+"</span>"+myFT.instantAds.price_txt.split("|")[0].slice(1),r.style.display="flex",r.style.justifyContent="flex-start",r.style.verticalAlign="center",r.style.leftAlign="center",r.appendChild(y)}else r.querySelector("span.value").innerHTML=myFT.instantAds.price_txt;Ad.styleHeadline(r,myFT.instantAds.price_size_hex_xy)}a.src=myFT.instantAds.F1_background_img,a.addEventListener("load",function(){if(Ad.setupFrameImage(this,n[0]),"1"===myFT.instantAds.frameCount)Ad.animate();else{var t=document.createElement("img");t.src=myFT.instantAds.F2_background_img,t.addEventListener("load",function(){Ad.setupFrameImage(this,n[1]),Ad.animate()})}}),Ad.setupPhotoCredits(myFT.instantAds.F1_photoCredits_txt,myFT.instantAds.F1_photoCreditsTxt_size_hex_xy_shadow,n[0]),"2"===myFT.instantAds.frameCount&&Ad.setupPhotoCredits(myFT.instantAds.F2_photoCredits_txt,myFT.instantAds.F2_photoCreditsTxt_size_hex_xy_shadow,n[1]),i.getElementsByTagName("span")[0].innerHTML=myFT.instantAds.cta_txt,i.style.fontSize=myFT.instantAds.ctaTxt_size_hex_hexHov.split("|")[0]+"px",i.style.color=myFT.instantAds.ctaTxt_size_hex_hexHov.split("|")[1],i.style.backgroundColor=myFT.instantAds.ctaBtn_hex_hexHov.split("|")[0],Ad.mobileLayout?i.style.right=(Ad.footer.offsetWidth-i.offsetWidth)/2+"px":Ad.boxLayout?i.style.right="11px":i.style.right=(Ad.footer.offsetWidth-i.offsetWidth)/2+"px",Ad.container.addEventListener("mouseover",function(){i.style.color=myFT.instantAds.ctaTxt_size_hex_hexHov.split("|")[2],i.style.backgroundColor=myFT.instantAds.ctaBtn_hex_hexHov.split("|")[1],1===Ad.timeline.totalProgress()&&Ad.timeline.restart()}),Ad.container.addEventListener("mouseout",function(){i.style.color=myFT.instantAds.ctaTxt_size_hex_hexHov.split("|")[1],i.style.backgroundColor=myFT.instantAds.ctaBtn_hex_hexHov.split("|")[0]}),i.style.transition="300ms ease-in-out",Ad.positionCta(i),Ad.styleFooter(Ad.footer,myFT.instantAds.footer_hex,myFT.instantAds.footer_img),Ad.createLogoSvgPos(myFT.instantAds.logo_img,l,Ad.footer.offsetWidth,13),Ad.setupLegal(o,myFT.instantAds.legal_size_hex_xy),Ad.hasPercent&&Ad.shiftCopy("percent",t,s),Ad.hasPrice&&Ad.shiftCopy("price",t,s),myFT.applyClickTag(Ad.container,1,myFT.instantAds.clickTag1_url)},shiftCopy:function(t,e,s){if("percent"===t){var i=document.querySelector("div#percent").getElementsByClassName("sign")[0],n=document.querySelector("div#percent").getElementsByClassName("value")[0],a=document.getElementById("percent-aside");myFT.instantAds.percentage_txt.includes("|")?Ad.msieversion()?(n.style.display="inline-block",a.style.position="absolute",a.style.top=i.offsetHeight+"px"):(i.style.position="relative",i.style.display="flex",i.style.alignItems="top",i.style.justifyContent="top",i.style.marginBottom="auto",i.style.fontSize="37%",i.style.paddingTop="0.28em",a.style.display="flex",a.style.alignItems="flex-end",a.style.marginLeft=-1*i.offsetWidth+"px",n.style.paddingRight=n.offsetWidth/20+"px",e.style.top=(Ad.height-e.offsetHeight)/2+"px",e.style.transform="translateY(0)",s.style.top="-.1em"):(s.style.top="-.9em",i.style.left=n.offsetWidth+.03*n.offsetWidth+"px",e.style.top="53%")}else s.style.top="-.9em",e.style.top="53%"},msieversion:function(){return!!(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},positionCta:function(t){if(Ad.boxLayout){var e=(Ad.footer.offsetHeight-t.offsetHeight)/2+"px";t.style.top=e,t.style.right=e}else t.style.left=(Ad.footer.offsetWidth-t.offsetWidth)/2+"px"},styleFooter:function(t,e,s){s.indexOf("blank")>-1?t.style.backgroundColor=e:(t.style.backgroundImage="url("+s+")",t.style.backgroundSize="cover")},createLogoSvgPos:function(t,e,s,i){var n,a=i;xhr=new XMLHttpRequest,xhr.open("GET",t),xhr.addEventListener("load",function(){(new DOMParser).parseFromString(this.responseText.trim(),"image/svg+xml");var i=0;const l=(new window.DOMParser).parseFromString(this.response,"text/xml");var o,d,r=(new XMLSerializer).serializeToString(l.childNodes[0]);String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(e||0,t.length)===t}),r.startsWith("\x3c!--")&&(i+=1),o=l.childNodes[i].viewBox.baseVal.width,d=l.childNodes[i].viewBox.baseVal.height,(n=document.createElement("img")).id="logo",n.src=t,n.opacity=0,n.addEventListener("load",function(){var t=d/e.offsetHeight;Ad.boxLayout?(d>44&&o<2e3&&(a-=Math.abs(e.offsetWidth-o/t)/2),e.style.left=a+"px"):Ad.horizontalLayout?e.style.left=(s-e.offsetWidth)/2+"px":e.style.left=(Ad.width-e.offsetWidth)/2+"px",e.appendChild(this),this.opacity=1})}),xhr.send()},setupLegal:function(t,e){var s=t.getElementsByTagName("span")[0],i=4;Ad.mobileLayout||728==Ad.width?(t.className+=" rotate",t.style.bottom=(Ad.height-t.offsetHeight)/2+"px",Ad.mobileLayout&&(i=2),t.style.right=-Math.abs(s.offsetWidth/3)+i+"px",s.style.textAlign="center",t.style.marginRight=-1*parseInt(e.split("|")[2].split(",")[0])+"px"):Ad.boxLayout?(t.style.left=11+parseInt(e.split("|")[2].split(",")[0])+"px",t.style.bottom=i/2+-1*parseInt(e.split("|")[2].split(",")[1])+"px",s.style.textAlign="left",t.style.marginLeft=parseInt(e.split("|")[2].split(",")[0])+"px"):(t.style.right=i+-1*parseInt(e.split("|")[2].split(",")[0])+"px",t.style.bottom=i+-1*parseInt(e.split("|")[2].split(",")[1])+"px",s.style.textAlign="right",t.style.marginRight=-1*parseInt(e.split("|")[2].split(",")[0])+"px"),t.style.marginBottom=-1*parseInt(e.split("|")[2].split(",")[1])+"px"},setupPhotoCredits:function(t,e,s){var i=5,n=document.createElement("div");n.className="credits",Ad.splitHeadline(n,t),Ad.styleHeadline(n,e);var a=n.getElementsByTagName("span")[0];Ad.horizontalLayout?(n.style.width=Ad.width-Ad.footer.offsetWidth+"px",n.style.height="100%",a.style.right=Ad.footer.offsetWidth-a.offsetWidth+i+-1*parseInt(e.split("|")[2].split(",")[0])+"px",a.style.bottom=i-1+-1*parseInt(e.split("|")[2].split(",")[1])+"px"):(n.style.width=Ad.width+"px",n.style.height=Ad.height-Ad.footer.offsetHeight+"px",a.style.right=i+-1*parseInt(e.split("|")[2].split(",")[0])+"px",480==Ad.width&&(i=4),a.style.bottom=Ad.footer.offsetHeight+i+-1*parseInt(e.split("|")[2].split(",")[1])+"px"),s.appendChild(n)},setupFrameImage:function(t,e){var s;s=Ad.horizontalLayout?parseInt(Ad.width-Ad.footer.offsetWidth+60):parseInt(Ad.width+60);var i=t.width/s;t.style.width=s+"px",t.style.height=t.height/i+"px",t.style.opacity=0,e.appendChild(t),Ad.horizontalLayout?(t.style.left=-Math.abs((t.offsetWidth-(Ad.width-Ad.footer.offsetWidth))/2)+"px",t.style.top=-Math.abs((t.offsetHeight-Ad.height)/2)+"px"):(t.style.left=-Math.abs((t.offsetWidth-Ad.width)/2)+"px",t.style.top=-Math.abs((t.offsetHeight-(Ad.height-Ad.footer.offsetHeight))/2)+"px"),t.style.opacity=1},initialize:function(){var t=[],e=[myFT.instantAds.F1_background_img,myFT.instantAds.F2_background_img,myFT.instantAds.logo_img],s=t.filter(function(t){return t.complete}).length;(window.checkLoaded=function(){s===e.length&&myFT.instantAdsLoaded&&Ad.build()})(),e.forEach(function(e){var i=new Image;return i.src=e,t.push(i),i.onload=function(){s++,checkLoaded()}})},splitHeadline:function(t,e){var s=e.split("|");for(let e=0;e<s.length;e++){var i=s[e],n=document.createElement("span");n.innerHTML=i,t.appendChild(n)}},styleHeadline:function(t,e){var s=e.split("|"),i=s[2].split(",")[1];t.style.color=s[1],t.style.fontSize=s[0]+"px",t.style.marginLeft=s[2].split(",")[0],"true"===s[3]&&(t.style.textShadow="0px 1px 1px rgba(0, 0, 0, 0.4)"),t.style.marginTop=i+"px"},resetFrame:function(t,e){var s=document.querySelectorAll(".bg-frame")[e].querySelector("img");switch(myFT.instantAds.bgAnimationStyle.split("|")[e]){case"panleft":case"panright":t.set(s,{x:0,scale:1},">");break;case"zoomin":case"zoomout":t.set(s,{scale:.92},">")}}};document.addEventListener("DOMContentLoaded",Ad.initialize),String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";if(t instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===e&&(e=0),-1!==this.indexOf(t,e)});