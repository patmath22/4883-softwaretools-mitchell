(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"0g+/":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("AKWm"),o=n("fXoL"),a=n("8dEr"),c=n("jwMx"),s=n("JSYf"),r=n("Wr7N"),l=n("3ia6");const d=["aqBars"];let p=(()=>{class t{constructor(t,e,n,i){this.airQualityDalService=t,this.stationService=e,this.cityLinksService=n,this.env=i,this.now=new Date,this.url="",this.tileHeight=130,this.tileWidth=300,this.subtitle="",this.latestOb=0,this.aqiData={category:"No Data",aqi:[]},this.aqcolors={aqi:["#4c4c4c","#599f47","#ffb82e","#fe8834","#d4212c","#7f2773","#9a0009"],bar:"#e7e7e7",bkg:"#f7f7f7",top:"#e7e7e7"}}ngOnInit(){this.getHealthUrl()}ngAfterViewInit(){const{env:t}=this;t.isBrowser&&(this.element=this.barsContainer.nativeElement,this.stationService.currentStation.subscribe(t=>{const e=t.countryCode||"us";this.airQualityDalService.getAirQualityData(`${t.latitude},${t.longitude}`,t.countryCode).subscribe(t=>{this.setCurrData(t),this.whichChart("us"!==e.toLowerCase())},t=>console.log("onError: %s",t))}))}getHealthUrl(){this.cityLinksService.getCityLinks().subscribe(t=>this.url=t.health)}createInternationalChart(){const t=this.latestOb,e=this.getAQIColor(t);this.tileTitle=t>=101?`AIR QUALITY <i class="fi-alert" style="color:${e};"></i>`:"AIR QUALITY",Object(i.a)("#aqTopBar").style("height","36px").style("width","100%").style("position","static").style("background-color",this.aqcolors.top).style("padding","9px 0px 9px 15px").html(this.tileTitle),Object(i.a)("#aqColorBar").style("width","100%").style("height","2px").style("position","static").style("background-color",e);const n=Object(i.a)("#aqBarChart").append("svg").attr("height","130px").attr("width","100%").style("background-color",this.aqcolors.bkg);n.selectAll("rect").data(this.aqiData.aqi).enter().append("rect").attr("height",this.internationalBarHeight(t)).attr("width",this.tileWidth).attr("fill",this.aqcolors.bar).attr("x",0).attr("y",this.tileHeight-this.internationalBarHeight(t)).attr("rx",3).attr("ry",3),this.barText(n,t,e)}createChart(){const t=this.latestOb,e=this.getAQIColor(t);this.tileTitle=t>=101?`AIR QUALITY <i class="fi-alert" style="color:${e};"></i>`:"AIR QUALITY",Object(i.a)("#aqTopBar").style("height","36px").style("width","100%").style("position","static").style("background-color",this.aqcolors.top).style("padding","9px 0px 9px 15px").html(this.tileTitle),Object(i.a)("#aqColorBar").style("width","100%").style("height","2px").style("position","static").style("background-color",e);const n=Object(i.a)("#aqBarChart").append("svg").attr("height","130px").attr("width","100%").style("background-color",this.aqcolors.bkg);n.selectAll("rect").data(this.aqiData.aqi).enter().append("rect").attr("height",t=>this.barHeight(t)).attr("width",(t,e)=>this.barWidth(t,e)).attr("fill",this.aqcolors.bar).attr("x",(t,e)=>this.svgX(t,e)).attr("y",t=>this.svgY(t)).attr("rx",3).attr("ry",3),this.barText(n,t,e)}barText(t,e,n){"Unhealthy for Sensitive Groups"===this.aqiData.category?(t.append("text").attr("x","85%").attr("y",40).attr("font-size","200%").attr("text-anchor","start").attr("dominant-baseline","middle").text("Unhealthy,").style("fill",n).style("text-anchor","end").style("font-weight","bold"),t.append("text").attr("x","85%").attr("y",55).attr("font-size","90%").attr("text-anchor","start").attr("dominant-baseline","middle").text("for sensitive groups").style("fill",n).style("text-anchor","end"),t.append("text").attr("x","85%").attr("y",70).attr("font-size","80%").attr("text-anchor","start").attr("dominant-baseline","middle").style("text-anchor","end").text(this.subtitle),t.append("text").attr("x","85%").attr("y",90).attr("font-size","150%").attr("text-anchor","start").attr("dominant-baseline","middle").style("text-anchor","end").text(e).style("fill",n).style("font-weight","bold")):(t.append("text").attr("x","85%").attr("y",40).attr("font-size","200%").attr("text-anchor","start").attr("dominant-baseline","middle").text(this.aqiData.category).style("fill",n).style("text-anchor","end").style("font-weight","bold"),t.append("text").attr("x","85%").attr("y",70).attr("font-size","80%").attr("text-anchor","start").attr("dominant-baseline","middle").style("text-anchor","end").text(this.subtitle),e>=0&&t.append("text").attr("x","85%").attr("y",90).attr("font-size","150%").attr("text-anchor","start").attr("dominant-baseline","middle").style("text-anchor","end").text(e).style("fill",n).style("font-weight","bold")),t.append("title").text("Air Quality tile")}internationalBarHeight(t){return t>=0&&t<=50?20:t>=51&&t<=100?40:t>=101&&t<=150?60:t>=151&&t<=200?80:t>=201&&t<=300?100:t>=301&&t<=500?120:0}barHeight(t){return t<=0?0:this.tileHeight*t/500}barWidth(t,e){return this.tileWidth/this.aqiData.aqi.length-10}svgX(t,e){return e*this.tileWidth/this.aqiData.aqi.length}svgY(t){return this.tileHeight-this.tileHeight*t/500}getAQIColor(t){return t>=0&&t<=50?this.aqcolors.aqi[1]:t>=51&&t<=100?this.aqcolors.aqi[2]:t>=101&&t<=150?this.aqcolors.aqi[3]:t>=151&&t<=200?this.aqcolors.aqi[4]:t>=201&&t<=300?this.aqcolors.aqi[5]:t>=301&&t<=500?this.aqcolors.aqi[6]:this.aqcolors.aqi[0]}whichChart(t){t?this.createInternationalChart():this.createChart()}setCurrData(t){const e=Object(a.S)(t,"globalairquality.pollutants",{});this.aqiData.aqi=Object.keys(e).map(t=>e[t].amount),this.latestOb=Object(a.S)(t,"globalairquality.airQualityIndex",0);const n=Object(a.S)(t,"globalairquality.airQualityCategory","");this.aqiData.aqi[this.aqiData.aqi.length]=this.latestOb,n&&(this.subtitle="Air Quality Index",this.aqiData.category=n)}}return t.\u0275fac=function(e){return new(e||t)(o.jc(c.a),o.jc(s.c),o.jc(r.c),o.jc(l.b))},t.\u0275cmp=o.dc({type:t,selectors:[["lib-air-quality-tile"]],viewQuery:function(t,e){if(1&t&&o.qd(d,1),2&t){let t;o.Sc(t=o.xc())&&(e.barsContainer=t.first)}},decls:6,vars:1,consts:[[3,"href"],["id","aqTopBar",1,"tile-title"],["id","aqColorBar"],["id","aqBarChart"],["aqBars",""],[1,"hook-arrow"]],template:function(t,e){1&t&&(o.pc(0,"a",0),o.kc(1,"div",1),o.kc(2,"div",2),o.pc(3,"div",3,4),o.kc(5,"div",5),o.oc(),o.oc()),2&t&&o.Jc("href","",e.url,"?cm_ven=localwx_modaq",o.bd)},styles:['a[_ngcontent-%COMP%]{color:inherit}.hook-arrow[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:130px;width:20px;border-left:1px solid #d7d7d7;background-color:#f7f7f7}.hook-arrow[_ngcontent-%COMP%]:before{transform:rotate(45deg) translateY(-70%);content:"";border-style:solid;border-width:2px 2px 0 0;width:11px;height:11px;display:inline-block;position:absolute;color:#15aadc;top:66px;right:13px}.tile-title[_ngcontent-%COMP%]{color:#1e2023}#aqTopBar[_ngcontent-%COMP%]{width:100%;height:36px;font-family:sans-serif;font-size:14px;background-color:#e7e7e7}#aqColorBar[_ngcontent-%COMP%]{height:2px;width:100%;background-color:#4c4c4c}#aqBarChart[_ngcontent-%COMP%]{width:100%;height:130px;background-color:#f7f7f7;font-family:sans-serif;position:relative}']}),t})()},"0t3G":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("AKWm"),o=n("fXoL"),a=n("cp0P"),c=n("IzEk"),s=n("bOdf"),r=n("8dEr"),l=n("p1rA"),d=n("JSYf"),p=n("Wr7N"),h=n("jwMx"),g=n("3ia6");const u=["precipBars"];let m=(()=>{class t{constructor(t,e,n,i,o){this.weatherApi=t,this.stationService=e,this.cityLinksService=n,this.forecastDalService=i,this.env=o,this.now=new Date,this.url="",this.tileHeight=130,this.tileWidth=300,this.title="PRECIPITATION",this.precipData={popPhraseOne:"No Data",popPhraseTwo:"",precipType:"",chanceOfPrecip:[]},this.precipColors={precip:["#4c4c4c","#90d1e8","#1088b0","#ffa2a4","#e45D5f","#6898ca","#0b56ab"],bar:"#e7e7e7",bkg:"#f7f7f7",top:"#e7e7e7"}}ngOnInit(){this.getPrecipUrl()}ngAfterViewInit(){const{env:t}=this;t.isBrowser&&(this.element=this.barsContainer.nativeElement,this.stationService.currentStation.subscribe(t=>this.getPrecipData(t)))}getPrecipUrl(){this.cityLinksService.getCityLinks().subscribe(t=>{this.url=t.precipitation})}createChart(){const t=this.precipData.chanceOfPrecip[0],e=this.getPrecipColor(this.precipData.precipType,t);Object(i.a)("#precipTopBar").style("height","36px").style("width","100%").style("position","static").style("background-color",this.precipColors.top).style("padding","9px 0px 9px 15px").text(this.title),Object(i.a)("#precipColorBar").style("width","100%").style("height","2px").style("position","static").style("background-color",e);const n=Object(i.a)("#precipBarChart").append("svg").attr("height","130px").attr("width","100%").style("background-color",this.precipColors.bkg);n.append("title").text("Precip tile"),n.selectAll("rect").data(this.precipData.chanceOfPrecip).enter().append("rect").attr("height",t=>this.barHeight(t)).attr("width",this.barWidth()).attr("fill",this.precipColors.bar).attr("x",(t,e)=>this.svgX(t,e)).attr("y",t=>this.svgY(t)).attr("rx",3).attr("ry",3),t>=0&&n.append("text").attr("x","85%").attr("y",40).attr("font-size","200%").attr("text-anchor","start").attr("dominant-baseline","middle").text(t+"%").style("fill",e).style("text-anchor","end").style("font-weight","bold"),""===this.precipData.popPhraseTwo?n.append("text").attr("x","85%").attr("y",90).attr("font-size","120%").attr("text-anchor","start").attr("dominant-baseline","middle").style("text-anchor","end").text(this.precipData.popPhraseOne).style("fill",this.precipColors.precip[0]):(n.append("text").attr("x","85%").attr("y",80).attr("font-size","120%").attr("text-anchor","start").attr("dominant-baseline","middle").style("text-anchor","end").text(this.precipData.popPhraseOne).style("fill",this.precipColors.precip[0]),n.append("text").attr("x","85%").attr("y",100).attr("font-size","120%").attr("text-anchor","start").attr("dominant-baseline","middle").style("text-anchor","end").text(this.precipData.popPhraseTwo).style("fill",this.precipColors.precip[0]))}barHeight(t){return t<=0?0:this.tileHeight*t/100}barWidth(){return this.tileWidth/this.precipData.chanceOfPrecip.length-10}svgX(t,e){return e*this.tileWidth/this.precipData.chanceOfPrecip.length}svgY(t){return this.tileHeight-this.tileHeight*t/100}getPrecipColor(t,e){return"rain"===t&&e<30?this.precipColors.precip[1]:"rain"===t&&e>=30?this.precipColors.precip[2]:"mix"===t&&e<30?this.precipColors.precip[3]:"mix"===t&&e>=30?this.precipColors.precip[4]:"snow"===t&&e<30?this.precipColors.precip[5]:"snow"===t&&e>=30?this.precipColors.precip[6]:this.precipColors.precip[0]}getPrecipData(t){const e={features:["forecast/wwir"],version:"1",geocode:this.getCityLocation(t),params:{language:"en-US",units:"e"}};this.stationService.currentStation.pipe(Object(c.a)(1),Object(s.a)(t=>Object(a.a)([this.weatherApi.get(e),this.forecastDalService.getDailyForecast(`${Object(r.S)(t,"latitude",null)},${Object(r.S)(t,"longitude",null)}`,7)]))).subscribe(t=>this.precipData=function(t,e){let n="No Data",i="",o="";const a=[];for(let c=0;c<e.dayParts.length;c++)c%2||a.push(e.dayParts[c].precipChance||0),c%2&&a.push(e.dayParts[c].precipChance||0),c===e.dayParts.length/2-1&&(c%2||(o="precip"===e.dayParts[c].precipType?"mix":e.dayParts[c].precipType),c%2&&(o="precip"===e.dayParts[c].precipType?"mix":e.dayParts[c].precipType));if(Object(r.x)(t,"forecast.terse_phrase")){const e=Object(r.S)(t,"forecast.terse_phrase","");if(e.length>20){const t=e.split(" ");n=t.splice(0,t.length/2).join(" "),i=t.join(" ")}else n=e}return""!==n&&a?{popPhraseOne:n,popPhraseTwo:i,chanceOfPrecip:a,precipType:o}:{popPhraseOne:"No Data",popPhraseTwo:"",chanceOfPrecip:[],precipType:""}}(t[0],t[1]),t=>console.log("onError: %s",t),()=>this.createChart())}getCityLocation(t){return{lat:Object(r.S)(t,"latitude",0),long:Object(r.S)(t,"longitude",0)}}}return t.\u0275fac=function(e){return new(e||t)(o.jc(l.l),o.jc(d.c),o.jc(p.c),o.jc(h.j),o.jc(g.b))},t.\u0275cmp=o.dc({type:t,selectors:[["lib-precip-tile"]],viewQuery:function(t,e){if(1&t&&o.qd(u,1),2&t){let t;o.Sc(t=o.xc())&&(e.barsContainer=t.first)}},decls:6,vars:1,consts:[[3,"href"],["id","precipTopBar",1,"tile-title"],["id","precipColorBar"],["id","precipBarChart"],["precipBars",""],[1,"hook-arrow"]],template:function(t,e){1&t&&(o.pc(0,"a",0),o.kc(1,"div",1),o.kc(2,"div",2),o.pc(3,"div",3,4),o.kc(5,"div",5),o.oc(),o.oc()),2&t&&o.Hc("href",e.url+"?cm_ven=localwx_modprecip",o.bd)},styles:['a[_ngcontent-%COMP%]{color:inherit}.hook-arrow[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:130px;width:20px;border-left:1px solid #d7d7d7;background-color:#f7f7f7}.hook-arrow[_ngcontent-%COMP%]:before{transform:rotate(45deg) translateY(-70%);content:"";border-style:solid;border-width:2px 2px 0 0;width:11px;height:11px;display:inline-block;position:absolute;color:#15aadc;top:66px;right:13px}.tile-title[_ngcontent-%COMP%]{color:#1e2023}#precipTopBar[_ngcontent-%COMP%]{width:100%;height:36px;font-family:sans-serif;font-size:14px;background-color:#e7e7e7}#precipColorBar[_ngcontent-%COMP%]{height:2px;width:100%;background-color:#4c4c4c}#precipBarChart[_ngcontent-%COMP%]{width:100%;height:130px;background-color:#f7f7f7;font-family:sans-serif;position:relative}']}),t})()},"19hr":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("fXoL"),o=n("cp0P"),a=n("lJxs"),c=n("8dEr"),s=n("HBZR"),r=n("jwMx"),l=n("Va8Q"),d=n("Wr7N");let p=(()=>{class t{constructor(t,e,n,i,o,a){this.hourlyDalService=t,this.forecastDalService=e,this.astronomyDalService=n,this.userProfile=i,this.iconService=o,this.displayUnitService=a}getForecasts(t,e){return Object(o.a)([this.getHalfDayForecasts(t,e),this.getDailyForecasts(t,e),this.getHourlyForecasts(t,e),this.getAstronomyForecast(t,e)]).pipe(Object(a.a)((t,e)=>{const n=t[0],i=t[1],o=t[2],a=t[3];n[0].day||n.shift();const c=[];for(let s=0,r=0;s<o.length;s++,r++){const t=o[s];if(!t||0===t.length)break;const e=t[0].cityDateTime,l=("0"+e.month).slice(-2),d=("0"+e.date).slice(-2),p=new Date,h=new Date((new Date).setDate(p.getDate()+1));let g="Hourly Forecast for ",u="Hourly for ";const m=t[0].dayOfWeek,b=m.substr(0,3);this.datesAreEqual(e,p)?(g+="Today, ",u+="Today, "):this.datesAreEqual(e,h)&&(g+="Tomorrow, ",u+="Tomorrow, "),g=`${g}${m} ${l}/${d}`,u=`${u}${b} ${l}/${d}`;const f=n[r];if(2===r&&f){const t=parseInt(f.dateTime.date,10),i=+e.date;t===i&&"day"===f.dayOrNight||(r=n.findIndex(e=>t===i&&"day"===e.dayOrNight))}let y=null,v=null;r>-1&&(y=n[r],v=n[++r]||null),a[s]&&i[s]&&(a[s].moon.phase=i[s].moonPhase,a[s].moon.phaseClass=i[s].moonPhaseClass);const O={id:s,title:g,titleShort:u,units:this.getCityUnits(),daySummary:y,nightSummary:v,sun:a[s]?a[s].sun:null,moon:a[s]?a[s].moon:null,precipitation:i[s]?i[s].precipitation:null,highTemp:i[s]?i[s].highTemp:null,lowTemp:i[s]?i[s].lowTemp:null,hourlyForecasts:t,cityDateTime:t[0].cityDateTime};c.push(O)}return this.days=c,this.hourlyForecastsByDay=o,c}))}getHourlyForecasts(t,e){return this.hourlyDalService.getFifteenDayHourlyForecast(`${t},${e}`).pipe(Object(a.a)(t=>{const e=[];for(const o of t){const t=this.parseCityDate(Object(c.S)(o,"validTimeLocal","")),n=Object(c.S)(o,"iconCode",""),i=this.iconService.getIconUrl(n),a="rain"===Object(c.S)(o,"precipType")?"liquidPrecip":"snow",s=Object(c.S)(o,"pressure"),r="liquidPrecip"===a?"rain":"snow",l={timeHour:t.hour,timeSuffix:t.meridiem,cityDateTime:t,dayOfWeek:Object(c.S)(o,"dayOfWeek"),temperature:Object(c.S)(o,"temperature"),feelsLike:Object(c.S)(o,"temperatureFeelsLike"),dewPoint:Object(c.S)(o,"dewPoint"),humidity:Object(c.S)(o,"relativeHumidity"),conditions:Object(c.S)(o,"wxPhraseLong"),conditionsIcon:i,conditionsShort:Object(c.S)(o,"wxPhraseShort"),precipitation:Object(c.S)(o,"precipChance"),liquidPrecipitation:Object(c.S)(o,a),wind:Object(c.S)(o,"windSpeed"),windDirection:Object(c.S)(o,"windDirectionCardinal"),cloudCover:Object(c.S)(o,"cloudCover"),pressure:s,precipDisplayType:r};e.push(l)}const n=[];let i=0;for(;e[i];){const t=[e[i]];i++;let o=e[i];for(;o&&(12!=+o.timeHour||"am"!==o.timeSuffix);)t.push(o),i++,o=e[i];n.push(t)}return n}))}getAstronomyForecast(t,e){const n=new Date;return this.astronomyDalService.getAstronomy(n.getFullYear(),n.getMonth()+1,n.getDate(),`${t},${e}`,15).pipe(Object(a.a)(e=>{const i=[];return e.astroData.forEach(e=>{const o=this.parseCityDate(Object(c.S)(e,"dateLocal"));if(0===i.length&&!this.datesAreEqual(o,n))return;const a={rise:e.sunrise,riseSuffix:e.sunriseMeridiem,set:e.sunset,setSuffix:e.sunsetMeridiem},s={hemisphereClass:+t<0?"moonSouth":"moonNorth",visibility:parseFloat(e.moonEvent.percentIlluminated),rise:e.moonrise,riseSuffix:e.moonriseMeridiem,set:e.moonset,setSuffix:e.moonsetMeridiem};i.push({sun:a,moon:s})}),i}))}getDailyForecasts(t,e){return this.forecastDalService.getDailyForecast(`${t},${e}`,15).pipe(Object(a.a)(t=>{const e=[],n=new Date;return t.days.forEach((t,i)=>{const o=this.parseCityDate(Object(c.S)(t,"validTimeLocal"));if(0===e.length&&!this.datesAreEqual(o,n))return;let a;switch(Object(c.S)(t,"moonPhaseCode")){case"WNG":a="p-waninggibbous";break;case"WXC":a="p-waxingcrescent";break;case"FQ":a="p-firstqrtr";break;case"WNC":a="pwaningcrescent";break;case"LQ":a="p-lastqtr";break;case"F":a="p-full";break;case"WXG":a="p-waxinggibbous";break;case"N":a="p-new";break;default:a="",console.log("Unrecognized moon phase code "+Object(c.S)(t,"moonPhaseCode"))}const s="rain"===Object(c.S)(t,"precipitation.type")?"precipitation.rain":"precipitation.snow",r={precipitation:Object(c.S)(t,s),highTemp:Object(c.S)(t,"temperature.max"),lowTemp:Object(c.S)(t,"temperature.min"),moonPhase:Object(c.S)(t,"moonPhase"),moonPhaseClass:a};e.push(r)}),e}))}getHalfDayForecasts(t,e){return this.forecastDalService.getDailyForecast(`${t},${e}`,15).pipe(Object(a.a)(t=>{const e=[],n=Object(c.S)(t,"dayParts"),i=new Date;return n.forEach((n,o)=>{const a=this.parseCityDate(Object(c.S)(t,`days[${Math.floor(o/2)}].validTimeLocal`));if(0===e.length&&!this.datesAreEqual(a,i))return;const r="rain"===Object(c.S)(n,"precipType")?"qpf":"qpfSnow",l="D"===Object(c.S)(n,"dayOrNight"),d=Object(c.S)(n,"iconCode",""),p=this.iconService.getIconUrl(d),h=Object(c.S)(n,"daypartName","").split(" ")[0].replace(/ ([a-z])/g,(t,e)=>" "+e.toUpperCase());let g=Object(c.S)(n,"daypartName","").substr(0,3);g=l?g:g+" Night";const u={icon:p,dateTime:a,day:h,dayShort:g,dayOrNight:l?"day":"night",precipitation:Object(c.S)(n,"precipChance"),liquidPrecipitation:Object(c.S)(n,r),units:this.displayUnitService.getLabel("qpf"===r?s.c.rain:s.c.snow),summary:Object(c.S)(n,"narrative")};e.push(u)}),e}))}getCityUnits(){return"e"===this.getUserUnits().charAt(0).toLowerCase()?{liquidPrecipitation:"in",temperature:"F",wind:"mph",pressure:"in"}:{liquidPrecipitation:"mm",temperature:"C",wind:"km/h",pressure:"hPa"}}getUserUnits(){return this.userProfile.getUnitFormat().charAt(0).toLowerCase()}getUserLanguage(){return"en-US"}parseCityDate(t){if(!Object(c.I)(t))return this.getDefaultCityDateTime();const e=/(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)\.?\d*([+-])(\d\d):?(\d\d)/.exec(t);if(null===e||10!==e.length)return this.getDefaultCityDateTime();const n=+e[4];return{year:e[1],month:e[2],date:e[3],hour:this.hour24Tohour12(n),minute:e[5],meridiem:n<12?"am":"pm",offset:e[7]+e[8]}}formatLocalTime(t){const e=this.parseCityDate(t);return e?{time:`${e.hour}:${e.minute}`,meridiem:e.meridiem}:{time:"--:--",meridiem:""}}getDefaultCityDateTime(){const t=new Date;return{year:t.getFullYear().toString(),month:(t.getMonth()+1).toString(),date:t.getDate().toString(),hour:this.hour24Tohour12(t.getHours()),minute:t.getMinutes().toString(),meridiem:t.getHours()<12?"am":"pm",offset:t.getTimezoneOffset().toString()}}hour24Tohour12(t){let e;return e=0===t?"12":t<13?t.toString():(t%12).toString(),e}datesAreEqual(t,e){const n=new Date(e.getTime()),i=new Date(n.setUTCHours(n.getUTCHours()+ +t.offset));return t.year===i.getUTCFullYear().toString()&&parseInt(t.month,10)===i.getUTCMonth()+1&&parseInt(t.date,10)===i.getUTCDate()}}return t.\u0275fac=function(e){return new(e||t)(i.tc(r.l),i.tc(r.j),i.tc(r.d),i.tc(l.e),i.tc(d.a),i.tc(s.b))},t.\u0275prov=i.fc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"2N7N":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("fXoL"),o=n("LRne"),a=n("5+tZ"),c=n("8dEr"),s=n("JSYf"),r=n("jwMx"),l=n("8Ozn"),d=n("ofXK"),p=n("DNub");function h(t,e){if(1&t&&(i.pc(0,"div"),i.pc(1,"div",3),i.pc(2,"div",4),i.jd(3,"Pressure"),i.oc(),i.pc(4,"div",5),i.kc(5,"lib-display-unit",6),i.oc(),i.oc(),i.pc(6,"div",3),i.pc(7,"div",4),i.jd(8,"Visibility"),i.oc(),i.pc(9,"div",5),i.kc(10,"lib-display-unit",7),i.oc(),i.oc(),i.pc(11,"div",3),i.pc(12,"div",4),i.jd(13,"Clouds"),i.oc(),i.pc(14,"div",5),i.pc(15,"span",8),i.jd(16),i.oc(),i.oc(),i.oc(),i.pc(17,"div",3),i.pc(18,"div",4),i.jd(19,"Dew Point"),i.oc(),i.pc(20,"div",5),i.kc(21,"lib-display-unit",9),i.oc(),i.oc(),i.pc(22,"div",3),i.pc(23,"div",4),i.jd(24,"Humidity"),i.oc(),i.pc(25,"div",5),i.kc(26,"lib-display-unit",10),i.oc(),i.oc(),i.pc(27,"div",3),i.pc(28,"div",4),i.jd(29,"Rainfall"),i.oc(),i.pc(30,"div",5),i.kc(31,"lib-display-unit",11),i.oc(),i.oc(),i.pc(32,"div",3),i.pc(33,"div",4),i.jd(34,"Snow Depth"),i.oc(),i.pc(35,"div",5),i.kc(36,"lib-display-unit",12),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac();i.Vb(5),i.Hc("dynamicDecimals",!0)("value",t.conditions.pressure),i.Vb(5),i.Hc("dynamicDecimals",!0)("extendedLabel",!0)("value",t.conditions.visibility),i.Vb(6),i.kd(t.conditions.cloudCover),i.Vb(5),i.Hc("dynamicDecimals",!0)("value",t.conditions.dew),i.Vb(5),i.Hc("dynamicDecimals",!0)("value",t.conditions.humidity),i.Vb(5),i.Hc("dynamicDecimals",!0)("value",t.conditions.rain),i.Vb(5),i.Hc("dynamicDecimals",!0)("value",t.conditions.snow)}}function g(t,e){1&t&&(i.pc(0,"div",13),i.pc(1,"div",14),i.jd(2," Metar data not available "),i.oc(),i.oc())}let u=(()=>{class t{constructor(t,e){this.station=t,this.forecastDal=e,this.conditions={iconCode:0,temperature:0,phrase:"",cloudCover:"",pressure:0,visibility:0,dew:0,humidity:0,rain:0,snow:0}}ngOnInit(){this.station.currentStation.pipe(Object(a.a)(t=>{const e=Object(c.S)(t,"latitude",0).toString(),n=Object(c.S)(t,"longitude",0).toString();return Object(o.a)({latitude:e,longitude:n})})).subscribe(t=>{this.forecastDal.getCurrentConditions(`${t.latitude},${t.longitude}`).subscribe(t=>{this.conditions=t})})}}return t.\u0275fac=function(e){return new(e||t)(i.jc(s.c),i.jc(r.j))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-additional-conditions"]],decls:4,vars:2,consts:[["title","Additional Conditions"],[4,"ngIf","ngIfElse"],["notavailable",""],[1,"row"],[1,"small-4","columns"],[1,"small-8","columns"],["type","pressure",3,"dynamicDecimals","value"],["type","distance",3,"dynamicDecimals","extendedLabel","value"],[1,"wx-value"],["type","temperature",3,"dynamicDecimals","value"],["type","humidity",3,"dynamicDecimals","value"],["type","rain",3,"dynamicDecimals","value"],["type","snow",3,"dynamicDecimals","value"],[1,"row","metar"],[1,"small-12","columns","data-point"]],template:function(t,e){if(1&t&&(i.pc(0,"lib-item-box",0),i.hd(1,h,37,14,"div",1),i.hd(2,g,3,0,"ng-template",null,2,i.id),i.oc()),2&t){const t=i.Tc(3);i.Vb(1),i.Hc("ngIf",e.conditions)("ngIfElse",t)}},directives:[l.a,d.m,p.a],styles:[".content .row{margin-bottom:5px}.metar[_ngcontent-%COMP%]{margin-top:20px;font-family:Consolas,Liberation Mono,Courier,monospace;color:#1e2023;font-weight:700}"]}),t})()},"2aNV":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("fXoL"),o=n("8dEr"),a=n("Wr7N"),c=n("jwMx"),s=n("JSYf"),r=n("jhN1"),l=n("ofXK");const d=function(t){return{"text-align":t}};function p(t,e){if(1&t&&(i.pc(0,"div",1),i.pc(1,"div",2),i.pc(2,"div"),i.pc(3,"div",3),i.pc(4,"i"),i.jd(5),i.oc(),i.pc(6,"strong"),i.jd(7),i.oc(),i.jd(8,": "),i.pc(9,"a",4),i.jd(10),i.oc(),i.jd(11,"\xa0 "),i.pc(12,"span",5),i.jd(13,"("),i.pc(14,"a",4),i.jd(15,"See More"),i.oc(),i.jd(16,")"),i.oc(),i.oc(),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac();i.Hc("ngStyle",i.Nc(12,d,t.align)),i.Vb(2),i.Zb("DF",t.alertsSeverity,""),i.Vb(2),i.Zb("DF-",t.alertsSeverity," material-icons"),i.Vb(1),i.kd(t.severeClass),i.Vb(2),i.ld("Active ",t.advisoryType,""),i.Vb(2),i.Hc("href",t.activeAlertLink,i.bd),i.Vb(1),i.kd((null==t.activeAlert?null:t.activeAlert.title)||"-/-"),i.Vb(4),i.Hc("href",t.activeAlertLink,i.bd)}}let h=(()=>{class t{constructor(t,e,n,i){this.linksService=t,this.alertsService=e,this.stationService=n,this.domSanitizer=i,this.type="",this.align="left",this.severeClass="",this.alertTypes={W:"Warning",A:"Watch",Y:"Advisory",S:"Statement",R:"Report",O:"Outlook",F:"Forecast",N:"Synopsis",L:"Alert"}}ngOnInit(){this.latitude||this.longitude?this.getAlerts():this.stationService.currentStation.subscribe(t=>{t&&(this.latitude=Object(o.S)(t,"latitude",0),this.longitude=Object(o.S)(t,"longitude",0),this.getAlerts())})}getAlerts(){this.alertsService.getAlerts(this.latitude,this.longitude).subscribe(t=>{this.alertsSeverity=this.getAlertsSeverity(t),this.activeAlert=t.find(t=>t.severity===this.alertsSeverity),this.severeClass=5===this.alertsSeverity?"info":"warning",this.advisoryType=this.alertTypes[Object(o.S)(this.activeAlert,"significance","")],this.activeAlertLink=this.safeUrl(this.linksService.cityLinks.severe)})}safeUrl(t){return this.domSanitizer.bypassSecurityTrustUrl(t)}getAlertsSeverity(t){return t.reduce((t,e)=>t<e.severity?t:e.severity,5)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(a.c),i.jc(c.b),i.jc(s.c),i.jc(r.c))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-severe-alert"]],inputs:{latitude:"latitude",longitude:"longitude",type:"type",align:"align"},decls:1,vars:1,consts:[["class","row alert-row",3,"ngStyle",4,"ngIf"],[1,"row","alert-row",3,"ngStyle"],["id","alert-wrapper",1,"alert-wrapper","columns","small-12"],[1,"alert-inner"],[3,"href"],[1,"see-more"]],template:function(t,e){1&t&&i.hd(0,p,17,14,"div",0),2&t&&i.Hc("ngIf",null==e.activeAlert?null:e.activeAlert.significance)},directives:[l.m,l.n],styles:[".alert-row[_ngcontent-%COMP%]{margin:0;max-width:none}.alert-row.wide[_ngcontent-%COMP%]   .alert-inner[_ngcontent-%COMP%]{text-align:left}.alert-row.wide[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:0}.alert-row[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{padding:0}.alert-row[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:3px}.DF1[_ngcontent-%COMP%]{background-color:#d5202a;border:1px solid #d5202a}.DF2[_ngcontent-%COMP%]{background-color:#f83;border:1px solid #f83}.DF3[_ngcontent-%COMP%]{background-color:#ffb92f;border:1px solid #ffb92f}.DF4[_ngcontent-%COMP%], .DF5[_ngcontent-%COMP%]{background-color:#8a8a8a;border:1px solid #8a8a8a}.alert-inner[_ngcontent-%COMP%]{max-width:80rem;margin-left:auto;margin-right:auto;color:#fff;height:auto;padding:3px 10px;line-height:28px;font-size:13px}@media screen and (min-width:64em){.alert-inner[_ngcontent-%COMP%]{height:40px;font-size:.9375rem;line-height:36px}}.alert-inner[_ngcontent-%COMP%]   A[_ngcontent-%COMP%]{text-decoration:underline;color:#fff}.alert-inner[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{padding-right:5px}.alert-inner[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:top;font-size:20px;padding:3px 5px 0 0}@media screen and (min-width:64em){.alert-inner[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{padding-top:8px}}"]}),t})()},"4ltn":function(t,e,n){"use strict";var i=n("fXoL"),o=n("ofXK"),a=n("3Pt+"),c=n("FKr1"),s=n("M9IT"),r=n("Dh3D"),l=n("+0xr"),d=n("Qu3c"),p=n("0IaG"),h=n("7EHt"),g=n("STbY"),u=n("NFeN"),m=n("QoAZ"),b=n("D+kW"),f=n("jwMx"),y=n("JSYf"),v=n("HBZR"),O=n("Wr7N"),C=n("quDv"),w=n("0E4F"),P=n("4MAt");n("2N7N"),n("uIbo"),n("BU5o"),n("saHA"),n("EyG8"),n("Tg9P"),n("us7i"),n("iN+g"),n("rUsK"),n("MHEe"),n("acWY"),n("KT8P"),n("0t3G"),n("qlze"),n("0g+/"),n("W4bI"),n("d+en"),n("rddR"),n("2aNV"),n("LAzf"),n("stX5"),n("i7Xh"),n("DRYS"),n("JxCN");var M=n("v+dX"),x=(n("PV2S"),n("ehsb"));let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.hc({type:t}),t.\u0275inj=i.gc({providers:[x.a],imports:[[o.c,a.l,a.x,b.a,P.a,c.h,l.n,r.c,s.b,d.b,h.b,g.c,m.a,f.h,y.a,v.a,O.b,C.b,w.a,M.b,u.b,p.f]]}),t})();n("60Qe"),n("SIdu");var S=n("U22Q"),j=n("Cfvw"),k=n("lJxs"),D=n("tyNb");let V=(()=>{class t{constructor(t,e,n){this.location=t,this.router=e,this.contentDalService=n}resolve(t,e){return Object(j.a)(this.contentDalService.getVideos("pl-wunderground-top-stories")).pipe(Object(k.a)(t=>({videos:t})))}}return t.\u0275fac=function(e){return new(e||t)(i.tc(o.i),i.tc(D.c),i.tc(f.e))},t.\u0275prov=i.fc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();n("ezK1"),n("19hr"),n.d(e,"b",(function(){return _})),n.d(e,"a",(function(){return S.a})),n.d(e,"c",(function(){return V}))},"60Qe":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("fXoL"),o=n("2Vo4"),a=n("8dEr"),c=n("Va8Q");let s=(()=>{class t{constructor(t){this.userProfileService=t,this.state$=new o.a(this.cloneState({}))}setCurrentStation(t){this.state$.value.station=t,t.pws&&(this.state$.value.isPWS=!0),this.state$.next(this.state$.value)}setStations(t){const e=this.cloneState(this.state$.value);e.hasTooManyStations=t.stations.length>240,e.stations=t.stations.map(t=>{if(t.tempf)t.tempf=t.tempf.toFixed(1);else{if(!t.temp)return;t.temp=t.temp.toFixed(1)}const e=Object(a.S)(t,"type",null);return t.isPWS=this.isPwsStation(e),t.isExternal=!1,t}).filter(t=>t),this.state$.next(e)}updateScrollInfo(t){const e=this.cloneState(this.state$.value);"up"in t&&(e.canScroll.up=t.up),"down"in t&&(e.canScroll.down=t.down),e.canScroll.active=e.canScroll.up||e.canScroll.down,this.state$.next(e)}startLoading(){this.state$.next(this.cloneState(this.state$.value,{loading:!0}))}finishLoading(){this.state$.next(this.cloneState(this.state$.value,{loading:!1}))}updateMapInfo(t){this.state$.next(this.cloneState(this.state$.value,{mapData:t}))}activateStationSelect(){this.state$.next(this.cloneState(this.state$.value,{active:!0}))}deactivateStationSelect(){this.state$.next(this.cloneState(this.state$.value,{active:!1}))}hoverStation(t){this.state$.next(this.cloneState(this.state$.value,{hoveredStation:t}))}leaveStation(){this.state$.next(this.cloneState(this.state$.value,{hoveredStation:null}))}cloneState(t,...e){return Object.assign.apply(null,[{},t,{canScroll:Object.assign({},t.canScroll),mapData:Object.assign({},t.mapData),units:this.userProfileService.getUnitFormat()},...e])}isPwsStation(t){return"PWS"===t}}return t.\u0275fac=function(e){return new(e||t)(i.tc(c.e))},t.\u0275prov=i.fc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},AEll:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(t,e){this.x=t,this.y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.distanceTo=function(t){var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},t.prototype.round=function(){this.x=Math.round(this.x),this.y=Math.round(this.y)},t.prototype.add=function(t){this._x+=t.x,this._y+=t.y},t.prototype.toString=function(){return[this.x,this.y].join()},t}()},BU5o:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("fXoL"),o=n("8dEr"),a=n("3ia6");let c=(()=>{class t{constructor(t,e,n){this.renderer=t,this.el=e,this.env=n,this.campaignName="",this.link="",this.campaignKey="cm_ven"}ngOnInit(){this.env.isBrowser&&(this.link?this.setLink():this.renderer.listen(this.el.nativeElement,"click",this.track.bind(this)))}setLink(){if(this.link){const t=this.link.indexOf("?")>=0?"&":"?";this.el.nativeElement.setAttribute("href",this.link+t+this.campaignKey+"="+this.campaignName)}}track(){if(Object(o.x)(window,"s")){const t=window.s;t.linkTrackVars="campaign",t.campaign=this.campaignName,t.tl(!0,"o",this.campaignName)}}}return t.\u0275fac=function(e){return new(e||t)(i.jc(i.U),i.jc(i.r),i.jc(a.b))},t.\u0275dir=i.ec({type:t,selectors:[["","trackClick",""]],inputs:{campaignName:["trackClick","campaignName"],link:["href","link"]}}),t})()},DRYS:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n("fXoL"),o=n("8dEr"),a=n("cp0P"),c=n("IzEk"),s=n("vkgz"),r=n("U22Q"),l=n("jwMx"),d=n("9Okg"),p=n("3ia6"),h=n("ofXK");function g(t,e){if(1&t&&(i.pc(0,"td"),i.jd(1),i.oc()),2&t){const t=e.$implicit;i.Vb(1),i.kd(t)}}function u(t,e){if(1&t&&(i.pc(0,"td"),i.jd(1),i.oc()),2&t){const t=e.$implicit;i.Vb(1),i.kd(t)}}function m(t,e){if(1&t&&(i.pc(0,"tr"),i.pc(1,"th"),i.jd(2),i.oc(),i.hd(3,u,2,1,"td",5),i.oc()),2&t){const t=e.$implicit;i.Vb(2),i.kd(t.title),i.Vb(1),i.Hc("ngForOf",t.data)}}function b(t,e){if(1&t){const t=i.qc();i.nc(0),i.pc(1,"thead"),i.pc(2,"tr",6),i.wc("click",(function(e){return i.Xc(t),i.Ac(2).collapse(e)})),i.pc(3,"th"),i.jd(4),i.oc(),i.hd(5,g,2,1,"td",5),i.pc(6,"td",7),i.zc(),i.pc(7,"svg",8),i.pc(8,"title"),i.jd(9,"Polygon"),i.oc(),i.kc(10,"polygon",9),i.oc(),i.oc(),i.oc(),i.oc(),i.yc(),i.pc(11,"tbody"),i.hd(12,m,4,2,"tr",5),i.oc(),i.mc()}if(2&t){const t=e.$implicit;i.Vb(4),i.kd(t.header.title),i.Vb(1),i.Hc("ngForOf",t.header.data),i.Vb(7),i.Hc("ngForOf",t.rows)}}function f(t,e){if(1&t&&(i.pc(0,"table",4),i.hd(1,b,13,3,"ng-container",5),i.oc()),2&t){const t=i.Ac();i.Vb(1),i.Hc("ngForOf",t.data)}}function y(t,e){1&t&&i.jd(0," No data recorded ")}let v=(()=>{class t{constructor(t,e,n,i,r){this.cityHistoryService=t,this.historyService=e,this.astronomyService=n,this.currentStation=i,this.env=r,this.isBrowser=this.env.isBrowser,this.hasValue=!1,this.geocode="",this.locationCode="",this.userUnits={liquidPrecipitation:"",temperature:"",wind:"",pressure:""},this.isBrowser&&Object(a.a)(t.date$,i.pipe(Object(c.a)(1))).pipe(Object(s.a)(([t,e])=>{const{type:n}=t,i=`${Object(o.S)(e,"pws.latitude",0)},${Object(o.S)(e,"pws.longitude",0)}`,a=`${Object(o.S)(e,"pws.id","")}:9:${Object(o.S)(e,"countryCode")}`,c=t.year,s=t.month,r=t.date;switch(this.userUnits=this.cityHistoryService.getUserUnits(),this.geocode=i,this.locationCode=a,this.year=c,this.month=s,this.date=r,n){case"daily":this.getDailySummary();break;case"weekly":this.getWeeklySummary();break;case"monthly":this.getMonthlySummary()}})).subscribe()}collapse(t){let e=t.target;for(;e&&"THEAD"!==e.nodeName;)e=e.parentNode;e&&e.classList.toggle("closed")}getDailySummary(){this.historyService.getDay(this.geocode,this.locationCode,this.year,this.month,this.date).subscribe(t=>{const e=(new Date(1e3*t.precipitation.rain.actual.time).toISOString().split("T")[1]||"").split(".")[0];this.data=[{header:{title:`Temperature (\xb0${this.userUnits.temperature})`,data:["Actual","Historic Avg.","Record"]},rows:[{title:"High Temp",data:[t.temperature.actual.max.toString(),t.temperature.avg.max.toString(),t.temperature.record.max&&t.temperature.record.max.toString()||"--"]},{title:"Low Temp",data:[t.temperature.actual.min.toString(),t.temperature.avg.min.toString(),t.temperature.record.min&&t.temperature.record.min.toString()||"--"]},{title:"Day Average Temp",data:[t.temperature.actual.avg.toString(),t.temperature.avg.val?t.temperature.avg.val.toString():"--","-"]}]},{header:{title:`Precipitation (${this.userUnits.liquidPrecipitation})`,data:["Actual","Historic Avg.","Record"]},rows:[{title:`Precipitation (past 24 hours from ${e})`,data:[t.precipitation.rain.actual.val.toFixed(2),t.precipitation.rain.avg.val?t.precipitation.rain.avg.val.toFixed(2):"--","-"]}]},{header:{title:`Dew Point (\xb0${this.userUnits.temperature})`,data:["Actual","Historic Avg.","Record"]},rows:[{title:"Dew Point",data:[t.dewpoint.actual.avg.toString(),"-","-"]},{title:"High",data:[t.dewpoint.actual.max.toString(),"-","-"]},{title:"Low",data:[t.dewpoint.actual.min.toString(),"-","-"]},{title:"Average",data:[t.dewpoint.actual.avg.toString(),"-","-"]}]},{header:{title:`Wind (${this.userUnits.wind})`,data:["Actual","Historic Avg.","Record"]},rows:[{title:"Max Wind Speed",data:[t.windspeed.actual.max.toString(),"-","-"]},{title:"Visibility",data:[t.visibility.actual.max.toString(),"-","-"]}]},{header:{title:`Sea Level Pressure (${this.userUnits.pressure})`,data:["Actual","Historic Avg.","Record"]},rows:[{title:"Sea Level Pressure",data:[t.pressure.actual.max.toString(),"-","-"]}]}],this.astronomyService.getAstronomy(this.year,this.month,this.date,this.geocode).subscribe(t=>{const e=t.astroData[0];this.data.push({header:{title:"Astronomy",data:["Day Length","Rise","Set"]},rows:[{title:"Actual Time",data:[`${e.lengthOfDay.hours}h ${e.lengthOfDay.minutes}m`,`${e.sunrise} ${e.sunriseMeridiem}`,`${e.sunset} ${e.sunsetMeridiem}`]},{title:"Civil Twilight",data:["",`${e.civilSunrise} ${e.civilSunriseMeridiem}`,`${e.civilSunset} ${e.civilSunsetMeridiem}`]},{title:"Nautical Twilight",data:["",`${e.nauticalSunrise} ${e.nauticalSunriseMeridiem}`,`${e.nauticalSunset} ${e.nauticalSunsetMeridiem}`]},{title:"Astronomical Twilight",data:["",`${e.astronomicalSunrise} ${e.astronomicalSunriseMeridiem}`,`${e.astronomicalSunset} ${e.astronomicalSunsetMeridiem}`]},{title:"Moon: "+e.moonEvent.risePhrase,data:["",`${e.moonrise} ${e.moonriseMeridiem}`,`${e.moonset} ${e.moonsetMeridiem}`]}]})}),this.hasData()},t=>{console.log(t)})}getWeeklySummary(){const t=new Date(this.year,this.month-1,this.date);t.setDate(t.getDate()-t.getDay());const e=new Date(t.getTime());e.setDate(e.getDate()+6),this.historyService.getSummary(this.geocode,this.locationCode,t.getFullYear(),t.getMonth()+1,t.getDate(),e.getFullYear(),e.getMonth()+1,e.getDate()).subscribe(t=>{this.parseData(t)})}getMonthlySummary(){const t=new Date(this.year,this.month-1,1),e=new Date(this.year,this.month,0);this.historyService.getSummary(this.geocode,this.locationCode,t.getFullYear(),t.getMonth()+1,t.getDate(),e.getFullYear(),e.getMonth()+1,e.getDate()).subscribe(t=>{this.parseData(t)})}parseData(t){this.data=[{header:{title:`Temperature (\xb0${this.userUnits.temperature})`,data:["Max","Average","Min"]},rows:[{title:"Max Temperature",data:[t.temperature.max.max.toString(),t.temperature.max.avg.toString(),t.temperature.max.min.toString()]},{title:"Avg Temperature",data:[t.temperature.avg.max.toString(),t.temperature.avg.avg.toString(),t.temperature.avg.min.toString()]},{title:"Min Temperature",data:[t.temperature.min.max.toString(),t.temperature.min.avg.toString(),t.temperature.min.min.toString()]}]},{header:{title:`Dew Point (\xb0${this.userUnits.temperature})`,data:["Max","Average","Min"]},rows:[{title:"Dew Point",data:[t.dewpoint.max.toString(),t.dewpoint.avg.toString(),t.dewpoint.min.toString()]}]},{header:{title:`Precipitation (${this.userUnits.liquidPrecipitation})`,data:["Max","Average","Min","Sum"]},rows:[{title:"Precipitation",data:[t.precipitation.rain.max.toFixed(2),t.precipitation.rain.avg.toFixed(2),t.precipitation.rain.min.toFixed(2),t.precipitation.rain.sum.toFixed(2)]},{title:"Snowdepth",data:[t.precipitation.snow.max.toFixed(2),t.precipitation.snow.avg.toFixed(2),t.precipitation.snow.min.toFixed(2),t.precipitation.snow.sum.toFixed(2)]}]},{header:{title:`Wind (${this.userUnits.wind})`,data:["Max","Average","Min"]},rows:[{title:"Wind",data:[t.windspeed.max.toString(),t.windspeed.avg.toString(),t.windspeed.min.toString()]},{title:"Gust Wind",data:[t.windgust.max.toString(),t.windgust.avg.toString(),t.windgust.min.toString()]}]},{header:{title:`Sea Level Pressure (${this.userUnits.pressure})`,data:["Max","Average","Min"]},rows:[{title:"Sea Level Pressure",data:[t.pressure.max.toString(),t.pressure.avg.toString(),t.pressure.min.toString()]}]}],this.hasData()}hasData(){for(const t of this.data)for(const e of t.rows)for(const t of e.data)t&&(this.hasValue=!0)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(r.a),i.jc(l.k),i.jc(l.d),i.jc(d.b),i.jc(p.b))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-city-history-summary"]],decls:7,vars:2,consts:[[1,"summary-title"],[1,"summary-table"],["aria-labelledby","History summary",4,"ngIf","ngIfElse"],["noData",""],["aria-labelledby","History summary"],[4,"ngFor","ngForOf"],[3,"click"],[2,"height","5px","width","10px"],["width","10","height","5",2,"display","block"],["fill","#000000","points","0,5 5,0 10,5"]],template:function(t,e){if(1&t&&(i.pc(0,"div"),i.pc(1,"div",0),i.jd(2,"Summary"),i.oc(),i.pc(3,"div",1),i.hd(4,f,2,1,"table",2),i.hd(5,y,1,0,"ng-template",null,3,i.id),i.oc(),i.oc()),2&t){const t=i.Tc(6);i.Vb(4),i.Hc("ngIf",e.hasValue)("ngIfElse",t)}},directives:[h.m,h.l],styles:[".summary-title[_ngcontent-%COMP%]{font-size:35px;font-weight:700}.summary-table[_ngcontent-%COMP%]{overflow:hidden;overflow-x:auto}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #a9a9a9}table[_ngcontent-%COMP%]   thead.closed[_ngcontent-%COMP%] + tbody[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]   thead.closed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;text-align:center}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{border:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:unset}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;font-weight:400}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}"]}),t})()},EyG8:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n("AEll"),o=n("fXoL"),a=n("pLZG"),c=n("IzEk"),s=n("3E0/"),r=n("lJxs"),l=n("/uUt"),d=n("8dEr"),p=n("0E4F"),h=n("60Qe"),g=n("JSYf"),u=n("NmnS"),m=function(t,e,n,i){return new(n||(n=Promise))((function(o,a){function c(t){try{r(i.next(t))}catch(e){a(e)}}function s(t){try{r(i.throw(t))}catch(e){a(e)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}r((i=i.apply(t,e||[])).next())}))};const b=[[-9999,17,17,17],[-60,159,148,167],[-55,137,110,160],[-50,117,74,154],[-45,124,64,159],[-40,136,61,165],[-35,149,58,172],[-30,131,65,180],[-25,111,71,188],[-20,91,78,196],[-15,68,91,199],[-10,70,85,201],[-5,23,103,195],[0,18,120,200],[5,31,145,215],[10,42,168,229],[15,54,193,243],[20,48,191,239],[25,40,183,230],[30,31,175,221],[35,50,175,177],[40,82,182,115],[45,113,188,60],[50,147,193,36],[55,182,198,9],[60,244,183,1],[65,254,174,60],[70,254,154,59],[75,253,132,59],[80,236,90,52],[85,218,47,47],[90,213,10,54],[95,218,58,69],[100,220,73,83],[105,223,89,97],[110,226,104,112],[115,229,120,127],[120,232,135,141],[125,232,135,141],[9999,255,232,232]];let f=(()=>{class t{constructor(t,e,n){this.stationSelectService=t,this.station=e,this.injector=n,this.mapFetch=new o.u,this.state$=this.stationSelectService.state$,this.iconImageStrings={},this.state$.pipe(Object(a.a)(t=>t.loading),Object(c.a)(1),Object(s.a)(500)).subscribe(t=>m(this,void 0,void 0,(function*(){yield this.initMap(t),this.state$.pipe(Object(a.a)(t=>t.active),Object(c.a)(1),Object(s.a)(500)).subscribe(t=>this.miniMap.map&&this.miniMap.map.resize())}))),this.state$.pipe(Object(r.a)(t=>t.hoveredStation),Object(l.a)((t,e)=>t===e)).subscribe(t=>this.handleHover(t))}get markers(){return[...this.miniMap.layers.Airports.overlays.map(t=>t.overlays),...this.miniMap.layers.PWS.overlays.map(t=>t.overlays)]}get stations(){const{miniMap:t,markers:e}=this,{map:n,mosaic:i}=t,{gis:o}=i,{Distance:a}=o;return this.miniMap.filter(e.map(t=>t[0].feature),this.filterHandler.bind(this)).map(t=>Object.assign(Object.assign({},t.properties),{id:t.id,temperature:"metric"===this.state$.value.units?Object(d.k)(t.properties.tempf||t.properties.temp).toFixed(2):t.properties.tempf||t.properties.temp,latitude:+t.geoCenter.latitude.toString(),longitude:+t.geoCenter.longitude.toString(),_distance:a.fromPoints(n.geoCenter,t.geoCenter).miles}))}onMarkerClick(t){const e=t.feature.properties;window.location.href=this.station.getStationLink({adm1:e.adm1,adm2:e.adm2,country:e.country,id:t.feature.id,pws:{id:t.feature.id}})}onMarkersHover(t){if(t.length)return this.handleHover(t[0].overlays);this.resetMarkersScale(),this.onMarkerMouseOut()}initMap(t){return m(this,void 0,void 0,(function*(){const{miniMap:t}=this;yield t.initMap(this.state$.value.mapData);const{mosaic:e}=t,{layers:n}=e,{SunFeatureLayerOptions:i}=n,o=this.miniMap.addLayer(new i({id:"PWS",productKey:"614",style:t=>this.styleHandler(t),filter:t=>this.miniMap.filter(t,this.filterHandler.bind(this))})),a=this.miniMap.addLayer(new i({id:"Airports",productKey:"5999",style:t=>this.styleHandler(t),filter:t=>this.miniMap.filter(t,this.filterHandler.bind(this))}));o.updated.addListener(()=>this.onMapChange()),a.updated.addListener(()=>this.onMapChange())}))}onMapChange(){this.stationSelectService.setStations({stations:this.stations})}resetMarkersScale(t){const{station:e}=this.state$.getValue();this.markers.filter(t=>Object(d.S)(e,"pws.id")!==t[0].feature.id).filter(e=>!t||e[0].id!==t.id).forEach(t=>{t[0].scale=1,t[1].fontSize=14;const{currentStation:e}=this.state$.getValue();t[1].offset=new i.a((""+t[1].text).length>2?11:7,Object(d.S)(e,"pws.id")===t[0].feature.id?-22:-17)})}handleHover(t){"string"==typeof t&&(t=this.markers.find(e=>e[0].feature.id===t)),t&&this.markers&&(this.resetMarkersScale(t[0]),t[0].scale=1.24,t[1].fontSize=16,t[1].offset=new i.a((""+t[1].text).length>2?11:7,-22),this.onMarkerMouseOver(t[0].feature.id))}styleHandler(t){const{miniMap:e}=this,{mosaic:n}=e,{overlays:o}=n,{ImageMarker:a,ImageMarkerOptions:c,OverlayGroup:s,TextMarker:r,TextMarkerOptions:l}=o,p=t.properties,{units:h,station:g}=this.state$.getValue(),u=this.getFloat(p,"tempf",this.getFloat(p,"temp",-999)),m=u<=150&&u>=-150?Math.round("metric"===h?u<=150&&u>=-150?5*(u-32)/9:-999:u):"--",f=t.geoCenter,y=b.length;let v=0;for(;v+1<y&&u>=b[v+1][0];)v++;const O=b[v].slice(1);return new s([new a(f,this.getIconImage(O,34),new c({scale:Object(d.S)(g,"pws.id")===t.id?1.25:1,anchor:n.Anchor.BottomRight,rotation:45})),new r(f,(""+m).padStart(2,"0"),new l({anchor:n.Anchor.BottomRight,fontFamily:"Arial",fontWeight:"bold",fontSize:Object(d.S)(g,"pws.id")===t.id?16:14,fontColor:"#fff",alignment:"center",offset:new i.a((""+m).length>2?11:7,Object(d.S)(g,"pws.id")===t.id?-22:-17)}))])}getIconImage(t,e){const n=`rgb(${t.join(",")})`;if(!this.iconImageStrings[n]){const n=document.createElement("canvas");n.setAttribute("width",e.toString()),n.setAttribute("height",e.toString());const i=e/2,o=n.getContext("2d"),a=`rgb(${t.join(",")})`,c=`rgb(${t.map(t=>t-.4*t).join(",")})`;o.beginPath(),o.moveTo(i,e),o.lineTo(e,e),o.lineTo(e,i),o.closePath(),o.fillStyle=c,o.fill(),o.beginPath(),o.lineWidth=3,o.arc(i,i,i-o.lineWidth/2,0,2*Math.PI),o.closePath(),o.fillStyle=a,o.fill(),o.strokeStyle=c,o.stroke(),o.translate(i,i),o.rotate(-45*Math.PI/180),this.iconImageStrings[a]=n.toDataURL("image/png")}return this.iconImageStrings[n]}filterHandler(t){const{miniMap:e}=this,{mosaic:n}=e,{overlays:i}=n,{PointFeature:o}=i,{station:a}=this.state$.getValue(),c=t.find(t=>Object(d.S)(a,"pws.id")!==t.id);return{features:t=t.filter(t=>t!==c).filter(t=>t instanceof o).filter(t=>this.getFloat(t.properties,"tempf",this.getFloat(t.properties,"temp",-999))>-100),fixed:c?[c]:[]}}getFloat(t,e,n){const i=parseFloat(Object(d.S)(t,e,"NaN"));return Number.isNaN(i)?n:i}onMarkerMouseOver(t){this.stationSelectService.hoverStation(t)}onMarkerMouseOut(){this.stationSelectService.leaveStation()}}return t.\u0275fac=function(e){return new(e||t)(o.jc(h.a),o.jc(g.c),o.jc(o.D))},t.\u0275cmp=o.dc({type:t,selectors:[["lib-station-select-map"]],viewQuery:function(t,e){if(1&t&&o.qd(p.b,1),2&t){let t;o.Sc(t=o.xc())&&(e.miniMap=t.first)}},outputs:{mapFetch:"mapFetch"},decls:1,vars:0,consts:[[3,"markersHover","markersClick"]],template:function(t,e){1&t&&(o.pc(0,"lib-mini-map",0),o.wc("markersHover",(function(t){return e.onMarkersHover(t)}))("markersClick",(function(t){return e.onMarkerClick(t[0])})),o.oc())},directives:[u.a],styles:["[_nghost-%COMP%]{display:block}"]}),t})()},JxCN:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("fXoL"),o=n("cp0P"),a=n("IzEk"),c=n("vkgz"),s=n("8dEr"),r=n("HBZR"),l=n("v+dX"),d=n("U22Q"),p=n("jwMx"),h=n("9Okg"),g=n("3ia6"),u=n("bY9G");let m=(()=>{class t{constructor(t,e,n,i,r,l,d){this.cityHistoryService=t,this.historyService=e,this.locationService=n,this.currentStation=i,this.unitTranslator=r,this.env=l,this.wuChartUtils=d,this.isBrowser=this.env.isBrowser,this.geocode="",this.locationCode="",this.isBrowser&&Object(o.a)(t.date$,i.pipe(Object(a.a)(1))).pipe(Object(c.a)(([t,e])=>{const{type:i}=t,o=Object(s.M)(e,"pws.id",""),a=`${Object(s.M)(e,"pws.latitude",0)},${Object(s.M)(e,"pws.longitude",0)}`,c=`${o}:9:${Object(s.M)(e,"countryCode")}`;this.year=t.year,this.month=t.month,this.date=t.date,this.geocode=a,this.locationCode=c,n.getLocationPoint(o,"icaoCode").subscribe(t=>{switch(i){case"daily":this.getDailySummary();break;case"weekly":this.getWeeklySummary();break;case"monthly":this.getMonthlySummary()}})})).subscribe()}getDailySummary(){this.historyService.getObservations(this.geocode,this.locationCode,this.year,this.month,this.date).subscribe(t=>{const{Line:e,Scatter:n}=l.d,{Temperature:i,PrecipitationRate:o,Gusts:a,WindDirection:c,WindSpeed:s}=l.f,d=this.unitTranslator.getTranslationKey(r.c.temperature,!1),p=this.unitTranslator.getTranslationKey(r.c.rain,!1),h=this.unitTranslator.getTranslationKey(r.c.speed,!1),{year:g,month:u,date:m}=this;this.data={mode:l.e.DAILY,buffer:5,domain:[new Date(g,u-1,m).getTime()].concat(t.map(({date:t})=>t.getTime())),charts:[{[e]:[{legend:`Temperature (\xb0${d})`,label:"${"+i+"} \xb0"+d,type:i,values:t.map((t,e)=>({x:t.date.getTime(),y:t.temperature}))}]},{[e]:[{legend:`Precipitation (${p})`,label:"${"+o+"} "+p,type:o,values:t.map((t,e)=>({x:t.date.getTime(),y:t.precipRate}))}]},{[e]:[{legend:"Wind Speed",label:e=>{const n=t.find(t=>t.date.getTime()===e.x),{windSpeed:i,wind:o}=n,a=this.wuChartUtils.degreesToCardinal(o);return`${i} ${h} from ${a}`},type:s,values:t.map(t=>({x:t.date.getTime(),y:t.windSpeed}))},{legend:`Gust (${h})`,label:"${"+a+"} "+h,type:a,plotPoint:t=>t>0,values:t.map(t=>({x:t.date.getTime(),y:t.windGust}))}],[n]:[{type:c,drawPoint:(e,n,i)=>{e.append("path").attr("class","dir-arrow").attr("d",()=>this.wuChartUtils.getArrowMarkerPathData(7,11)).attr("transform",e=>{const o=t.find(({date:t})=>t.getTime()===e.x),{wind:a}=o;return`translate(${n-3.5}, ${i-5.5}) rotate(${a+180} 3.5 5.5)`})},values:t.map((t,e)=>({x:t.date.getTime(),y:t.windSpeed}))}]}]}})}getWeeklySummary(){const t=new Date(this.year,this.month-1,this.date);t.setDate(t.getDate()-t.getDay());const e=new Date(t.getTime());e.setDate(e.getDate()+6),this.getSummary(t,e,l.e.WEEKLY)}getMonthlySummary(){const t=new Date(this.year,this.month-1,1),e=new Date(this.year,this.month,0);this.getSummary(t,e,l.e.MONTHLY)}getSummary(t,e,n=l.e.WEEKLY){this.historyService.getDays(this.geocode,this.locationCode,t.getFullYear(),t.getMonth()+1,t.getDate(),e.getFullYear(),e.getMonth()+1,e.getDate()).subscribe(i=>{const{Line:o}=l.d,{MaxTemperature:a,MinTemperature:c,AvgTemperature:s,WindSpeed:d}=l.f,p=this.unitTranslator.getTranslationKey(r.c.temperature,!1),h=this.unitTranslator.getTranslationKey(r.c.speed,!1);this.data={mode:n,buffer:5,timeSeries:{startTime:t,endTime:e,data:i.map(({day:t,month:e,year:n})=>new Date(n,e-1,t).getTime())},charts:[{[o]:[{legend:"Temperature (Max)",label:"(Max) ${"+a+"} \xb0"+p,type:a,values:i.map((t,e)=>{const{year:n,month:i,day:o}=t;return{x:new Date(n,i-1,o).getTime(),y:t.temperature.actual.max}})},{legend:"Temperature (Avg)",label:"(Avg): ${"+s+"} \xb0"+p,type:s,values:i.map((t,e)=>{const{year:n,month:i,day:o}=t;return{x:new Date(n,i-1,o).getTime(),y:t.temperature.actual.avg}})},{legend:"Temperature (Min)",label:"(Min): ${"+c+"} \xb0"+p,type:c,values:i.map((t,e)=>{const{year:n,month:i,day:o}=t;return{x:new Date(n,i-1,o).getTime(),y:t.temperature.actual.min}})}]},...this.checkRainSnow(i),{[o]:[{legend:"Wind (Max)",label:"${"+d+"} "+h,type:d,values:i.map((t,e)=>{const{year:n,month:i,day:o}=t;return{x:new Date(n,i-1,o).getTime(),y:t.windspeed.actual.max}})}]}]}})}checkRainSnow(t){const{Line:e}=l.d,n=[],{Precipitation:i,AvgPrecipitation:o,ChanceOfSnow:a}=l.f,c=this.unitTranslator.getTranslationKey(r.c.rain,!1);let s=!1;n.push({legend:"Precip",label:"${"+i+"} "+c,type:i,values:t.map((t,e)=>{const{year:n,month:i,day:o}=t;return{x:new Date(n,i-1,o).getTime(),y:t.precipitation.rain.actual.val||0}})}),n.push({legend:"Precip (Avg)",label:"${"+o+"} "+c,type:o,values:t.map((t,e)=>{const{year:n,month:i,day:o}=t;return{x:new Date(n,i-1,o).getTime(),y:t.precipitation.rain.avg.val||0}})});const d={legend:"Snow",label:"${"+a+"} "+this.unitTranslator.getLabel(r.c.snow),values:t.map((t,e)=>{t.precipitation.snow.actual.val&&(s=!0);const{year:n,month:i,day:o}=t;return{x:new Date(n,i-1,o).getTime(),y:t.precipitation.snow.actual.val}})};return s&&n.push(d),[{[e]:n}]}}return t.\u0275fac=function(e){return new(e||t)(i.jc(d.a),i.jc(p.k),i.jc(p.o),i.jc(h.b),i.jc(r.b),i.jc(g.b),i.jc(l.g))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-city-history-chart"]],decls:1,vars:1,consts:[[3,"data"]],template:function(t,e){1&t&&i.kc(0,"lib-wu-chart",0),2&t&&i.Hc("data",e.data)},directives:[u.a],styles:["lib-city-history-chart div.charts-container{margin-top:0;margin-bottom:0}  lib-city-history-chart div.charts-container div.canvas-bounds>div.charts-canvas{margin-top:-5px}  lib-city-history-chart div.charts-container div.canvas-bounds>div.charts-canvas .legend{margin-top:-10px}","lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.wc-base-chart{fill:none}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.wc-base-chart .bar-on{fill:#f7f7f7}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.maxtemp{stroke:#990008}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.mintemp{stroke:#e55c5c}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.avgtemp{stroke:#d5202a}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.precip{stroke:#008fbf}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.avgprecip{stroke:#19aadb}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.preciprate{stroke:#008fbf}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.gusts{stroke:#6697cc}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.windspeed{stroke:#0053ae}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.windspeed path{stroke-width:.5px}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .plot.winddir .dir-arrow{fill:#0053ae}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .legend .maxtemp .legend-key{background-color:#990008}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .legend .mintemp .legend-key{background-color:#e55c5c}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .legend .avgtemp .legend-key{background-color:#d5202a}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .legend .precip .legend-key{background-color:#008fbf}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .legend .avgprecip .legend-key{background-color:#19aadb}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .legend .preciprate .legend-key{background-color:#008fbf}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .legend .gusts .legend-key{background-color:#6697cc}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .legend .windspeed .legend-key{background-color:#0053ae}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .callout.maxtemp{color:#990008}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .callout.mintemp{color:#e55c5c}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .callout.avgtemp{color:#d5202a}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .callout.precip{color:#008fbf}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .callout.avgprecip{color:#19aadb}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .callout.preciprate{color:#008fbf}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .callout.gusts{color:#6697cc}  lib-city-history-chart div.charts-container>div.canvas-bounds>div.charts-canvas .callout.windspeed{color:#0053ae}"]}),t})()},KT8P:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var i=n("fXoL"),o=n("IzEk"),a=n("bOdf"),c=n("8dEr"),s=n("SIdu"),r=n("Wr7N"),l=n("Va8Q"),d=n("jwMx"),p=n("JSYf"),h=n("3ia6"),g=n("ofXK"),u=n("BU5o"),m=n("DNub");function b(t,e){if(1&t&&(i.pc(0,"span",17),i.jd(1," | "),i.kc(2,"lib-display-unit",13),i.oc()),2&t){const t=i.Ac(2).$implicit;i.Vb(2),i.Hc("isDegreeVisible","true")("type","temperature")("value",t.nightTemp)}}function f(t,e){if(1&t&&(i.pc(0,"span"),i.jd(1,"/ "),i.kc(2,"lib-display-unit",18),i.oc()),2&t){const t=i.Ac(2).$implicit;i.Vb(2),i.Hc("type",t.precipType)("value","snow"===t.precipType?t.qpfSnow:t.qpf)}}const y=function(t){return{"has-secondary":t}};function v(t,e){if(1&t&&(i.pc(0,"div"),i.pc(1,"a",4),i.Bc(2,"date"),i.pc(3,"div",5),i.pc(4,"div",6),i.kc(5,"img",7),i.oc(),i.pc(6,"div",8),i.pc(7,"span",9),i.jd(8),i.oc(),i.pc(9,"span",10),i.jd(10),i.Bc(11,"date"),i.oc(),i.pc(12,"span",11),i.pc(13,"span",12),i.jd(14),i.kc(15,"lib-display-unit",13),i.oc(),i.hd(16,b,3,3,"span",14),i.oc(),i.oc(),i.oc(),i.oc(),i.pc(17,"div",5),i.pc(18,"div",15),i.pc(19,"a",16),i.jd(20),i.hd(21,f,3,2,"span",3),i.oc(),i.kc(22,"br"),i.pc(23,"a",4),i.Bc(24,"date"),i.jd(25),i.oc(),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac().$implicit,e=i.Ac();i.Vb(1),i.Kc("href","",e.hourlyLink,"/date/",i.Dc(2,21,t.date,"yyyy-MM-dd"),"",i.bd),i.Hc("trackClick","localwx_mod"+t.dayId),i.Vb(4),i.Kc("src","//",e.staticHost,"/static/i/c/v4/",t.iconCode,".svg",i.bd),i.Vb(3),i.kd(t.daypartName),i.Vb(2),i.kd(i.Dc(11,24,t.date,"EEE MM/dd")),i.Vb(3),i.Hc("ngClass",i.Nc(30,y,t.nightTemp||0===t.nightTemp)),i.Vb(1),i.ld(" ",t.tempType," "),i.Vb(1),i.Hc("isDegreeVisible","true")("type","temperature")("value",t.temperature),i.Vb(1),i.Hc("ngIf",t.nightTemp),i.Vb(3),i.Hc("href",e.precipLink,i.bd)("trackClick","localwx_precip"),i.Vb(1),i.ld("",t.precipChance,"% Precip. "),i.Vb(1),i.Hc("ngIf",t.precipType),i.Vb(2),i.Kc("href","",e.hourlyLink,"/date/",i.Dc(24,27,t.date,"yyyy-MM-dd"),"",i.bd),i.Hc("trackClick","localwx_mod"+t.dayId),i.Vb(2),i.kd(t.narrative)}}const O=function(t){return{"no-data":t}};function C(t,e){if(1&t&&(i.pc(0,"div",2),i.hd(1,v,26,32,"div",3),i.oc()),2&t){const t=e.$implicit;i.Hc("ngClass",i.Nc(2,O,!t.hasData)),i.Vb(1),i.Hc("ngIf",t.hasData)}}let w=(()=>{class t{constructor(t,e,n,i,s,r){this.forecastService=t,this.cityLinksService=e,this.userProfileService=n,this.dailyDalService=i,this.stationService=s,this.env=r,this.daysToShow=3,this.forecast=[],this.hourlyLink="",this.precipLink="",this.staticHost=this.env.apiVars.endpoints.staticHost,this.cityLinksService.getCityLinks().subscribe(t=>{this.hourlyLink=t.hourly,this.precipLink=t.precipitation}),this.stationService.currentStation.pipe(Object(o.a)(1),Object(a.a)(t=>this.dailyDalService.getThreeDayForecast(`${Object(c.S)(t,"latitude",null)},${Object(c.S)(t,"longitude",null)}`))).subscribe(t=>{if(t.days.length>=this.daysToShow){const e=Object(c.S)(t,"dayParts",[]);this.forecast=e[0].daypartName?e.slice(0,this.daysToShow):e.slice(1,this.daysToShow+1),this.forecast.forEach((t,n)=>{t.hasData=Object(c.I)(t.daypartName)&&Object(c.I)(t.temperature),t.tempType="N"===t.dayOrNight?"Low":"High",t.dayId="",t.daypartName&&(t.dayId=t.daypartName.toLowerCase().replace(/ /g,"_")),n===this.forecast.length-1&&"D"===t.dayOrNight&&e.length>this.forecast.length&&(t.nightTemp=e[n+1].temperature,t.nightTempType="LO")})}})}}return t.\u0275fac=function(e){return new(e||t)(i.jc(s.a),i.jc(r.c),i.jc(l.e),i.jc(d.g),i.jc(p.c),i.jc(h.b))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-city-today-forecast"]],decls:2,vars:1,consts:[[1,"row","collapse","today-forecast-wrap"],["class","small-12 medium-4 large-4 columns forecast-wrap",3,"ngClass",4,"ngFor","ngForOf"],[1,"small-12","medium-4","large-4","columns","forecast-wrap",3,"ngClass"],[4,"ngIf"],[1,"module-link",3,"href","trackClick"],[1,"columns","small-6","medium-12"],[1,"columns","small-4","medium-3","icon-wrap"],["alt","icon",3,"src"],[1,"columns","small-8","medium-9","forecast-box-header"],[1,"day"],[1,"date"],[1,"temp"],[1,"primary-temp",3,"ngClass"],[3,"isDegreeVisible","type","value"],["class","secondary-temp",4,"ngIf"],[1,"columns","small-12"],[1,"hook",3,"href","trackClick"],[1,"secondary-temp"],[3,"type","value"]],template:function(t,e){1&t&&(i.pc(0,"div",0),i.hd(1,C,2,4,"div",1),i.oc()),2&t&&(i.Vb(1),i.Hc("ngForOf",e.forecast))},directives:[g.l,g.k,g.m,u.a,m.a],pipes:[g.e],styles:[".forecast-wrap[_ngcontent-%COMP%]{background-color:#f7f7f7;padding:10px 5px;min-height:210px}.today-forecast-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (min-width:640px){.today-forecast-wrap[_ngcontent-%COMP%]{flex-direction:row}}.forecast-wrap[_ngcontent-%COMP%]:nth-child(2n){background-color:#e7e7e7}.no-data.forecast-wrap[_ngcontent-%COMP%]:nth-child(2n){background-color:#f7f7f7}.alert-signup-wrap[_ngcontent-%COMP%]{display:flex;text-align:center;align-items:center;background:none!important;margin-top:20px}.alert-signup-wrap[_ngcontent-%COMP%]   .alert-box[_ngcontent-%COMP%]{height:210px;width:100%;padding:5px;background:#f7f7f7;display:flex;align-items:center;justify-content:center}.alert-signup-wrap[_ngcontent-%COMP%]   .alert-subscribe[_ngcontent-%COMP%]{margin:10px 10px 0}.alert-signup-wrap[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{height:2.7em}.alert-signup-wrap[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]{font-weight:700}@media screen and (min-width:40em){.row.collapse[_ngcontent-%COMP%]   .forecast-wrap[_ngcontent-%COMP%]{padding:15px 0}.icon-wrap[_ngcontent-%COMP%]{padding-right:0}}@media screen and (min-width:64em){.row.collapse[_ngcontent-%COMP%]   .alert-signup-wrap[_ngcontent-%COMP%]{margin:0;padding:0 0 0 15px}}.forecast-box-header[_ngcontent-%COMP%]{margin-bottom:5px}.forecast-box-header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{text-transform:uppercase;display:block}.forecast-box-header[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{color:#4c4c4c;font-weight:700}.forecast-box-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#a3a3a3;font-weight:700}.forecast-box-header[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#8a8a8a}@media screen and (min-width:40em) and (max-width:63.9375em){.row.collapse[_ngcontent-%COMP%]   .alert-signup-wrap[_ngcontent-%COMP%]{height:100px;padding:15px 0}.row.collapse[_ngcontent-%COMP%]   .alert-signup-wrap[_ngcontent-%COMP%]   .alert-box[_ngcontent-%COMP%]{height:100px;background:none}.row.collapse[_ngcontent-%COMP%]   .alert-signup-wrap[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]{font-size:18px;padding:0 10px}.row.collapse[_ngcontent-%COMP%]   .alert-signup-wrap[_ngcontent-%COMP%]   .alert-subscribe[_ngcontent-%COMP%]{margin:0}.alert-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}}.module-link[_ngcontent-%COMP%]{color:#1e2023}.module-link[_ngcontent-%COMP%]:hover{text-decoration:none}  .temp .wu-value{font-weight:700}  .temp .wu-label{font-weight:#1E2023}  .temp .separator{color:#d7d7d7}  .temp .has-secondary .wu-label{display:none}  .temp .secondary-temp{color:#8a8a8a}  .temp .secondary-temp .wu-label{color:#1e2023}"]}),t})()},LAzf:function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));var i=n("fXoL"),o=n("xgIS"),a=n("LRne"),c=n("Kj3r"),s=n("/uUt"),r=n("5+tZ"),l=n("jAAy"),d=n("8dEr"),p=n("19hr"),h=n("JSYf"),g=n("Wr7N"),u=n("ofXK"),m=n("3ia6"),b=n("+0xr"),f=n("DNub");const y=function(t){return{disable:t}};function v(t,e){if(1&t){const t=i.qc();i.pc(0,"div",5),i.pc(1,"div",6),i.pc(2,"span",7),i.pc(3,"button",8),i.wc("click",(function(e){return i.Xc(t),i.Ac().goToPreviousDay(e)})),i.zc(),i.pc(4,"svg",9),i.pc(5,"title"),i.jd(6,"Previous Day"),i.oc(),i.kc(7,"path",10),i.oc(),i.oc(),i.oc(),i.oc(),i.yc(),i.pc(8,"div",11),i.pc(9,"span",12),i.jd(10),i.oc(),i.pc(11,"span",13),i.jd(12),i.oc(),i.oc(),i.pc(13,"div",6),i.pc(14,"span",14),i.pc(15,"button",15),i.wc("click",(function(e){return i.Xc(t),i.Ac().goToNextDay(e)})),i.zc(),i.pc(16,"svg",9),i.pc(17,"title"),i.jd(18,"Next Day"),i.oc(),i.kc(19,"path",10),i.oc(),i.oc(),i.oc(),i.oc(),i.oc()}if(2&t){const t=i.Ac();i.Vb(2),i.Hc("ngClass",i.Nc(4,y,t.dayId<1)),i.Vb(8),i.kd(t.forecastTitle),i.Vb(2),i.kd(t.forecastTitleShort),i.Vb(2),i.Hc("ngClass",i.Nc(6,y,t.dayId>=t.days.length-1))}}function O(t,e){if(1&t&&(i.pc(0,"div",19),i.pc(1,"div",20),i.pc(2,"div",21),i.kc(3,"img",22),i.oc(),i.pc(4,"div",23),i.pc(5,"div",20),i.pc(6,"div",24),i.pc(7,"span",25),i.jd(8),i.oc(),i.pc(9,"span",26),i.jd(10),i.oc(),i.oc(),i.pc(11,"div",27),i.pc(12,"a",28),i.kc(13,"span",29),i.pc(14,"strong"),i.jd(15),i.oc(),i.jd(16,"% / "),i.pc(17,"strong"),i.jd(18),i.oc(),i.jd(19),i.oc(),i.oc(),i.oc(),i.pc(20,"p"),i.jd(21),i.oc(),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(3),i.Ic("src",t.daySummary.icon,i.bd),i.Vb(5),i.kd(t.daySummary.day),i.Vb(2),i.md(" ",t.daySummary.dateTime.month,"/",t.daySummary.dateTime.date,""),i.Vb(2),i.Ic("href",t.precipitationUrl,i.bd),i.Vb(3),i.kd(t.daySummary.precipitation),i.Vb(3),i.ld("",t.daySummary.liquidPrecipitation," "),i.Vb(1),i.ld(" ",t.daySummary.units," "),i.Vb(2),i.kd(t.daySummary.summary)}}function C(t,e){1&t&&(i.pc(0,"span",25),i.jd(1,"Night"),i.oc())}function w(t,e){if(1&t&&(i.pc(0,"div",30),i.pc(1,"div",20),i.pc(2,"div",21),i.kc(3,"img",22),i.oc(),i.pc(4,"div",23),i.pc(5,"div",20),i.pc(6,"div",24),i.pc(7,"span",25),i.jd(8),i.oc(),i.jd(9,"\xa0 "),i.hd(10,C,2,0,"span",31),i.pc(11,"span",32),i.jd(12),i.oc(),i.oc(),i.pc(13,"div",33),i.pc(14,"a",28),i.kc(15,"span",29),i.pc(16,"strong"),i.jd(17),i.oc(),i.jd(18,"% / "),i.pc(19,"strong"),i.jd(20),i.oc(),i.jd(21),i.oc(),i.oc(),i.oc(),i.pc(22,"p"),i.jd(23),i.oc(),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.bc("medium-offset-6",null==t.daySummary),i.Vb(3),i.Ic("src",t.nightSummary.icon,i.bd),i.Vb(5),i.kd(t.nightSummary.day),i.Vb(2),i.Hc("ngIf",t.dayId),i.Vb(2),i.md(" ",t.nightSummary.dateTime.month,"/",t.nightSummary.dateTime.date,""),i.Vb(2),i.Ic("href",t.precipitationUrl,i.bd),i.Vb(3),i.kd(t.nightSummary.precipitation),i.Vb(3),i.ld(" ",t.nightSummary.liquidPrecipitation,""),i.Vb(1),i.ld(" ",t.nightSummary.units," "),i.Vb(2),i.kd(t.nightSummary.summary)}}function P(t,e){if(1&t&&(i.pc(0,"div",16),i.hd(1,O,22,9,"div",17),i.hd(2,w,24,12,"div",18),i.oc()),2&t){const t=i.Ac();i.Vb(1),i.Hc("ngIf",t.daySummary),i.Vb(1),i.Hc("ngIf",t.nightSummary)}}function M(t,e){if(1&t&&(i.pc(0,"div",37),i.pc(1,"div",38),i.pc(2,"div",39),i.kc(3,"span",40),i.oc(),i.pc(4,"div",41),i.pc(5,"div",20),i.pc(6,"div",42),i.pc(7,"span",25),i.jd(8,"Sun"),i.oc(),i.oc(),i.oc(),i.pc(9,"div",38),i.pc(10,"div",43),i.pc(11,"span",44),i.jd(12),i.oc(),i.pc(13,"span",45),i.jd(14),i.oc(),i.oc(),i.pc(15,"div",46),i.pc(16,"span",47),i.jd(17),i.oc(),i.pc(18,"span",45),i.jd(19),i.oc(),i.oc(),i.oc(),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(12),i.kd(t.sun.rise),i.Vb(2),i.kd(t.sun.riseSuffix),i.Vb(3),i.kd(t.sun.set),i.Vb(2),i.kd(t.sun.setSuffix)}}function x(t,e){if(1&t&&(i.pc(0,"div",48),i.pc(1,"div",20),i.pc(2,"div",39),i.kc(3,"span",49),i.oc(),i.pc(4,"div",50),i.pc(5,"div",20),i.pc(6,"div",42),i.pc(7,"span",25),i.jd(8,"Moon"),i.oc(),i.oc(),i.oc(),i.pc(9,"div",20),i.pc(10,"div",46),i.pc(11,"span",51),i.jd(12),i.oc(),i.pc(13,"span",45),i.jd(14),i.oc(),i.oc(),i.pc(15,"div",46),i.pc(16,"span",52),i.jd(17),i.oc(),i.pc(18,"span",45),i.jd(19),i.oc(),i.oc(),i.pc(20,"div",53),i.kc(21,"span"),i.pc(22,"span"),i.pc(23,"strong"),i.jd(24),i.oc(),i.jd(25,"% visible"),i.oc(),i.oc(),i.oc(),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(12),i.kd(t.moon.rise),i.Vb(2),i.kd(t.moon.riseSuffix),i.Vb(3),i.kd(t.moon.set),i.Vb(2),i.kd(t.moon.setSuffix),i.Vb(1),i.Zb("small-12 columns ",t.moon.hemisphereClass,""),i.Vb(1),i.Zb("astro-data ",t.moon.phaseClass,""),i.Vb(3),i.md("",t.moon.phase,", ",t.moon.visibility,"")}}function _(t,e){if(1&t&&(i.pc(0,"div",34),i.hd(1,M,20,4,"div",35),i.hd(2,x,26,12,"div",36),i.oc()),2&t){const t=i.Ac();i.Vb(1),i.Hc("ngIf",t.sun),i.Vb(1),i.Hc("ngIf",t.moon)}}function S(t,e){if(1&t&&(i.pc(0,"th",69),i.jd(1),i.oc()),2&t){const t=i.Ac().$implicit;i.Vb(1),i.kd(t.text)}}function j(t,e){if(1&t&&(i.pc(0,"span"),i.jd(1),i.pc(2,"span",64),i.jd(3,":00"),i.oc(),i.jd(4),i.oc()),2&t){const t=i.Ac().$implicit;i.Vb(1),i.ld(" ",t.timeHour,""),i.Vb(3),i.ld(" ",t.timeSuffix,"")}}function k(t,e){if(1&t&&i.kc(0,"lib-display-unit",75),2&t){const t=i.Ac(2).$implicit,e=i.Ac().$implicit;i.Hc("isDegreeVisible",e.displayUnit.isDegreeVisible)("type",e.displayUnit.getFrom?t[e.displayUnit.getFrom]:e.displayUnit.type)("decimalPositions",0===t[e.field]?0:e.displayUnit.decimalPositions)("value",t[e.field])}}function D(t,e){if(1&t&&(i.pc(0,"a",28),i.hd(1,k,1,4,"lib-display-unit",74),i.oc()),2&t){const t=i.Ac(2).$implicit,e=i.Ac(2);i.Hc("href",e.precipitationUrl,i.bd),i.Vb(1),i.Hc("ngIf",t.displayUnit)}}function V(t,e){if(1&t&&i.kc(0,"lib-display-unit",76),2&t){const t=i.Ac().$implicit,e=i.Ac().$implicit;i.Hc("isDegreeVisible",e.displayUnit.isDegreeVisible)("type",e.displayUnit.type)("decimalPositions",e.displayUnit.decimalPositions)("value",t[e.field])("suffix","wind"===e.field?" "+t.windDirection:"")}}function H(t,e){if(1&t&&(i.pc(0,"span"),i.kc(1,"img",77),i.pc(2,"span",78),i.jd(3),i.oc(),i.pc(4,"span",79),i.jd(5),i.oc(),i.oc()),2&t){const t=i.Ac().$implicit;i.Vb(1),i.Hc("src",t.conditionsIcon,i.bd)("alt",t.conditions),i.Vb(2),i.kd(t.conditions),i.Vb(2),i.kd(t.conditionsShort)}}function T(t,e){if(1&t&&(i.pc(0,"td",70),i.hd(1,j,5,2,"span",71),i.hd(2,D,2,2,"a",72),i.hd(3,V,1,5,"lib-display-unit",73),i.hd(4,H,6,4,"span",71),i.oc()),2&t){const t=i.Ac().$implicit;i.Vb(1),i.Hc("ngIf","timeHour"===t.field),i.Vb(1),i.Hc("ngIf",t.isLink),i.Vb(1),i.Hc("ngIf",!t.isLink&&t.displayUnit),i.Vb(1),i.Hc("ngIf",t.withIcon)}}function I(t,e){1&t&&(i.nc(0,66),i.hd(1,S,2,1,"th",67),i.hd(2,T,5,4,"td",68),i.mc()),2&t&&i.Hc("matColumnDef",e.$implicit.field)}function A(t,e){1&t&&i.kc(0,"tr",80)}function L(t,e){1&t&&i.kc(0,"tr",81)}function $(t,e){1&t&&i.kc(0,"tr",82)}function F(t,e){if(1&t){const t=i.qc();i.pc(0,"button",65),i.wc("click",(function(e){return i.Xc(t),i.Ac(2).revealNextInterval(e)})),i.jd(1,"NEXT 8 HOURS"),i.oc()}}function U(t,e){if(1&t){const t=i.qc();i.pc(0,"button",65),i.wc("click",(function(e){return i.Xc(t),i.Ac(2).goToNextDay(e)})),i.jd(1,"NEXT DAY HOURLY FORECAST"),i.oc()}}function z(t,e){if(1&t){const t=i.qc();i.pc(0,"div",54),i.pc(1,"div",55),i.pc(2,"table",56),i.hd(3,I,3,1,"ng-container",57),i.hd(4,A,1,0,"tr",58),i.hd(5,L,1,0,"tr",59),i.hd(6,$,1,0,"tr",60),i.oc(),i.oc(),i.pc(7,"div",42),i.pc(8,"div",61),i.pc(9,"span",62),i.hd(10,F,2,0,"button",63),i.hd(11,U,2,0,"button",63),i.oc(),i.pc(12,"span",64),i.pc(13,"button",65),i.wc("click",(function(e){return i.Xc(t),i.Ac().goToNextDay(e)})),i.jd(14,"NEXT DAY HOURLY FORECAST"),i.oc(),i.oc(),i.oc(),i.oc(),i.oc()}if(2&t){const t=i.Ac();i.Vb(2),i.Hc("dataSource",t.hourlyForecasts),i.Vb(1),i.Hc("ngForOf",t.columns),i.Vb(1),i.Hc("matHeaderRowDef",t.columnsFields),i.Vb(1),i.Hc("matRowDefColumns",t.columnsFields),i.Vb(1),i.Hc("matFooterRowDef",null),i.Vb(2),i.Hc("ngClass",i.Nc(8,y,t.dayId>=t.days.length-1)),i.Vb(2),i.Hc("ngIf",t.hourlyForecastsMobileIndex<t.dayOfHourlyForecasts.length),i.Vb(1),i.Hc("ngIf",t.hourlyForecastsMobileIndex>=t.dayOfHourlyForecasts.length)}}let N=(()=>{class t{constructor(t,e,n,i,a,r,l,d){this.cityHourlyService=t,this.zone=e,this.station=n,this.urlParser=i,this.cityLinksService=a,this.elementRef=r,this.location=l,this.env=d,this.mobileHourlyIntervals=8,this.columns=[],this.columnsFields=[],this.getColumns=()=>[{text:"Time",field:"timeHour"},{text:"Conditions",field:"conditions",withIcon:!0},{text:"Temp.",field:"temperature",displayUnit:{type:"temperature",isDegreeVisible:!0}},{text:"Feels Like",field:"feelsLike",displayUnit:{type:"temperature",isDegreeVisible:!0}},{text:"Precip",field:"precipitation",isLink:!0,displayUnit:{type:"chance"}},{text:"Amount",field:"liquidPrecipitation",isLink:!0,displayUnit:{getFrom:"precipDisplayType",decimalPositions:2}},{text:"Cloud Cover",field:"cloudCover",displayUnit:{type:"chance"}},{text:"Dew Point",field:"dewPoint",displayUnit:{type:"temperature",isDegreeVisible:!0}},{text:"Humidity",field:"humidity",displayUnit:{type:"humidity"}},{text:"Wind",field:"wind",displayUnit:{type:"speed",decimalPositions:0}},{text:"Pressure",field:"pressure",displayUnit:{type:"pressure",decimalPositions:2,allowEmptyValues:!0}}];const{isBrowser:p}=this.env;this.zone.runOutsideAngular(()=>{p&&Object(o.a)(window,"resize").pipe(Object(c.a)(1500),Object(s.a)()).subscribe(()=>this.zone.run(this.initHourlyForecasts.bind(this)))})}ngOnInit(){const{urlParser:t}=this,e=t.parse(l.a);t.getUrlDate(e).subscribe(t=>{this.initialDay=t,this.station.currentStation.pipe(Object(r.a)(t=>{const e=Object(d.S)(t,"latitude",0).toString(),n=Object(d.S)(t,"longitude",0).toString();return Object(a.a)({latitude:e,longitude:n})})).subscribe(t=>{this.cityHourlyService.getForecasts(t.latitude,t.longitude).subscribe(t=>{this.days=t,this.initDay(),this.columns=this.getColumns(),this.columnsFields=this.columns.map(t=>t.field)})}),this.cityLinksService.getCityLinks().subscribe(t=>this.precipitationUrl=t.precipitation)})}goToPreviousDay(t){if(t.preventDefault(),this.dayId>0){const t=this.days[this.dayId-1];this.pushDateOntoUrl(t.cityDateTime),this.loadDay(t)}}goToNextDay(t){if(t.preventDefault(),this.dayId<this.days.length-1){const t=this.days[this.dayId+1];this.pushDateOntoUrl(t.cityDateTime),this.loadDay(t),this.elementRef.nativeElement.scrollIntoView({behavior:"smooth"})}}revealNextInterval(t){if(this.hourlyForecastsMobileIndex<this.dayOfHourlyForecasts.length){const t=this.hourlyForecastsMobileIndex+this.mobileHourlyIntervals,e=this.dayOfHourlyForecasts.slice(this.hourlyForecastsMobileIndex,t);this.hourlyForecasts=this.hourlyForecasts.concat(e),this.hourlyForecastsMobileIndex=t}}initDay(){if(this.initialDay){const t=this.days.find(t=>{const e=parseInt(t.cityDateTime.year,10),n=parseInt(t.cityDateTime.month,10),i=parseInt(t.cityDateTime.date,10);return void 0!==this.initialDay&&e===this.initialDay.getFullYear()&&n===this.initialDay.getMonth()+1&&i===this.initialDay.getDate()});if(t)return void this.loadDay(t)}this.loadDay(this.days[0])}loadDay(t){this.dayId=t.id,this.forecastTitle=t.title,this.forecastTitleShort=t.titleShort,this.units=t.units,this.daySummary=t.daySummary,this.nightSummary=t.nightSummary,this.sun=t.sun,this.moon=t.moon,this.precipitation=t.precipitation,this.highTemp=null===t.highTemp?"--":Object(d.S)(t,"day.highTemp","").toString(),this.lowTemp=null===t.lowTemp?"--":Object(d.S)(t,"day.highTemp","").toString(),this.dayOfHourlyForecasts=t.hourlyForecasts,this.initHourlyForecasts(!0)}initHourlyForecasts(t=!1){const{isBrowser:e}=this.env;e&&(t||!(this.lastInnerWidth>=640&&window.innerWidth>=640||this.lastInnerWidth<640&&window.innerWidth<640)?(window.innerWidth>=640?this.hourlyForecasts=this.dayOfHourlyForecasts:(this.hourlyForecastsMobileIndex=this.mobileHourlyIntervals,this.hourlyForecasts=this.dayOfHourlyForecasts.slice(0,this.mobileHourlyIntervals)),this.lastInnerWidth=window.innerWidth):this.lastInnerWidth=window.innerWidth)}pushDateOntoUrl(t){const e=decodeURIComponent(this.location.path()),n=`/date/${t.year}-${t.month}-${t.date}`,i=new RegExp("/date\\/\\d{4}-\\d{1,2}-\\d{1,2}").exec(e),o=Object(d.S)(i,"[0]",""),a=e.replace(o,"");this.location.replaceState(`${a}${n}`)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(p.a),i.jc(i.N),i.jc(h.c),i.jc(l.d),i.jc(g.c),i.jc(i.r),i.jc(u.i),i.jc(m.b))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-city-hourly-forecast"]],decls:5,vars:4,consts:[["id","hourly"],["id","dayControl","class","row collapse",4,"ngIf"],["id","summaries","class","fctText row collapse",4,"ngIf"],["class","fctText astronomy-data row collapse",4,"ngIf"],["id","hourly-forecasts","class","row collapse",4,"ngIf"],["id","dayControl",1,"row","collapse"],[1,"small-1","medium-1","columns","arrow-wrapper"],["id","previousDay",3,"ngClass"],["href","#","aria-label","Previous Day",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","451.846","height","451.847","viewBox","0 0 451.846 451.847"],["d","M345.441 248.292L151.154 442.573c-12.359 12.365-32.397 12.365-44.75 0 -12.354-12.354-12.354-32.391 0-44.744L278.318 225.92 106.409 54.017c-12.354-12.359-12.354-32.394 0-44.748 12.354-12.359 32.391-12.359 44.75 0l194.287 194.284c6.177 6.18 9.262 14.271 9.262 22.366C354.708 234.018 351.617 242.115 345.441 248.292z"],[1,"small-10","medium-10","columns"],["id","forecast-title-long",1,"show-for-medium"],["id","forecast-title-short",1,"show-for-small-only"],["id","nextDay",3,"ngClass"],["href","#","aria-label","Next Day",3,"click"],["id","summaries",1,"fctText","row","collapse"],["id","day-summary","class","small-12 medium-6 columns",4,"ngIf"],["id","night-summary","class","small-12 medium-6 columns",3,"medium-offset-6",4,"ngIf"],["id","day-summary",1,"small-12","medium-6","columns"],[1,"row","collapse"],[1,"small-2","columns","fct-icon"],["alt","icon",3,"src"],[1,"small-10","columns","fct-content"],[1,"small-5","columns","summary-header"],[1,"fct-title"],[1,"fct-date"],[1,"small-7","columns","precip-wrap"],[3,"href"],["title","chance of precipitation",1,"pop"],["id","night-summary",1,"small-12","medium-6","columns"],["class","fct-title",4,"ngIf"],[1,"fct-date","show-for-medium"],[1,"small-7","columns","end","precip-wrap"],[1,"fctText","astronomy-data","row","collapse"],["id","sun","class","fct-content small-6 columns",4,"ngIf"],["id","moon","class","fct-content small-6 columns",4,"ngIf"],["id","sun",1,"fct-content","small-6","columns"],[1,"row"],[1,"fct-icon","medium-2","columns","show-for-medium"],[1,"sun-icon"],[1,"small-12","medium-10","columns","sun-content"],[1,"small-12","columns"],[1,"small-6","medium-3","columns"],[1,"astro-data","sunrise-icon"],[1,"ampm"],[1,"small-6","medium-3","columns","end"],[1,"astro-data","sunset-icon"],["id","moon",1,"fct-content","small-6","columns"],[1,"moon-icon"],[1,"small-12","medium-10","columns","moon-content"],[1,"astro-data","moonrise-icon"],[1,"astro-data","moonset-icon"],["id","moon-phase"],["id","hourly-forecasts",1,"row","collapse"],[1,"small-12","columns","scrollable"],["mat-table","","id","hourly-forecast-table","aria-labelledby","Hourly forecast",1,"mat-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["id","nextForecasts",3,"ngClass"],[1,"show-for-small-only"],["class","next-day","type","button",3,"click",4,"ngIf"],[1,"show-for-medium"],["type","button",1,"next-day",3,"click"],[3,"matColumnDef"],["tabindex","0","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["tabindex","0","mat-header-cell",""],["mat-cell",""],[4,"ngIf"],[3,"href",4,"ngIf"],[3,"isDegreeVisible","type","decimalPositions","value","suffix",4,"ngIf"],[3,"isDegreeVisible","type","decimalPositions","value",4,"ngIf"],[3,"isDegreeVisible","type","decimalPositions","value"],[3,"isDegreeVisible","type","decimalPositions","value","suffix"],[1,"no-scale",3,"src","alt"],[1,"show-for-medium","conditions"],[1,"show-for-small-only","conditions"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,e){1&t&&(i.pc(0,"div",0),i.hd(1,v,20,8,"div",1),i.hd(2,P,3,2,"div",2),i.hd(3,_,3,2,"div",3),i.hd(4,z,15,10,"div",4),i.oc()),2&t&&(i.Vb(1),i.Hc("ngIf",e.forecastTitle),i.Vb(1),i.Hc("ngIf",e.daySummary||e.nightSummary),i.Vb(1),i.Hc("ngIf",e.sun&&e.moon),i.Vb(1),i.Hc("ngIf",e.hourlyForecasts))},directives:[u.m,u.k,b.l,u.l,b.i,b.k,b.e,b.c,b.g,b.b,b.f,b.a,f.a,b.h,b.j,b.d],styles:["#hourly[_ngcontent-%COMP%]{position:relative;margin:20px 0}#hourly[_ngcontent-%COMP%]     a{text-decoration:underline}#summaries[_ngcontent-%COMP%]{position:relative;margin:10px 0 0}@media screen and (min-width:40em){#summaries[_ngcontent-%COMP%]{margin:10px 0}}#dayControl[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #hourly-forecasts[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, #summaries[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .astronomy-data[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f83;text-decoration:none}.summary-header[_ngcontent-%COMP%]{padding-right:0}#dayControl[_ngcontent-%COMP%]{text-align:center;line-height:1.6}#forecast-title-long[_ngcontent-%COMP%], #forecast-title-short[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:300;text-align:center}#night-summary[_ngcontent-%COMP%]{background-color:#f7f7f7}@media screen and (min-width:40em){#night-summary[_ngcontent-%COMP%]{background-color:transparent}}#previousDay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{right:0;transform:rotate(180deg);width:25px;height:25px}#nextDay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{left:0;width:25px;height:25px}#nextDay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], #previousDay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;position:relative;display:inline-block;width:35px;height:35px;padding-top:5px}#nextDay.disable[_ngcontent-%COMP%], #previousDay.disable[_ngcontent-%COMP%]{pointer-events:none}#nextDay.disable[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], #previousDay.disable[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#bdbdbd}#nextForecasts[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:700;background-color:#f7f7f7;border-top:1px solid #696969;border-bottom:1px solid #696969;text-decoration:none;text-align:center;width:100%}#nextForecasts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], #nextForecasts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#006f9e;cursor:pointer;width:100%;height:45px;line-height:45px}#nextForecasts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{text-decoration:underline}#nextForecasts.disable[_ngcontent-%COMP%]   button.next-day[_ngcontent-%COMP%]{pointer-events:none;color:#bdbdbd}.pop[_ngcontent-%COMP%]{font-weight:400;display:inline-block;width:15px;height:15px;background-image:url(//www.wunderground.com/static/i/o/sprite-common-vert.png?v=1.20);background-repeat:no-repeat;background-position:0 -383px;padding-left:12px;vertical-align:middle;position:relative;top:-1px}#moon[_ngcontent-%COMP%], #sun[_ngcontent-%COMP%]{font-size:.75rem;margin:10px 0 20px;padding-top:0;white-space:nowrap}@media screen and (min-width:40em){#moon[_ngcontent-%COMP%], #sun[_ngcontent-%COMP%]{margin:20px 0;padding-top:0!important}}.astronomy-data[_ngcontent-%COMP%]{border-top:1px solid #d7d7d7;font-size:.75rem}.astronomy-data[_ngcontent-%COMP%]   .astro-data[_ngcontent-%COMP%]{display:inline-block;height:auto;line-height:20px;padding-left:23px;background-image:url(//www.wunderground.com/static/i/o/sprite-common-vert.png?v=1.20);background-repeat:no-repeat}.astronomy-data[_ngcontent-%COMP%]   .moonNorth[_ngcontent-%COMP%]   .p-lastqtr[_ngcontent-%COMP%]{background-position:0 -80px}.astronomy-data[_ngcontent-%COMP%]   .moonNorth[_ngcontent-%COMP%]   .pwaningcrescent[_ngcontent-%COMP%]{background-position:0 -100px}.astronomy-data[_ngcontent-%COMP%]   .moonNorth[_ngcontent-%COMP%]   .p-new[_ngcontent-%COMP%]{background-position:0 -120px}.astronomy-data[_ngcontent-%COMP%]   .moonNorth[_ngcontent-%COMP%]   .p-waxingcrescent[_ngcontent-%COMP%]{background-position:0 -139px}.astronomy-data[_ngcontent-%COMP%]   .moonNorth[_ngcontent-%COMP%]   .p-firstqrtr[_ngcontent-%COMP%]{background-position:0 -159px}.astronomy-data[_ngcontent-%COMP%]   .moonNorth[_ngcontent-%COMP%]   .p-waninggibbous[_ngcontent-%COMP%]{background-position:0 -178px}.astronomy-data[_ngcontent-%COMP%]   .moonNorth[_ngcontent-%COMP%]   .p-full[_ngcontent-%COMP%]{background-position:0 -197px}.astronomy-data[_ngcontent-%COMP%]   .moonNorth[_ngcontent-%COMP%]   .p-waxinggibbous[_ngcontent-%COMP%]{background-position:0 -217px}.astronomy-data[_ngcontent-%COMP%]   .moonSouth[_ngcontent-%COMP%]   .p-lastqtr[_ngcontent-%COMP%]{background-position:0 -159px}.astronomy-data[_ngcontent-%COMP%]   .moonSouth[_ngcontent-%COMP%]   .pwaningcrescent[_ngcontent-%COMP%]{background-position:0 -139px}.astronomy-data[_ngcontent-%COMP%]   .moonSouth[_ngcontent-%COMP%]   .p-new[_ngcontent-%COMP%]{background-position:0 -197px}.astronomy-data[_ngcontent-%COMP%]   .moonSouth[_ngcontent-%COMP%]   .p-waxingcrescent[_ngcontent-%COMP%]{background-position:0 -100px}.astronomy-data[_ngcontent-%COMP%]   .moonSouth[_ngcontent-%COMP%]   .p-firstqrtr[_ngcontent-%COMP%]{background-position:0 -80px}.astronomy-data[_ngcontent-%COMP%]   .moonSouth[_ngcontent-%COMP%]   .p-waninggibbous[_ngcontent-%COMP%]{background-position:0 -217px}.astronomy-data[_ngcontent-%COMP%]   .moonSouth[_ngcontent-%COMP%]   .p-full[_ngcontent-%COMP%]{background-position:0 -120px}.astronomy-data[_ngcontent-%COMP%]   .moonSouth[_ngcontent-%COMP%]   .p-waxinggibbous[_ngcontent-%COMP%]{background-position:0 -178px}#moon-phase[_ngcontent-%COMP%]{white-space:normal}#moon-phase[_ngcontent-%COMP%]   .astro-data[_ngcontent-%COMP%]{width:20px;height:20px;position:relative;top:6px;margin-top:-6px}.sunrise-icon[_ngcontent-%COMP%]{color:#e59900;background-position:0 2px}.sunset-icon[_ngcontent-%COMP%]{color:#c50;background-position:0 -18px}.moonrise-icon[_ngcontent-%COMP%]{color:#4c4c4c;background-position:0 -37px}.moonset-icon[_ngcontent-%COMP%]{color:#4c4c4c;background-position:0 -57px}.moon-icon[_ngcontent-%COMP%], .sun-icon[_ngcontent-%COMP%]{background:url(//www.wunderground.com/static/i/o/sprite-common-grid.png?v=1.7);width:56px;height:50px;display:inline-block}.sun-icon[_ngcontent-%COMP%]{background-position:-622px -25px}.moon-icon[_ngcontent-%COMP%]{background-position:-621px -126px}.sun-content[_ngcontent-%COMP%]{padding-left:10px}@media screen and (min-width:40em){.sun-content[_ngcontent-%COMP%]{padding-left:0}}.fctText[_ngcontent-%COMP%]{overflow:hidden}.fct-icon[_ngcontent-%COMP%]{text-align:center;padding:10px 0 0}@media screen and (min-width:40em){.fct-icon[_ngcontent-%COMP%]{padding:10px 5px 5px}}.fct-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50px;width:50px;max-width:none}.fct-title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.fct-content[_ngcontent-%COMP%], .fct-title[_ngcontent-%COMP%]{font-size:.875rem;line-height:20px}.fct-content[_ngcontent-%COMP%]{padding:10px 0 0}@media screen and (min-width:40em){.fct-content[_ngcontent-%COMP%]{padding:10px 5px 0!important}}.fct-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px}@media screen and (min-width:40em){.fct-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px}}  *,   :after,   :before{box-sizing:border-box}  #hourly-forecast-table{font-size:.75rem;margin-bottom:5px}  #hourly-forecast-table thead button{cursor:default}  #hourly-forecast-table tbody,   #hourly-forecast-table td,   #hourly-forecast-table thead,   #hourly-forecast-table tr{border:none}  #hourly-forecast-table tfoot{display:none}  #hourly-forecast-table tr:hover{background-color:#e7e7e7}.scrollable[_ngcontent-%COMP%]{overflow:auto}#hourly-forecast-table[_ngcontent-%COMP%]{min-width:900px;font-size:.75rem;margin-bottom:5px;padding-top:20px}#hourly-forecast-table[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{color:#1e2023;font-weight:700;border:none;padding-right:.625rem;padding-left:.625rem}#hourly-forecast-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #hourly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #hourly-forecast-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], #hourly-forecast-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:none}#hourly-forecast-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e7e7e7}#hourly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #hourly-forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:3px .625rem;white-space:nowrap}#hourly-forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;color:#4c4c4c}#hourly-forecast-table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:34px;height:34px;margin-right:10px}#hourly-forecast-table[_ngcontent-%COMP%]   .conditions[_ngcontent-%COMP%]{padding-right:1rem}#hourly-forecast-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background:#f7f7f7}#hourly-forecast-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]{height:40px}#hourly-forecast-table[_ngcontent-%COMP%]   tr.mat-header-row[_ngcontent-%COMP%]{height:24px;background:#f7f7f7}"]}),t})()},MHEe:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("fXoL"),o=n("8dEr"),a=n("JSYf"),c=n("Wr7N");let s=(()=>{class t{constructor(t,e){this.station=t,this.cityLinksService=e,this.calendarLink="",this.isUS=!1,this.wfo="",this.icao="",this.state="",this.city="",this.cityLinksService.getCityLinks().subscribe(t=>{this.calendarLink=t.calendar})}ngOnInit(){this.station.currentStation.subscribe(t=>{const e=Object(o.S)(t,"current_observation.metar",""),n=Object(o.S)(t,"response.location.city",""),i=Object(o.S)(t,"response.location.country","");if(Object(o.I)(e)){const t=e.match(/METAR ([A-Za-z0-9]{4,5}) /);Object(o.I)(t)&&(this.icao=t[1])}this.state=Object(o.S)(t,"response.location.state",""),this.wfo=Object(o.S)(t,"response.location.wfo",""),this.isUS="US"===i,n&&(this.city=n.replace(/ /g,"_"))})}}return t.\u0275fac=function(e){return new(e||t)(i.jc(a.c),i.jc(c.c))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-city-forecast-links"]],decls:6,vars:1,consts:[[1,"fct-links","clearfix"],[1,"float-left"],[3,"href"],[1,"material-icons"]],template:function(t,e){1&t&&(i.pc(0,"div",0),i.pc(1,"div",1),i.pc(2,"a",2),i.pc(3,"i",3),i.jd(4,"date_range"),i.oc(),i.jd(5," View Calendar Forecast "),i.oc(),i.oc(),i.oc()),2&t&&(i.Vb(2),i.Hc("href",e.calendarLink,i.bd))},styles:[".fct-links[_ngcontent-%COMP%]{margin-bottom:20px;font-size:.9375rem}.material-icons[_ngcontent-%COMP%]{vertical-align:top;font-size:14px;line-height:20px}"]}),t})()},PV2S:function(t,e,n){"use strict";n.d(e,"a",(function(){return z}));var i=n("fXoL"),o=n("8dEr"),a=n("LRne"),c=n("itXk"),s=n("jAAy"),r=n("jwMx"),l=n("Wr7N"),d=n("3ia6"),p=n("JSYf"),h=n("ofXK"),g=n("DNub");function u(t,e){if(1&t&&(i.pc(0,"li",5),i.pc(1,"div",6),i.jd(2),i.oc(),i.pc(3,"div",7),i.jd(4),i.oc(),i.oc()),2&t){const t=e.$implicit;i.Vb(2),i.kd(t),i.Vb(2),i.kd(t.substr(0,3))}}function m(t,e){1&t&&i.kc(0,"div",20)}function b(t,e){if(1&t&&i.kc(0,"img",21),2&t){const t=i.Ac(3).$implicit;i.Hc("src",t.icon,i.bd)}}function f(t,e){1&t&&(i.pc(0,"div",22),i.jd(1,"Actual:"),i.oc())}function y(t,e){1&t&&(i.pc(0,"div",22),i.jd(1,"Forecast:"),i.oc())}function v(t,e){1&t&&(i.pc(0,"div",22),i.jd(1,"Forecast:"),i.oc())}function O(t,e){1&t&&(i.pc(0,"div",22),i.jd(1,"Average:"),i.oc())}function C(t,e){if(1&t&&(i.nc(0),i.pc(1,"div",23),i.pc(2,"span",24),i.jd(3),i.oc(),i.pc(4,"span",25),i.jd(5," | "),i.oc(),i.pc(6,"span",26),i.jd(7),i.oc(),i.oc(),i.pc(8,"div",27),i.kc(9,"span"),i.kc(10,"lib-display-unit",28),i.oc(),i.mc()),2&t){const t=i.Ac(3).$implicit;i.Vb(3),i.ld("",t.hi,"\xb0"),i.Vb(4),i.ld("",t.low,"\xb0"),i.Vb(2),i.Yb(t.precipType),i.Vb(1),i.Hc("dynamicDecimals",!0)("value",t.precip)}}function w(t,e){if(1&t&&(i.pc(0,"div",23),i.pc(1,"span",24),i.jd(2),i.oc(),i.pc(3,"span",25),i.jd(4," | "),i.oc(),i.pc(5,"span",26),i.jd(6),i.oc(),i.oc(),i.pc(7,"div",27),i.kc(8,"span"),i.kc(9,"lib-display-unit",28),i.oc()),2&t){const t=i.Ac(3).$implicit;i.Vb(2),i.ld("",t.avgHi,"\xb0"),i.Vb(4),i.ld("",t.avgLow,"\xb0"),i.Vb(2),i.Yb(t.avgPrecipType?t.avgPrecipType:t.precipType),i.Vb(1),i.Hc("dynamicDecimals",!0)("value",t.avgPrecip)}}function P(t,e){if(1&t&&(i.nc(0),i.pc(1,"div",12),i.jd(2),i.oc(),i.hd(3,m,1,0,"div",13),i.kc(4,"div",14),i.nc(5),i.hd(6,b,1,1,"img",15),i.pc(7,"div",16),i.jd(8),i.oc(),i.nc(9,17),i.hd(10,f,2,0,"div",18),i.hd(11,y,2,0,"div",18),i.hd(12,v,2,0,"div",18),i.hd(13,O,2,0,"div",18),i.mc(),i.hd(14,C,11,7,"ng-container",9),i.hd(15,w,10,7,"ng-template",null,19,i.id),i.mc(),i.mc()),2&t){const t=i.Tc(16),e=i.Ac(2).$implicit;i.Vb(2),i.kd(e.date),i.Vb(1),i.Hc("ngIf",e.active),i.Vb(3),i.Hc("ngIf",e.icon),i.Vb(2),i.kd(e.phrase),i.Vb(1),i.Hc("ngSwitch",e.type),i.Vb(1),i.Hc("ngSwitchCase","history"),i.Vb(1),i.Hc("ngSwitchCase","forecast"),i.Vb(1),i.Hc("ngSwitchCase","today"),i.Vb(1),i.Hc("ngSwitchCase","almanac"),i.Vb(1),i.Hc("ngIf",!("almanac"===e.type))("ngIfElse",t)}}function M(t,e){1&t&&(i.nc(0),i.jd(1,"Actual:"),i.mc())}function x(t,e){1&t&&(i.nc(0),i.jd(1,"Forecast:"),i.mc())}function _(t,e){1&t&&(i.nc(0),i.jd(1,"Today:"),i.mc())}function S(t,e){1&t&&(i.nc(0),i.jd(1,"Average:"),i.mc())}function j(t,e){if(1&t&&i.kc(0,"img",21),2&t){const t=i.Ac(3).$implicit;i.Hc("src",t.icon,i.bd)}}function k(t,e){if(1&t&&(i.pc(0,"div",37),i.pc(1,"div",16),i.jd(2),i.oc(),i.pc(3,"a",38),i.jd(4,"View more history data"),i.oc(),i.oc()),2&t){const t=i.Ac(3).$implicit;i.Vb(2),i.kd(t.phrase),i.Vb(1),i.Hc("href",t.historyLink,i.bd)}}function D(t,e){if(1&t&&(i.pc(0,"a",38),i.jd(1,"View more history data"),i.oc()),2&t){const t=i.Ac(3).$implicit;i.Hc("href",t.historyLink,i.bd)}}function V(t,e){1&t&&(i.pc(0,"th",22),i.jd(1,"Actual:"),i.oc())}function H(t,e){1&t&&(i.pc(0,"th",22),i.jd(1,"Forecast:"),i.oc())}function T(t,e){1&t&&(i.pc(0,"th",22),i.jd(1,"Forecast:"),i.oc())}function I(t,e){1&t&&(i.pc(0,"th",22),i.jd(1,"Record:"),i.oc())}function A(t,e){if(1&t&&(i.pc(0,"div",29),i.nc(1,17),i.hd(2,M,2,0,"ng-container",30),i.hd(3,x,2,0,"ng-container",30),i.hd(4,_,2,0,"ng-container",30),i.hd(5,S,2,0,"ng-container",30),i.mc(),i.jd(6),i.oc(),i.pc(7,"div",31),i.hd(8,j,1,1,"img",15),i.hd(9,k,5,2,"div",32),i.pc(10,"div",33),i.pc(11,"table",34),i.pc(12,"tr",35),i.pc(13,"th"),i.hd(14,D,2,1,"a",36),i.oc(),i.pc(15,"th"),i.jd(16,"Temperature"),i.oc(),i.pc(17,"th"),i.jd(18,"Precipitation"),i.oc(),i.oc(),i.pc(19,"tr"),i.nc(20,17),i.hd(21,V,2,0,"th",18),i.hd(22,H,2,0,"th",18),i.hd(23,T,2,0,"th",18),i.hd(24,I,2,0,"th",18),i.mc(),i.pc(25,"td",23),i.pc(26,"span",24),i.jd(27),i.oc(),i.jd(28," | "),i.pc(29,"span",26),i.jd(30),i.oc(),i.oc(),i.pc(31,"td",27),i.kc(32,"span"),i.kc(33,"lib-display-unit",28),i.oc(),i.oc(),i.pc(34,"tr"),i.pc(35,"th"),i.jd(36,"Average"),i.oc(),i.pc(37,"td",23),i.pc(38,"span",24),i.jd(39),i.oc(),i.jd(40," | "),i.pc(41,"span",26),i.jd(42),i.oc(),i.oc(),i.pc(43,"td",27),i.kc(44,"span"),i.kc(45,"lib-display-unit",28),i.oc(),i.oc(),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac(2).$implicit;i.Vb(1),i.Hc("ngSwitch",t.type),i.Vb(1),i.Hc("ngSwitchCase","history"),i.Vb(1),i.Hc("ngSwitchCase","forecast"),i.Vb(1),i.Hc("ngSwitchCase","today"),i.Vb(1),i.Hc("ngSwitchCase","almanac"),i.Vb(1),i.ld(" ",t.dateString,""),i.Vb(2),i.Hc("ngIf",t.icon),i.Vb(1),i.Hc("ngIf","almanac"!==t.type),i.Vb(5),i.Hc("ngIf","almanac"===t.type),i.Vb(6),i.Hc("ngSwitch",t.type),i.Vb(1),i.Hc("ngSwitchCase","history"),i.Vb(1),i.Hc("ngSwitchCase","forecast"),i.Vb(1),i.Hc("ngSwitchCase","today"),i.Vb(1),i.Hc("ngSwitchCase","almanac"),i.Vb(3),i.ld("",t.hi,"\xb0"),i.Vb(3),i.ld("",t.low,"\xb0"),i.Vb(2),i.Yb(t.precipType?t.precipType:"rain"),i.Vb(1),i.Hc("dynamicDecimals",!0)("value",null!=t.precip?t.precip:"-/-"),i.Vb(6),i.ld("",t.avgHi,"\xb0"),i.Vb(3),i.ld("",t.avgLow,"\xb0"),i.Vb(2),i.Yb(t.avgPrecipType?t.avgPrecipType:t.precipType),i.Vb(1),i.Hc("dynamicDecimals",!0)("value",t.avgPrecip)}}function L(t,e){if(1&t&&(i.nc(0),i.hd(1,P,17,11,"ng-container",9),i.hd(2,A,46,28,"ng-template",null,11,i.id),i.mc()),2&t){const t=i.Tc(3),e=i.Ac().$implicit;i.Vb(1),i.Hc("ngIf",!e.details)("ngIfElse",t)}}function $(t,e){if(1&t&&(i.pc(0,"div",12),i.jd(1),i.oc()),2&t){const t=i.Ac().$implicit;i.Vb(1),i.kd(t.date)}}const F=function(t,e,n,i,o,a,c){return{"calendar-day":!0,"current-month":t,today:e,history:n,forecast:i,almanac:o,details:a,active:c}};function U(t,e){if(1&t){const t=i.qc();i.pc(0,"li",8),i.wc("click",(function(){i.Xc(t);const n=e.index;return i.Ac().selectCell(n)})),i.hd(1,L,4,2,"ng-container",9),i.hd(2,$,2,1,"ng-template",null,10,i.id),i.oc()}if(2&t){const t=e.$implicit,n=i.Tc(3);i.Hc("ngClass",i.Rc(3,F,t.currentMonth,"today"===t.type,"history"===t.type,"forecast"===t.type,"almanac"===t.type,t.details,t.active)),i.Vb(1),i.Hc("ngIf",t.type)("ngIfElse",n)}}let z=(()=>{class t{constructor(t,e,n,i,o,a,c,r){this.urlParserService=t,this.historyService=e,this.forecastDalService=n,this.almanacService=i,this.iconService=o,this.cityLinksService=a,this.env=c,this.stationService=r,this.isBrowser=this.env.isBrowser,this.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.cells=[],this.geocode="",this.locationCode="";const l=t.parse(s.a);this.cityParserUrl=l,t.getUrlDate(l).subscribe(t=>{this.setCalendarVars(t),this.getData()})}selectCell(t){if(t!==this.activeDetailCell){this.removeActiveCell(),this.activeDetailCell<t&&t--,this.removeDetailsCell(),this.activeCell=t,this.activeDetailCell=7*Math.floor(t/7+1),this.cells[this.activeCell]=Object.assign(Object.assign({},this.cells[this.activeCell]),{active:!0});let e=this.cells[this.activeCell];e=Object.assign(Object.assign({},e),{details:!0}),this.cells.splice(this.activeDetailCell,0,e)}}removeActiveCell(){isNaN(this.activeCell)||(this.cells[this.activeCell]=Object.assign(Object.assign({},this.cells[this.activeCell]),{active:!1})),this.activeCell=NaN}removeDetailsCell(){isNaN(this.activeDetailCell)||this.cells.splice(this.activeDetailCell,1),this.activeDetailCell=NaN}getDateString(t){return`${Object(o.u)(t.getMonth())} ${t.getDate()},${t.getFullYear()}`}getData(){this.isBrowser&&this.stationService.currentStation.subscribe(t=>{this.geocode=`${Object(o.S)(t,"pws.latitude",0)},${Object(o.S)(t,"pws.longitude",0)}`,this.locationCode=`${Object(o.S)(t,"pws.id","")}:9:${Object(o.S)(t,"countryCode")}`;const e=[];e.push(this.firstCellObj<=this.todayObj?this.historyService.getDays(this.geocode,this.locationCode,this.historyDates.start.year,this.historyDates.start.month,this.historyDates.start.day,this.historyDates.end.year,this.historyDates.end.month,this.historyDates.end.day,!0):Object(a.a)({})),this.todayObj>=this.firstCellObj&&this.todayObj<=this.lastCellObj||this.lastForecastObj>=this.firstCellObj&&this.lastForecastObj<=this.lastCellObj?(e.push(this.forecastDalService.getDailyForecast(this.geocode,15)),e.push(this.almanacService.getDaysAlmanac({lat:Object(o.S)(t,"pws.latitude",0),long:Object(o.S)(t,"pws.longitude",0)},this.almanacDates.start.month,this.almanacDates.start.day,this.almanacDates.end.month,this.almanacDates.end.day))):(e.push(Object(a.a)({})),e.push(this.lastForecastObj<this.lastCellObj?this.almanacService.getDaysAlmanac({lat:Object(o.S)(t,"pws.latitude",0),long:Object(o.S)(t,"pws.longitude",0)},this.almanacDates.start.month,this.almanacDates.start.day,this.almanacDates.end.month,this.almanacDates.end.day):Object(a.a)({}))),Object(c.a)(e).subscribe(t=>{this.history=t[0],this.history.length&&this.history[this.history.length-1].day===this.date&&this.history.pop(),this.forecast=t[1].days,this.almanac=t[2];const e=this.year;if(this.almanac.length&&(e%4||!(e%100))&&e%400){const t=this.almanac.findIndex(t=>2===t.month&&29===t.day);-1!==t&&this.almanac.splice(t,1)}if(this.todayObj<this.firstCellObj&&this.lastForecastObj>=this.firstCellObj){let t=0;for(const e of this.forecast){if(e.day===this.firstCellDate)break;t++}this.forecast=this.forecast.splice(t)}},t=>{},()=>this.initCalendar())})}setCalendarVars(t){if(this.year=t.getFullYear(),this.month=t.getMonth()+1,this.date=t.getDate(),this.todayObj=new Date,this.todayDate=this.todayObj.getDate(),this.todayMonth=this.todayObj.getMonth()+1,this.todayYear=this.todayObj.getFullYear(),this.lastForecastObj=new Date,this.lastForecastObj.setDate(this.lastForecastObj.getDate()+14),t.setDate(1),this.firstMonthDay=t.getDay(),t.setMonth(t.getMonth()+1),t.setDate(0),this.lastCellDate=t.getDate(),this.lastCellDay=t.getDay(),this.lastCellObj=new Date(t.getTime()),this.lastCellObj.setDate(this.lastCellObj.getDate()+6-this.lastCellDay),t.setDate(1),t.setDate(t.getDate()-t.getDay()),this.firstCellObj=new Date(t.getTime()),this.firstCellDate=t.getDate(),this.firstCellObj<=this.todayObj){let t;t=this.lastCellObj<this.todayObj?new Date(this.lastCellObj.getTime()):new Date(this.todayObj.getTime()),this.historyDates={start:{date:new Date,year:this.firstCellObj.getFullYear(),month:this.firstCellObj.getMonth()+1,day:this.firstCellObj.getDate()},end:{date:t,year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}}if(this.todayObj<=this.lastCellObj){let t;t=this.firstCellObj>=this.todayObj?new Date(this.firstCellObj.getTime()):new Date(this.todayObj.getTime()),this.almanacDates={start:{date:t,year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()},end:{date:new Date(this.lastCellObj.getTime()),year:this.lastCellObj.getFullYear(),month:this.lastCellObj.getMonth()+1,day:this.lastCellObj.getDate()}}}}initCalendar(){const t=new Date(this.firstCellObj.getTime());let e=this.firstCellDate,n=0,i=0;for(;n<this.firstMonthDay;n++,e++){const o={dateString:this.getDateString(t),date:e,currentMonth:!1,historyLink:this.cityLinksService.getHistoryDateLink(new Date(this.firstCellObj.getFullYear(),this.firstCellObj.getMonth(),e))};t.setDate(t.getDate()+1),i=this.setData(this.firstCellObj.getMonth()+1,e,n,i,o)}for(let o=1;o<=this.lastCellDate;n++,o++){const e={dateString:this.getDateString(t),date:o,currentMonth:!0,historyLink:this.cityLinksService.getHistoryDateLink(new Date(this.year,this.month-1,o))};t.setDate(t.getDate()+1),i=this.setData(this.month,o,n,i,e)}for(let o=1;o<7-this.lastCellDay;n++,o++){const e={dateString:this.getDateString(t),date:o,currentMonth:!1,historyLink:this.cityLinksService.getHistoryDateLink(new Date(this.lastCellObj.getFullYear(),this.lastCellObj.getMonth(),o))};t.setDate(t.getDate()+1),i=this.setData(this.lastCellObj.getMonth()+1,o,n,i,e)}}setData(t,e,n,i,o){let a=o;if(this.isBrowser){const n=t===this.todayMonth;if(this.history&&i<this.history.length&&this.history[i].month===t&&this.history[i].day===e&&(!n||this.history[i].day!==this.todayDate))a=Object.assign(Object.assign({},o),{type:"history",hi:this.history[i].temperature.actual.max,low:this.history[i].temperature.actual.min,precipType:"rain",precip:this.history[i].precipitation.rain.actual.val<.01?0:+this.history[i].precipitation.rain.actual.val.toFixed(2),icon:this.iconService.getIconUrlFromCode(+this.history[i].icon),phrase:this.iconService.getIconPhraseFromCode(+this.history[i].icon),avgHi:this.history[i].temperature.avg.max,avgLow:this.history[i].temperature.avg.min,avgPrecip:this.history[i].precipitation.rain.avg.val,avgPrecipType:"rain"}),(++i>=this.history.length||n&&this.history[i].day===this.todayDate)&&(i=0);else if(this.forecast&&i<this.forecast.length&&this.forecast[i].month===t&&this.forecast[i].day===e){const t=this.forecast[i].precipitation.snow?"snow":"rain";let e="snow"===t?this.forecast[i].precipitation.snow:this.forecast[i].precipitation.rain;e=e<.01?0:e;const n=this.almanac[i].precipitation.avg.snow?"snow":"rain";let c="snow"===n?this.almanac[i].precipitation.avg.snow:this.almanac[i].precipitation.avg.rain;c=c<.01?0:c,a=Object.assign(Object.assign({},o),{type:"forecast",hi:this.forecast[i].temperature.max,low:this.forecast[i].temperature.min,precipType:t,precip:e,icon:this.iconService.getIconUrl(this.forecast[i].icon?this.forecast[i].icon:"unknown"),phrase:this.forecast[i].phrase,avgHi:this.almanac[i].temperature.avg.max,avgLow:this.almanac[i].temperature.avg.min,avgPrecipType:n,avgPrecip:c}),a.hi||(a=Object.assign(Object.assign({},a),{hi:this.history[this.history.length-1].temperature.actual.max,icon:this.iconService.getIconUrlFromCode(+this.history[this.history.length-1].icon),phrase:this.iconService.getIconPhraseFromCode(+this.history[this.history.length-1].icon)})),i++}else if(this.almanac&&i<this.almanac.length&&this.almanac[i].month===t&&this.almanac[i].day===e){const t=this.almanac[i].precipitation.avg.snow?"snow":"rain";let e="snow"===t?this.almanac[i].precipitation.avg.snow:this.almanac[i].precipitation.avg.rain;e=e<.01?0:e,a=Object.assign(Object.assign({},o),{type:"almanac",hi:this.almanac[i].temperature.record.max,low:this.almanac[i].temperature.record.min,avgHi:this.almanac[i].temperature.avg.max,avgLow:this.almanac[i].temperature.avg.min,avgPrecipType:t,avgPrecip:e}),i++}n&&e===this.todayDate&&this.forecast&&this.forecast.length>0&&this.forecast[0].month===this.month&&this.forecast[0].day===this.todayDate&&(a=Object.assign(Object.assign({},a),{type:"today"}))}return this.cells[n]=a,i}}return t.\u0275fac=function(e){return new(e||t)(i.jc(s.d),i.jc(r.k),i.jc(r.j),i.jc(r.c),i.jc(l.a),i.jc(l.c),i.jc(d.b),i.jc(p.c))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-city-calendar"]],decls:5,vars:2,consts:[[1,"city-calendar"],[1,"calendar-weekdays"],["class","calendar-weekday",4,"ngFor","ngForOf"],[1,"calendar-days"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"calendar-weekday"],[1,"desktop"],[1,"mobile"],[3,"ngClass","click"],[4,"ngIf","ngIfElse"],["empty_calendar",""],["details",""],[1,"date"],["class","active",4,"ngIf"],[1,"date-fill"],["class","icon","alt","icon",3,"src",4,"ngIf"],[1,"phrase"],[3,"ngSwitch"],["class","key",4,"ngSwitchCase"],["almanac",""],[1,"active"],["alt","icon",1,"icon",3,"src"],[1,"key"],[1,"temperature"],[1,"hi"],[1,"delimiter"],[1,"low"],[1,"precipitation"],["type","rain",3,"dynamicDecimals","value"],[1,"header"],[4,"ngSwitchCase"],[1,"body"],["class","more",4,"ngIf"],[1,"table-wrapper"],["aria-labelledby","Calendar"],[1,"table-header"],["class","link",3,"href",4,"ngIf"],[1,"more"],[1,"link",3,"href"]],template:function(t,e){1&t&&(i.pc(0,"div",0),i.pc(1,"ul",1),i.hd(2,u,5,2,"li",2),i.oc(),i.pc(3,"ul",3),i.hd(4,U,4,11,"li",4),i.oc(),i.oc()),2&t&&(i.Vb(2),i.Hc("ngForOf",e.weekdays),i.Vb(2),i.Hc("ngForOf",e.cells))},directives:[h.l,h.k,h.m,h.o,h.p,g.a],styles:['.date-selector{width:50%}.city-calendar[_ngcontent-%COMP%]{margin-bottom:20px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;list-style:none;display:flex;flex-wrap:wrap}.city-calendar[_ngcontent-%COMP%]   ul.calendar-weekdays[_ngcontent-%COMP%]{color:#1e2023;font-size:14px;font-weight:700;text-transform:uppercase}.city-calendar[_ngcontent-%COMP%]   ul.calendar-days[_ngcontent-%COMP%]{border:1px solid #8a8a8a;border-right:none}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:14.28%;text-align:center;position:relative;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-weekday[_ngcontent-%COMP%]   .mobile[_ngcontent-%COMP%]{display:none}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]{text-align:center;border:1px solid #8a8a8a;padding:5px;opacity:.5;background-color:#d7d7d7;color:#1e2023}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]:nth-child(7n){border-right-width:2px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]:before{content:"";float:left;padding-top:100%}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{position:absolute;width:0;height:0;margin-top:-5px;margin-left:-5px;border-top:75px solid #a3a3a3;border-right:75px solid transparent}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;text-align:left;font-size:20px;font-weight:700;color:#a3a3a3;z-index:1}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .date-fill[_ngcontent-%COMP%]{height:32px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px;height:40px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .phrase[_ngcontent-%COMP%]{font-size:12px;font-weight:700;text-transform:capitalize}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{font-size:12px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]   .hi[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#d5202a}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]   .low[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#15aadc}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .precipitation[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .precipitation[_ngcontent-%COMP%]   .snow[_ngcontent-%COMP%]{font-weight:400;width:16px;height:16px;background-position:0 -750px;padding-left:19px;vertical-align:middle;position:relative;top:-1px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .precipitation[_ngcontent-%COMP%]   .rain[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .precipitation[_ngcontent-%COMP%]   .snow[_ngcontent-%COMP%]{display:inline-block;background-image:url(//www.wunderground.com/static/i/o/sprite-common-vert.png?v=1.6);background-repeat:no-repeat}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .precipitation[_ngcontent-%COMP%]   .rain[_ngcontent-%COMP%]{vertical-align:text-top;width:15px;height:15px;background-position:0 -397px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.current-month[_ngcontent-%COMP%]{opacity:1;background-color:#fff}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#fff}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.today[_ngcontent-%COMP%]{border:2px solid #f83}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.today[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#f83}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.today.details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#f83}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.today.active[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-top-color:#f83}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.today.active[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#fff}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.forecast[_ngcontent-%COMP%]{border:1px solid #008fbf}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.forecast[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#008fbf}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.forecast.details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background-color:#008fbf}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.forecast.active[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-top-color:#008fbf}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.forecast.active[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#fff}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]{width:100%;padding:0}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]:before{content:"";float:left;padding-top:0}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;height:38px;background-color:#4c4c4c;font-size:15px;line-height:38px;text-align:left;padding-left:20px;color:#fff}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;width:100%;padding-left:20px;justify-content:space-around}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:75px;height:75px;margin-bottom:20px;margin-top:20px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{text-align:left;margin:50px 20px 30px 10px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .phrase[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-size:15px;color:#15aadc}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{flex-grow:1;margin:0 20px 10px 0}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{height:100%}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{border-bottom:2px solid #a3a3a3}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:inherit;border:none;margin:0 20px 0 0;text-align:left}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:16px;font-weight:400}@media (max-width:640px){  .date-selector{width:100%}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-weekday[_ngcontent-%COMP%]   .mobile[_ngcontent-%COMP%]{display:block}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-weekday[_ngcontent-%COMP%]   .desktop[_ngcontent-%COMP%]{display:none}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-top-width:48px;border-right-width:48px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:14px;line-height:20px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .date-fill[_ngcontent-%COMP%]{height:25px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%]   .phrase[_ngcontent-%COMP%]{height:28px;white-space:normal;font-size:10px;line-height:1.3}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%] > .key[_ngcontent-%COMP%]{display:none}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%] > .temperature[_ngcontent-%COMP%]   .hi[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%] > .temperature[_ngcontent-%COMP%]   .low[_ngcontent-%COMP%]{display:block;font-size:18px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%] > .temperature[_ngcontent-%COMP%]   .delimiter[_ngcontent-%COMP%]{display:none}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%] > .precipitation[_ngcontent-%COMP%]{text-align:center;font-size:12px;white-space:normal}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%] > .precipitation[_ngcontent-%COMP%]   .rain[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.calendar-day[_ngcontent-%COMP%] > .precipitation[_ngcontent-%COMP%]   .snow[_ngcontent-%COMP%]{display:block;margin:0 auto}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:60px;margin-bottom:10px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]{margin:20px 10px 15px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .phrase[_ngcontent-%COMP%]{font-size:18px}.city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .more[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .precipitation[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]   .hi[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .temperature[_ngcontent-%COMP%]   .low[_ngcontent-%COMP%], .city-calendar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.details[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px}}']}),t})()},SIdu:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("fXoL"),o=n("lJxs"),a=n("bOdf"),c=n("8dEr"),s=n("JSYf"),r=n("p1rA");let l=(()=>{class t{constructor(t,e){this.stationService=t,this.weatherApi=e}getData(t){const e={features:["forecast","daypart"],version:"1",geocode:{lat:null,long:null},params:{language:"en",units:"m"},format:"json"};return Object.assign(e,t),this.stationService.currentStation.pipe(Object(o.a)(t=>(e.geocode.lat=Object(c.S)(t,"latitude",null),e.geocode.long=Object(c.S)(t,"longitude",null),e)),Object(a.a)(t=>this.weatherApi.get(t)))}}return t.\u0275fac=function(e){return new(e||t)(i.tc(s.c),i.tc(r.l))},t.\u0275prov=i.fc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Tg9P:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("fXoL"),o=n("pLZG"),a=n("lJxs"),c=n("/uUt"),s=n("60Qe");const r=["*"];let l=(()=>{class t{constructor(t,e){this.ref=t,this.stationSelectService=e,this.state$=this.stationSelectService.state$,this.state$.pipe(Object(o.a)(t=>t.active),Object(a.a)(t=>t.stations),Object(c.a)((t,e)=>t&&t.length===e.length)).subscribe(()=>{setTimeout(this.findScrollInfo.bind(this),500)}),this.state$.pipe(Object(o.a)(t=>t.active),Object(a.a)(t=>t.active),Object(c.a)((t,e)=>t===e)).subscribe(()=>{setTimeout(this.findScrollInfo.bind(this),500)})}ngOnInit(){this.ref&&(this.el=this.ref.nativeElement.querySelector("#stationselector_list"))}up(){this.scroll(-1)}down(){this.scroll(1)}findScrollInfo(){const t=this.el.clientHeight,e=this.el.scrollTop;return this.stationSelectService.updateScrollInfo({up:e>0,down:e+t<this.el.scrollHeight}),{height:t,scrollTop:e}}scroll(t){const{height:e,scrollTop:n}=this.findScrollInfo();this.el.scrollTop=n+e*t,this.findScrollInfo()}}return t.\u0275fac=function(e){return new(e||t)(i.jc(i.r),i.jc(s.a))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-station-select-scroll"]],ngContentSelectors:r,decls:2,vars:0,consts:[["id","stationselector_list"]],template:function(t,e){1&t&&(i.Gc(),i.pc(0,"div",0),i.Fc(1),i.oc())},styles:["[_nghost-%COMP%] {display: block}"]}),t})()},U22Q:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("fXoL"),o=n("8dEr"),a=n("jAAy"),c=n("NHP+"),s=n("Va8Q");let r=(()=>{class t{constructor(t,e){this.urlParserService=t,this.userProfileService=e,this._date$=new c.a,this.parseUrl()}getUserUnits(){var t,e,n,i;const o=null===(n=null===(e=null===(t=this.userProfileService)||void 0===t?void 0:t.getUnitFormat())||void 0===e?void 0:e.charAt(0))||void 0===n?void 0:n.toLowerCase();return o?"e"===(null===(i=null==o?void 0:o.charAt(0))||void 0===i?void 0:i.toLowerCase())?{liquidPrecipitation:"in",temperature:"F",wind:"mph",pressure:"in"}:{liquidPrecipitation:"mm",temperature:"C",wind:"km/h",pressure:"hPa"}:{liquidPrecipitation:"",temperature:"",wind:"",pressure:""}}get date$(){return this._date$}parseUrl(){return t=this,void 0,n=function*(){const{urlParserService:t}=this,e=t.parse(a.a),n=Object(o.S)(e,"pageName","history/daily").split("/")[1];t.getUrlDate(e).subscribe(t=>{const e=t.getFullYear(),i=t.getMonth()+1,o=t.getDate();this.date$.next({year:e,month:i,date:o,type:n}),this.date$.complete()})},new((e=void 0)||(e=Promise))((function(i,o){function a(t){try{s(n.next(t))}catch(e){o(e)}}function c(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}s((n=n.apply(t,[])).next())}));var t,e,n}}return t.\u0275fac=function(e){return new(e||t)(i.tc(a.d),i.tc(s.e))},t.\u0275prov=i.fc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},W4bI:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("AKWm"),o=n("fXoL"),a=n("IzEk"),c=n("bOdf"),s=n("8dEr"),r=n("p1rA"),l=n("JSYf"),d=n("Wr7N"),p=n("jwMx"),h=n("3ia6");const g=["uvBars"];let u=(()=>{class t{constructor(t,e,n,i,o){this.weatherApi=t,this.stationService=e,this.cityLinksService=n,this.forecastDalService=i,this.env=o,this.now=new Date,this.tileHeight=130,this.tileWidth=300,this.subtitle="",this.uvData={category:"No Data",uv:[]},this.uvColors={uv:["#4c4c4c","#599f47","#ffb82e","#fe8834","#d4212c"],bar:"#e7e7e7",bkg:"#f7f7f7",top:"#e7e7e7"},this.url=""}ngOnInit(){this.getHealthUrl()}ngAfterViewInit(){const{env:t}=this;t.isBrowser&&(this.element=this.barsContainer.nativeElement,this.getUvData())}getHealthUrl(){this.cityLinksService.getCityLinks().subscribe(t=>{this.url=t.health})}createChart(){const t=this.uvData.uv.slice(-1)[0],e=this.getUvColor(t);this.tileTitle=t>=5?`UV INDEX <i class="fi-alert" style="color:${e};"></i>`:"UV INDEX",Object(i.a)("#uvTopBar").style("height","36px").style("width","100%").style("position","static").style("background-color",this.uvColors.top).style("padding","9px 0px 9px 15px").html(this.tileTitle),Object(i.a)("#uvColorBar").style("width","100%").style("height","2px").style("position","static").style("background-color",e);const n=Object(i.a)("#uvBarChart").append("svg").attr("height","130px").attr("width","100%").style("background-color",this.uvColors.bkg);n.append("title").text("UV tile"),n.selectAll("rect").data(this.uvData.uv).enter().append("rect").attr("height",t=>this.barHeight(t)).attr("width",(t,e)=>this.barWidth(t,e)).attr("fill",this.uvColors.bar).attr("x",(t,e)=>this.svgX(t,e)).attr("y",t=>this.svgY(t)).attr("rx",3).attr("ry",3),n.append("text").attr("x","85%").attr("y",40).attr("font-size","200%").attr("text-anchor","start").attr("dominant-baseline","middle").text(this.uvData.category).style("fill",e).style("text-anchor","end").style("font-weight","bold"),n.append("text").attr("x","85%").attr("y",70).attr("font-size","80%").attr("text-anchor","start").attr("dominant-baseline","middle").style("text-anchor","end").text(this.subtitle),n.append("text").attr("x","85%").attr("y",90).attr("font-size","150%").attr("text-anchor","start").attr("dominant-baseline","middle").style("text-anchor","end").text(t).style("fill",e).style("font-weight","bold")}barHeight(t){return t<=0?0:this.tileHeight*t/12}barWidth(t,e){return this.tileWidth/this.uvData.uv.length-10}svgX(t,e){return e*this.tileWidth/this.uvData.uv.length}svgY(t){return this.tileHeight-this.tileHeight*t/12}getUvColor(t){return t>=0&&t<=2?this.uvColors.uv[1]:t>=3&&t<=5?this.uvColors.uv[2]:t>=6&&t<=7?this.uvColors.uv[3]:t>=8?this.uvColors.uv[4]:this.uvColors.uv[0]}getUvData(){this.stationService.currentStation.pipe(Object(a.a)(1),Object(c.a)(t=>this.forecastDalService.getDailyForecast(`${Object(s.S)(t,"latitude",null)},${Object(s.S)(t,"longitude",null)}`,7))).subscribe(t=>this.uvData=this.setData(t),t=>console.log("onError: %s",t),()=>this.createChart())}setData(t){const e=t.days;let n="";const i=[];for(let o=0;o<e.length;o++)e[o]&&i.push(e[o].uvIndex),o===e.length-1&&(n=e[o].uvDescription||"");return""!==n&&i?(this.subtitle="Daytime UV",{category:n,uv:i}):{category:"No Data",uv:[]}}getCityLocation(t){return{lat:Object(s.S)(t,"latitude",0),long:Object(s.S)(t,"longitude",0)}}}return t.\u0275fac=function(e){return new(e||t)(o.jc(r.l),o.jc(l.c),o.jc(d.c),o.jc(p.j),o.jc(h.b))},t.\u0275cmp=o.dc({type:t,selectors:[["lib-uv-tile"]],viewQuery:function(t,e){if(1&t&&o.qd(g,1),2&t){let t;o.Sc(t=o.xc())&&(e.barsContainer=t.first)}},decls:6,vars:1,consts:[[3,"href"],["id","uvTopBar",1,"tile-title"],["id","uvColorBar"],["id","uvBarChart"],["uvBars",""],[1,"hook-arrow"]],template:function(t,e){1&t&&(o.pc(0,"a",0),o.kc(1,"div",1),o.kc(2,"div",2),o.pc(3,"div",3,4),o.kc(5,"div",5),o.oc(),o.oc()),2&t&&o.Jc("href","",e.url,"?cm_ven=localwx_moduv",o.bd)},styles:['a[_ngcontent-%COMP%]{color:inherit}.hook-arrow[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:130px;width:20px;border-left:1px solid #d7d7d7;background-color:#f7f7f7}.hook-arrow[_ngcontent-%COMP%]:before{transform:rotate(45deg) translateY(-70%);content:"";border-style:solid;border-width:2px 2px 0 0;width:11px;height:11px;display:inline-block;position:absolute;color:#15aadc;top:66px;right:13px}.tile-title[_ngcontent-%COMP%]{color:#1e2023}#uvTopBar[_ngcontent-%COMP%]{width:100%;height:36px;font-family:sans-serif;font-size:14px;background-color:#e7e7e7}#uvColorBar[_ngcontent-%COMP%]{height:2px;width:100%;background-color:#4c4c4c}#uvBarChart[_ngcontent-%COMP%]{width:100%;height:130px;background-color:#f7f7f7;font-family:sans-serif;position:relative}']}),t})()},acWY:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var i=n("fXoL"),o=n("SxV6"),a=n("lJxs"),c=n("bOdf"),s=n("8dEr"),r=n("jwMx"),l=n("JSYf"),d=n("3ia6"),p=n("ofXK"),h=n("Qu3c");function g(t,e){if(1&t&&(i.pc(0,"div",20),i.pc(1,"div",8),i.pc(2,"span",21),i.jd(3," Length of Visible Light "),i.oc(),i.oc(),i.pc(4,"div",8),i.pc(5,"span",10),i.jd(6),i.oc(),i.jd(7," h "),i.pc(8,"span",10),i.jd(9),i.oc(),i.jd(10," m "),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(6),i.kd(t.astro.visibleLight.hours),i.Vb(3),i.kd(t.astro.visibleLight.minutes)}}function u(t,e){if(1&t&&(i.pc(0,"div",5),i.pc(1,"div",8),i.pc(2,"span",22),i.jd(3," Length of Day "),i.oc(),i.oc(),i.pc(4,"div",8),i.pc(5,"span",10),i.jd(6),i.oc(),i.jd(7," h "),i.pc(8,"span",10),i.jd(9),i.oc(),i.jd(10," m "),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(6),i.kd(t.astro.lengthOfDay.hours),i.Vb(3),i.kd(t.astro.lengthOfDay.minutes)}}function m(t,e){if(1&t&&(i.pc(0,"div",23),i.jd(1," Tomorrow will be "),i.pc(2,"span",10),i.jd(3),i.oc(),i.jd(4," minutes "),i.pc(5,"span",10),i.jd(6),i.oc(),i.jd(7),i.oc()),2&t){const t=i.Ac(2);i.Vb(3),i.kd(t.astro.tomorrowDaylightDifference.minutes),i.Vb(3),i.kd(t.astro.tomorrowDaylightDifference.seconds),i.Vb(1),i.ld(" seconds ",t.astro.tomorrowDaylightDifference.comparison," ")}}function b(t,e){if(1&t&&(i.pc(0,"div",24),i.pc(1,"div",25),i.kc(2,"img",26),i.oc(),i.pc(3,"div",27),i.pc(4,"div",28),i.jd(5),i.oc(),i.pc(6,"span",10),i.jd(7),i.oc(),i.jd(8," of the Moon is Illuminated "),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(2),i.Ic("src",t.astro.moonEvent.riseIcon,i.bd),i.Vb(3),i.kd(t.astro.moonEvent.risePhrase),i.Vb(2),i.kd(t.astro.moonEvent.percentIlluminated)}}function f(t,e){if(1&t&&(i.pc(0,"div",9),i.kc(1,"img",31),i.pc(2,"div",32),i.jd(3),i.oc(),i.pc(4,"div",33),i.jd(5),i.oc(),i.oc()),2&t){const t=e.$implicit;i.Vb(1),i.Ic("src",t.icon,i.bd),i.Vb(2),i.kd(t.date),i.Vb(2),i.kd(t.name)}}function y(t,e){if(1&t&&(i.pc(0,"div",29),i.hd(1,f,6,3,"div",30),i.oc()),2&t){const t=i.Ac(2);i.Vb(1),i.Hc("ngForOf",t.astroPhases)}}function v(t,e){if(1&t&&(i.pc(0,"div",4),i.pc(1,"div",5),i.pc(2,"div",6),i.jd(3,"Sun"),i.oc(),i.pc(4,"div",7),i.jd(5,"Rise"),i.oc(),i.pc(6,"div",7),i.jd(7,"Set"),i.oc(),i.oc(),i.pc(8,"div",5),i.pc(9,"div",8),i.jd(10,"Actual Time"),i.oc(),i.pc(11,"div",9),i.pc(12,"span",10),i.jd(13),i.oc(),i.jd(14),i.oc(),i.pc(15,"div",9),i.pc(16,"span",10),i.jd(17),i.oc(),i.jd(18),i.oc(),i.oc(),i.pc(19,"div",5),i.pc(20,"div",8),i.pc(21,"span",11),i.jd(22," Civil Twilight "),i.oc(),i.oc(),i.pc(23,"div",9),i.pc(24,"span",10),i.jd(25),i.oc(),i.jd(26),i.oc(),i.pc(27,"div",9),i.pc(28,"span",10),i.jd(29),i.oc(),i.jd(30),i.oc(),i.oc(),i.pc(31,"div",5),i.pc(32,"div",8),i.pc(33,"span",12),i.jd(34," Nautical Twilight "),i.oc(),i.oc(),i.pc(35,"div",9),i.pc(36,"span",10),i.jd(37),i.oc(),i.jd(38),i.oc(),i.pc(39,"div",9),i.pc(40,"span",10),i.jd(41),i.oc(),i.jd(42),i.oc(),i.oc(),i.pc(43,"div",5),i.pc(44,"div",8),i.pc(45,"span",13),i.jd(46," Astronomical Twilight "),i.oc(),i.oc(),i.pc(47,"div",9),i.pc(48,"span",10),i.jd(49),i.oc(),i.jd(50),i.oc(),i.pc(51,"div",9),i.pc(52,"span",10),i.jd(53),i.oc(),i.jd(54),i.oc(),i.oc(),i.hd(55,g,11,2,"div",14),i.hd(56,u,11,2,"div",15),i.hd(57,m,8,3,"div",16),i.pc(58,"div",17),i.pc(59,"div",8),i.jd(60,"Moon"),i.oc(),i.pc(61,"div",9),i.pc(62,"span",10),i.jd(63),i.oc(),i.jd(64),i.oc(),i.pc(65,"div",9),i.pc(66,"span",10),i.jd(67),i.oc(),i.jd(68),i.oc(),i.oc(),i.hd(69,b,9,3,"div",18),i.hd(70,y,2,1,"div",19),i.oc()),2&t){const t=i.Ac();i.Vb(13),i.kd(t.astro.sunrise),i.Vb(1),i.ld(" ",t.astro.sunriseMeridiem," "),i.Vb(3),i.kd(t.astro.sunset),i.Vb(1),i.ld(" ",t.astro.sunsetMeridiem,""),i.Vb(7),i.kd(t.astro.civilSunrise),i.Vb(1),i.ld(" ",t.astro.civilSunriseMeridiem,""),i.Vb(3),i.kd(t.astro.civilSunset),i.Vb(1),i.ld(" ",t.astro.civilSunsetMeridiem,""),i.Vb(7),i.kd(t.astro.nauticalSunrise),i.Vb(1),i.ld(" ",t.astro.nauticalSunriseMeridiem,""),i.Vb(3),i.kd(t.astro.nauticalSunset),i.Vb(1),i.ld(" ",t.astro.nauticalSunsetMeridiem,""),i.Vb(7),i.kd(t.astro.astronomicalSunrise),i.Vb(1),i.ld(" ",t.astro.astronomicalSunriseMeridiem,""),i.Vb(3),i.kd(t.astro.astronomicalSunset),i.Vb(1),i.ld(" ",t.astro.astronomicalSunsetMeridiem,""),i.Vb(1),i.Hc("ngIf",t.astro.visibleLight),i.Vb(1),i.Hc("ngIf",t.astro.lengthOfDay),i.Vb(1),i.Hc("ngIf",t.astro.tomorrowDaylightDifference),i.Vb(6),i.kd(t.astro.moonrise),i.Vb(1),i.ld(" ",t.astro.moonriseMeridiem,""),i.Vb(3),i.kd(t.astro.moonset),i.Vb(1),i.ld(" ",t.astro.moonsetMeridiem,""),i.Vb(1),i.Hc("ngIf",t.astro.moonEvent),i.Vb(1),i.Hc("ngIf",t.astroPhases)}}let O=(()=>{class t{constructor(t,e,n){this.astronomyDal=t,this.station=e,this.env=n,this.staticHost=this.env.apiVars.endpoints.staticHost}ngOnInit(){const t=new Date;this.station.currentStation.pipe(Object(o.a)(),Object(a.a)(t=>`${Object(s.S)(t,"latitude",0)},${Object(s.S)(t,"longitude",0)}`),Object(c.a)(e=>this.astronomyDal.getAstronomy(t.getFullYear(),t.getMonth()+1,t.getDate(),e))).subscribe(t=>{t&&(this.astro=t.astroData[0],this.astroPhases=t.astroPhases)})}}return t.\u0275fac=function(e){return new(e||t)(i.jc(r.d),i.jc(l.c),i.jc(d.b))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-astronomy"]],decls:5,vars:1,consts:[[1,"data-module","city-astronomy"],[1,"module-header"],["translate","Astronomy","translateContext","city-astronomy"],["class","content",4,"ngIf"],[1,"content"],[1,"row","collapse"],[1,"columns","small-6","data-title"],[1,"columns","small-3","data-title"],[1,"columns","small-6"],[1,"columns","small-3"],[1,"data-point"],["matTooltip","The time period when the sun is no more than 6 degrees below the horizon at either sunrise or sunset. The horizon should be clearly defined and the brightest stars should be visible under good atmospheric conditions (i.e. no moonlight, or other lights). One still should be able to carry on ordinary outdoor activities.",1,"with-tooltip"],["matTooltip","The time period when the sun is between 6 and 12 degrees below the horizon at either sunrise or sunset. The horizon is well defined and the outline of objects might be visible without artificial light. Ordinary outdoor activities are not possible at this time without extra illumination.",1,"with-tooltip"],["matTooltip","The time period when the sun is between 12 and 18 degrees below the horizon at either sunrise or sunset. The sun does not contribute to the illumination of the sky before this time in the morning, or after this time in the evening. In the beginning of morning astronomical twilight and at the end of astronomical twilight in the evening, sky illumination is very faint, and might be undetectable.",1,"with-tooltip"],["class","row collapse vis-light-length",4,"ngIf"],["class","row collapse",4,"ngIf"],["class","row columns tomorrow-phrase",4,"ngIf"],[1,"row","collapse","moon-rise-set"],["class","row collapse phase-today",4,"ngIf"],["class","row collapse phases-future",4,"ngIf"],[1,"row","collapse","vis-light-length"],["matTooltip","The time of Civil Sunset minus the time of Civil Sunrise.",1,"with-tooltip"],["matTooltip","The time of Actual Sunset minus the time of Actual Sunrise. The change in length of daylight between today and tomorrow is also listed when available.",1,"with-tooltip"],[1,"row","columns","tomorrow-phrase"],[1,"row","collapse","phase-today"],[1,"columns","small-2"],["alt","icon",1,"moon-icon-today",3,"src"],[1,"columns","small-10","moon-phase"],[1,"phase-name"],[1,"row","collapse","phases-future"],["class","columns small-3",4,"ngFor","ngForOf"],["alt","icon",1,"moon-icon-future",3,"src"],[1,"phases-date"],[1,"phases-name"]],template:function(t,e){1&t&&(i.pc(0,"div",0),i.pc(1,"div",1),i.pc(2,"span",2),i.jd(3,"Astronomy"),i.oc(),i.oc(),i.hd(4,v,71,25,"div",3),i.oc()),2&t&&(i.Vb(4),i.Hc("ngIf",e.astro))},directives:[p.m,h.a,p.l],styles:[".phases-date[_ngcontent-%COMP%], .phases-name[_ngcontent-%COMP%]{text-transform:capitalize;text-align:center;line-height:1.25em}.tomorrow-phrase[_ngcontent-%COMP%]{border-bottom:1px solid #696969;padding-bottom:10px;margin-bottom:10px}.moon-phase[_ngcontent-%COMP%]{padding-left:0}.moon-phase[_ngcontent-%COMP%]   .phase-name[_ngcontent-%COMP%]{text-transform:capitalize}.vis-light-length[_ngcontent-%COMP%]{margin-top:1rem}.phase-today[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px;vertical-align:middle;border-bottom:1px solid #696969;padding-bottom:10px}.phases-future[_ngcontent-%COMP%]{margin-top:15px}.astronomy-moon[_ngcontent-%COMP%]{float:left;margin-right:10px;margin-top:0}.moon-icon-today[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:5px;vertical-align:middle;margin-top:7px}.moon-icon-future[_ngcontent-%COMP%]{max-width:40px;max-height:40px;display:block;margin-left:auto;margin-right:auto;margin-bottom:10px}.empty-block[_ngcontent-%COMP%]{height:539px}@media screen and (min-width:40em){.empty-block[_ngcontent-%COMP%]{height:591px}}@media screen and (min-width:64em){.empty-block[_ngcontent-%COMP%]{height:549px}}@media screen and (min-width:75em){.empty-block[_ngcontent-%COMP%]{height:511px}}.with-tooltip[_ngcontent-%COMP%]{border-bottom:1px dotted #4c4c4c;font-weight:700;position:relative;display:inline-block;cursor:help}"]}),t})()},"d+en":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("fXoL"),o=n("8dEr"),a=n("ezK1"),c=n("Wr7N"),s=n("3ia6"),r=n("ofXK"),l=n("DNub");function d(t,e){if(1&t&&(i.pc(0,"a",6),i.jd(1),i.oc()),2&t){const t=i.Ac(2);i.Hc("href",t.calendarLink,i.bd),i.Vb(1),i.ld("",t.almanac.today.date.monthLong," Calendar View")}}function p(t,e){if(1&t&&(i.pc(0,"div",2),i.pc(1,"div",3),i.jd(2),i.pc(3,"span"),i.jd(4,"Station History"),i.oc(),i.oc(),i.pc(5,"div",4),i.pc(6,"div",5),i.pc(7,"a",6),i.jd(8),i.oc(),i.oc(),i.pc(9,"div",7),i.pc(10,"div",8),i.jd(11,"\xa0"),i.oc(),i.pc(12,"div",8),i.jd(13,"Forecast"),i.oc(),i.pc(14,"div",8),i.jd(15,"Average *"),i.oc(),i.pc(16,"div",8),i.jd(17,"Record"),i.oc(),i.oc(),i.pc(18,"div",9),i.jd(19,"Temperature"),i.oc(),i.pc(20,"div",7),i.pc(21,"div",10),i.jd(22,"High"),i.oc(),i.pc(23,"div",10),i.kc(24,"lib-display-unit",11),i.oc(),i.pc(25,"div",10),i.kc(26,"lib-display-unit",11),i.oc(),i.pc(27,"div",10),i.kc(28,"lib-display-unit",11),i.oc(),i.oc(),i.pc(29,"div",7),i.pc(30,"div",10),i.jd(31,"Low"),i.oc(),i.pc(32,"div",10),i.kc(33,"lib-display-unit",11),i.oc(),i.pc(34,"div",10),i.kc(35,"lib-display-unit",11),i.oc(),i.pc(36,"div",10),i.kc(37,"lib-display-unit",11),i.oc(),i.oc(),i.pc(38,"div",12),i.jd(39,"Rain/Snow Depth"),i.oc(),i.pc(40,"div",7),i.pc(41,"div",10),i.jd(42,"Precipitation"),i.oc(),i.pc(43,"div",10),i.kc(44,"lib-display-unit",13),i.oc(),i.pc(45,"div",10),i.kc(46,"lib-display-unit",13),i.oc(),i.pc(47,"div",14),i.jd(48," - "),i.oc(),i.oc(),i.pc(49,"div",7),i.pc(50,"div",10),i.jd(51,"Snow"),i.oc(),i.pc(52,"div",10),i.kc(53,"lib-display-unit",15),i.oc(),i.pc(54,"div",10),i.kc(55,"lib-display-unit",15),i.oc(),i.pc(56,"div",14),i.jd(57," - "),i.oc(),i.oc(),i.pc(58,"div",16),i.pc(59,"a",6),i.jd(60),i.oc(),i.oc(),i.pc(61,"div",7),i.pc(62,"div",8),i.jd(63,"\xa0"),i.oc(),i.pc(64,"div",8),i.jd(65,"Actual"),i.oc(),i.pc(66,"div",8),i.jd(67,"Average *"),i.oc(),i.pc(68,"div",8),i.jd(69,"Record"),i.oc(),i.oc(),i.pc(70,"div",9),i.jd(71,"Temperature"),i.oc(),i.pc(72,"div",7),i.pc(73,"div",10),i.jd(74,"High"),i.oc(),i.pc(75,"div",10),i.kc(76,"lib-display-unit",11),i.oc(),i.pc(77,"div",10),i.kc(78,"lib-display-unit",11),i.oc(),i.pc(79,"div",17),i.kc(80,"lib-display-unit",11),i.oc(),i.oc(),i.pc(81,"div",7),i.pc(82,"div",10),i.jd(83,"Low"),i.oc(),i.pc(84,"div",10),i.kc(85,"lib-display-unit",11),i.oc(),i.pc(86,"div",10),i.kc(87,"lib-display-unit",11),i.oc(),i.pc(88,"div",17),i.kc(89,"lib-display-unit",11),i.oc(),i.oc(),i.oc(),i.pc(90,"div",18),i.hd(91,d,2,2,"a",19),i.oc(),i.oc()),2&t){const t=i.Ac();i.Vb(2),i.ld(" ",t.almanac.airport," "),i.Vb(5),i.Hc("href",t.almanac.today.link,i.bd),i.Vb(1),i.ld("Almanac for ",t.almanac.today.date.pretty,""),i.Vb(16),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.today.temperature.forecast.high),i.Vb(2),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.today.temperature.average.high),i.Vb(2),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.today.temperature.record.high),i.Vb(5),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.today.temperature.forecast.low),i.Vb(2),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.today.temperature.average.low),i.Vb(2),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.today.temperature.record.low),i.Vb(7),i.Hc("dynamicDecimals",!0)("value",t.almanac.today.precipitation.forecast.precipitation),i.Vb(2),i.Hc("dynamicDecimals",!0)("value",t.almanac.today.precipitation.average.precipitation),i.Vb(7),i.Hc("dynamicDecimals",!0)("value",t.almanac.today.precipitation.forecast.snow),i.Vb(2),i.Hc("dynamicDecimals",!0)("value",t.almanac.today.precipitation.average.snow),i.Vb(4),i.Hc("href",t.almanac.yesterday.link,i.bd),i.Vb(1),i.ld("Almanac for ",t.almanac.yesterday.date.pretty,""),i.Vb(16),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.yesterday.temperature.actual.high),i.Vb(2),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.yesterday.temperature.average.high),i.Vb(2),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.yesterday.temperature.record.high),i.Vb(5),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.yesterday.temperature.actual.low),i.Vb(2),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.yesterday.temperature.average.low),i.Vb(2),i.Hc("dynamicDecimals",!0)("isDegreeVisible",!0)("value",t.almanac.yesterday.temperature.record.low),i.Vb(2),i.Hc("ngIf",t.almanac.today&&t.calendarLink)}}function h(t,e){1&t&&(i.pc(0,"div",20),i.kc(1,"div",3),i.oc())}let g=(()=>{class t{constructor(t,e,n){this.almanacService=t,this.cityLinksService=e,this.env=n,this.isBrowser=this.env.isBrowser,this.almanac={airport:"",units:{systemCode:"",tempAbbrev:"",tempLong:"",depthAbbrev:""},today:{link:"",date:{pretty:"",year:"",month:"",monthLong:"",day:""},temperature:{forecast:{high:0,low:0},average:{high:0,low:0},record:{high:0,low:0}},precipitation:{forecast:{precipitation:0,snow:0},average:{precipitation:0,snow:0}}},yesterday:{link:"",date:{pretty:"",year:"",month:"",monthLong:"",day:""},temperature:{actual:{high:0,low:0},average:{high:0,low:0},record:{high:0,low:0}}}}}ngOnInit(){this.almanacService.getAlmanacData().subscribe(t=>Object.assign(this.almanac,Object(o.O)(this.almanac,t))),this.cityLinksService.getCityLinks().subscribe(t=>this.calendarLink=t.calendar)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(a.a),i.jc(c.c),i.jc(s.b))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-almanac"]],decls:3,vars:2,consts:[["class","data-module city-almanac",4,"ngIf","ngIfElse"],["empty",""],[1,"data-module","city-almanac"],[1,"module-header"],[1,"content"],[1,"day-title"],[3,"href"],[1,"row","collapse"],[1,"columns","small-3","data-title"],[1,"row","columns","sub-title"],[1,"columns","small-3"],["type","temperature",3,"dynamicDecimals","isDegreeVisible","value"],[1,"row","columns","sub-title","skip-row"],["type","rain",3,"dynamicDecimals","value"],[1,"columns","small-3","depth-range"],["type","snow",3,"dynamicDecimals","value"],[1,"day-title","skip-row"],[1,"columns","small-3","record-year"],[1,"view-calendar"],[3,"href",4,"ngIf"],[1,"data-module","empty-block"]],template:function(t,e){if(1&t&&(i.hd(0,p,92,50,"div",0),i.hd(1,h,2,0,"ng-template",null,1,i.id)),2&t){const t=i.Tc(2);i.Hc("ngIf",e.isBrowser)("ngIfElse",t)}},directives:[r.m,l.a],styles:[".no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.day-title[_ngcontent-%COMP%]{font-size:1.125rem}.data-title[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.sub-title[_ngcontent-%COMP%]{color:#a3a3a3}.column-titles[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:0;color:#a3a3a3;text-transform:uppercase;white-space:nowrap}.text-ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.depth-range[_ngcontent-%COMP%], .record-year[_ngcontent-%COMP%], .text-ellipsis.columns[_ngcontent-%COMP%]{padding-right:0}@media screen and (max-width:63.9375em){.depth-range[_ngcontent-%COMP%], .record-year[_ngcontent-%COMP%]{white-space:normal}}@media screen and (min-width:64em){.depth-range[_ngcontent-%COMP%], .record-year[_ngcontent-%COMP%]{white-space:nowrap}}.skip-row[_ngcontent-%COMP%]{margin-top:1em}.skip-row.day-title[_ngcontent-%COMP%]{border-top:1px solid #696969;padding-top:1em}.view-calendar[_ngcontent-%COMP%]{background-color:transparent;border-top:1px solid #696969;border-bottom:1px solid #696969;text-align:center}.view-calendar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:32px;line-height:32px;font-size:.9375rem;font-weight:700;text-transform:uppercase}.empty-block[_ngcontent-%COMP%]{height:625px}@media screen and (min-width:40em){.empty-block[_ngcontent-%COMP%]{height:719px}}@media screen and (min-width:64em){.empty-block[_ngcontent-%COMP%]{height:572px}}"]}),t})()},ehsb:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("fXoL"),o=n("IzEk"),a=n("eIep"),c=n("vkgz"),s=n("lJxs"),r=n("NHP+"),l=n("r0o6"),d=n("LRne"),p=n("jAAy"),h=n("8dEr"),g=n("ofXK"),u=n("9Okg");let m=(()=>{class t{constructor(t,e,n){this.currentStation=t,this.urlParser=e,this.dom=n,this._canonical$=new r.a;const i=this.dom.URL,s=e.parse(p.a);Object(l.a)(()=>!!s.zip||(s.date||s.yesterday)&&!s.placeId,Object(d.a)(i),t.pipe(Object(o.a)(1),Object(a.a)(t=>this.canonicalFrom(s,t)))).pipe(Object(o.a)(1),Object(c.a)(t=>{this._canonical$.next(t),this._canonical$.complete()})).subscribe()}get canonical$(){return this._canonical$}canonicalFrom(t,e){const{urlParser:n}=this;return n.getUrlDate(t).pipe(Object(s.a)(n=>{const i=t.pageName,o=-1!==i.indexOf("calendar")||-1!==i.indexOf("monthly"),a=Object(h.S)(e,"city",""),c=Object(h.S)(e,"adminDistrictCode",""),s=Object(h.S)(e,"countryCode",""),r={date:!t.yesterday&&t.date?n:null,page:i,skipDay:o,city:a,state:c,country:s,extra:t.yesterday?"yesterday":null};return"https://www.wunderground.com/"+Object(p.e)(r)}))}}return t.\u0275fac=function(e){return new(e||t)(i.tc(u.b),i.tc(p.d),i.tc(g.d))},t.\u0275prov=i.fc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ezK1:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("fXoL"),o=n("VRyK"),a=n("LRne"),c=n("5+tZ"),s=n("lJxs"),r=n("ofXK"),l=n("Va8Q"),d=n("JSYf"),p=n("Wr7N"),h=n("jwMx");let g=(()=>{class t{constructor(t,e,n,i,o,a,c){this.datePipe=t,this.userProfile=e,this.stationService=n,this.cityLinks=i,this.almanacDalService=o,this.dailyDalService=a,this.historyDalService=c;const s=this.getUnits();this.systemCode=s.units.systemCode,this.tempAbbrev=s.units.tempAbbrev,this.tempLong=s.units.tempLong,this.depthAbbrev=s.units.depthAbbrev}getAlmanacData(){return this.getStation().pipe(Object(c.a)(t=>Object(o.a)(Object(a.a)(this.getUnits()),this.getDates(),this.getLinks(t.station,t.icao),this.getAlmanac(t.icao),this.getForecastToday(t.icao),this.getHistoryYesterday(t.icao))))}getAlmanac(t){return this.almanacDalService.getDaysAlmanacIcao(t,this.todayDate.getMonth()+1,this.todayDate.getDate()).pipe(Object(s.a)(e=>({airport:t,today:{temperature:{average:{high:e[1].temperature.avg.max,low:e[1].temperature.avg.min},record:{high:e[1].temperature.record.max,low:e[1].temperature.record.min}},precipitation:{average:{precipitation:e[1].precipitation.avg.rain,snow:e[1].precipitation.avg.snow}}},yesterday:{temperature:{average:{high:e[0].temperature.avg.max,low:e[0].temperature.avg.min},record:{high:e[0].temperature.record.max,low:e[0].temperature.record.min}}}})))}getForecastToday(t){return this.dailyDalService.getThreeDayForecastIcao(t).pipe(Object(s.a)(t=>({today:{temperature:{forecast:{high:t.days[0].temperature.max,low:t.days[0].temperature.min}},precipitation:{forecast:{precipitation:t.days[0].precipitation.rain,snow:t.days[0].precipitation.snow}}}})))}getHistoryYesterday(t){return this.historyDalService.getHistory(t).pipe(Object(s.a)(t=>{const e={yesterday:{temperature:{actual:{high:t[1].temperature.max,low:t[1].temperature.min}}}};return t[0].temperature.max?Object.assign(e,{today:{temperature:{forecast:{high:t[0].temperature.max}}}}):e}))}getUnits(){return"metric"===this.userProfile.getUnitFormat()?{units:{systemCode:"m",tempAbbrev:"C",tempLong:"celcius",depthAbbrev:"cm"}}:{units:{systemCode:"i",tempAbbrev:"F",tempLong:"fahrenheit",depthAbbrev:"in"}}}getDates(){const t=new Date,e=new Date;e.setDate(t.getDate()-1);const n=this.datePipe.transform(t,"longDate")||"",i=n?n.split(" ")[0]:"",o=this.datePipe.transform(e,"longDate")||"",c=o?o.split(" ")[0]:"";this.todayDate=t,this.yesterdayDate=e;const s={today:{date:{pretty:n,year:t.getFullYear(),month:t.getMonth()+1,monthLong:i,day:t.getDate()}},yesterday:{date:{pretty:o,year:e.getFullYear(),month:e.getMonth()+1,monthLong:c,day:e.getDate()}}};return Object(a.a)(s)}getLinks(t,e){const n=new Date,i=new Date((new Date).setDate((new Date).getDate()-1));let o="",c="";return e&&(o=this.cityLinks.getLink("/history/daily",t,{extra:e},n),c=this.cityLinks.getLink("/history/daily",t,{extra:e},i)),Object(a.a)({today:{link:o},yesterday:{link:c}})}getStation(){return this.stationService.currentStation.pipe(Object(s.a)(t=>{var e;return{station:t,icao:null===(e=t.airport)||void 0===e?void 0:e.icao}}))}}return t.\u0275fac=function(e){return new(e||t)(i.tc(r.e),i.tc(l.e),i.tc(d.c),i.tc(p.c),i.tc(h.c),i.tc(h.g),i.tc(h.k))},t.\u0275prov=i.fc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},i7Xh:function(t,e,n){"use strict";n.d(e,"a",(function(){return H}));var i=n("fXoL"),o=n("Dh3D"),a=n("+0xr"),c=n("cp0P"),s=n("IzEk"),r=n("vkgz"),l=n("8dEr"),d=n("U22Q"),p=n("jwMx"),h=n("9Okg"),g=n("3ia6"),u=n("ofXK"),m=n("DNub");function b(t,e){if(1&t&&(i.pc(0,"th",14),i.jd(1),i.oc()),2&t){const t=i.Ac().$implicit;i.Vb(1),i.kd(t.text)}}function f(t,e){if(1&t&&i.kc(0,"lib-display-unit",18),2&t){const t=i.Ac().$implicit,e=i.Ac().$implicit;i.Hc("type",e.displayUnit.type)("value",t[e.field])("suffix",e.displayUnit.suffix)("prefix",e.displayUnit.prefix)("isDegreeVisible",e.displayUnit.isDegreeVisible)("decimalPositions",e.displayUnit.decimalPositions)("allowEmptyValues",e.displayUnit.allowEmptyValues)("customUnits",e.displayUnit.customUnits)}}function y(t,e){if(1&t&&(i.pc(0,"span"),i.jd(1),i.oc()),2&t){const t=i.Ac().$implicit,e=i.Ac().$implicit;i.Vb(1),i.kd(t[e.field])}}function v(t,e){if(1&t&&(i.pc(0,"td",15),i.hd(1,f,1,8,"lib-display-unit",16),i.hd(2,y,2,1,"span",17),i.oc()),2&t){const t=i.Ac().$implicit;i.Vb(1),i.Hc("ngIf",t.displayUnit),i.Vb(1),i.Hc("ngIf",!t.displayUnit)}}function O(t,e){1&t&&i.kc(0,"tr",19)}function C(t,e){1&t&&(i.nc(0,10),i.hd(1,b,2,1,"th",11),i.hd(2,v,3,2,"td",12),i.hd(3,O,1,0,"tr",13),i.mc()),2&t&&(i.Hc("matColumnDef",e.$implicit.field),i.Vb(3),i.Hc("matFooterRowDef",null))}function w(t,e){1&t&&i.kc(0,"tr",20)}function P(t,e){1&t&&i.kc(0,"tr",21)}function M(t,e){if(1&t&&(i.pc(0,"table",6),i.hd(1,C,4,2,"ng-container",7),i.hd(2,w,1,0,"tr",8),i.hd(3,P,1,0,"tr",9),i.oc()),2&t){const t=i.Ac(2);i.Hc("dataSource",t.observationTable.data),i.Vb(1),i.Hc("ngForOf",t.observationTable.columns),i.Vb(1),i.Hc("matHeaderRowDef",t.observationTable.columnsNames),i.Vb(1),i.Hc("matRowDefColumns",t.observationTable.columnsNames)}}function x(t,e){if(1&t&&(i.pc(0,"td"),i.jd(1),i.oc()),2&t){const t=e.$implicit;i.Vb(1),i.kd(t)}}function _(t,e){if(1&t&&(i.pc(0,"td"),i.jd(1),i.oc()),2&t){const t=e.$implicit;i.Vb(1),i.ld(" ",t," ")}}function S(t,e){if(1&t&&(i.pc(0,"tr"),i.hd(1,_,2,1,"td",23),i.oc()),2&t){const t=e.$implicit,n=i.Ac().index;i.Vb(1),i.Hc("ngForOf",t[n])}}function j(t,e){if(1&t&&(i.pc(0,"td"),i.pc(1,"table",24),i.hd(2,S,2,1,"tr",23),i.oc(),i.oc()),2&t){const t=i.Ac(3);i.Vb(2),i.Hc("ngForOf",t.daysData)}}function k(t,e){if(1&t&&(i.pc(0,"table",22),i.pc(1,"thead"),i.pc(2,"tr"),i.hd(3,x,2,1,"td",23),i.oc(),i.oc(),i.pc(4,"tbody"),i.pc(5,"tr"),i.hd(6,j,3,1,"td",23),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(3),i.Hc("ngForOf",t.titles),i.Vb(3),i.Hc("ngForOf",t.titles)}}function D(t,e){if(1&t&&(i.pc(0,"div",3),i.hd(1,M,4,4,"table",4),i.hd(2,k,7,2,"ng-template",null,5,i.id),i.oc()),2&t){const t=i.Tc(3),e=i.Ac();i.Vb(1),i.Hc("ngIf","daily"===e.type)("ngIfElse",t)}}function V(t,e){1&t&&i.jd(0," No Data Recorded ")}let H=(()=>{class t{constructor(t,e,n,i){this.cityHistoryService=t,this.historyService=e,this.currentStation=n,this.env=i,this.type="",this.titles=[],this.data=[],this.daysData=[],this.isBrowser=this.env.isBrowser,this.observationTable={id:"history-observation-table",NoRowsMsg:"No data recorded",columns:[],columnsNames:[],data:null},this.geocode="",this.locationCode="",this.userUnits={liquidPrecipitation:"",temperature:"",wind:"",pressure:""},this.isBrowser&&Object(c.a)(t.date$,n.pipe(Object(s.a)(1))).pipe(Object(r.a)(([t,e])=>{const{type:n}=t,i=`${Object(l.S)(e,"pws.latitude",0)},${Object(l.S)(e,"pws.longitude",0)}`,o=`${Object(l.S)(e,"pws.id","")}:9:${Object(l.S)(e,"countryCode")}`;switch(this.userUnits=this.cityHistoryService.getUserUnits(),this.type=n,this.year=t.year,this.month=t.month,this.date=t.date,this.geocode=i,this.locationCode=o,n){case"daily":this.getDailyObservation();break;case"weekly":this.getWeeklyObservation();break;case"monthly":this.getMonthlyObservation()}})).subscribe()}parseTime(t){const e=t.toLocaleTimeString("en-US"),n=e.split(":");return`${n[0]}:${n[1]} ${e.substring(e.length-2,e.length)}`}getDailyObservation(){this.historyService.getObservations(this.geocode,this.locationCode,this.year,this.month,this.date).subscribe(t=>{const e=t.map(t=>Object.assign(Object.assign({},t),{dateString:this.parseTime(t.date)}));this.observationTable.data=new a.m(e),this.observationTable.data.sort=this.sort,this.observationTable.columns=this.getColumns(),this.observationTable.columnsNames=this.observationTable.columns.map(t=>t.field)})}getWeeklyObservation(){const t=new Date(this.year,this.month-1,this.date);t.setDate(t.getDate()-t.getDay());const e=new Date(t.getTime());e.setDate(e.getDate()+6),this.getDaysData(t,e)}getMonthlyObservation(){const t=new Date(this.year,this.month-1,1),e=new Date(this.year,this.month,0);this.getDaysData(t,e)}getDaysData(t,e){this.historyService.getDays(this.geocode,this.locationCode,t.getFullYear(),t.getMonth()+1,t.getDate(),e.getFullYear(),e.getMonth()+1,e.getDate()).subscribe(t=>{t.length&&(this.titles=["Time",`Temperature (\xb0${this.userUnits.temperature})`,`Dew Point (\xb0${this.userUnits.temperature})`,"Humidity (%)",`Wind Speed (${this.userUnits.wind})`,`Pressure (${this.userUnits.pressure})`,`Precipitation (${this.userUnits.liquidPrecipitation})`],this.daysData.push(this.titles.map((e,n)=>0===n?[Object(l.u)(t[0].month-1,!0)]:n===this.titles.length-1?["Total"]:["Max","Avg","Min"])),t.forEach(t=>{const e=[];e.push([t.day.toString()]),e.push([t.temperature.actual.max.toString(),t.temperature.actual.avg.toFixed(1),t.temperature.actual.min.toString()]),e.push([t.dewpoint.actual.max.toString(),t.dewpoint.actual.avg.toFixed(1),t.dewpoint.actual.min.toString()]),e.push([t.humidity.actual.max.toString(),t.humidity.actual.avg.toFixed(1),t.humidity.actual.min.toString()]),e.push([t.windspeed.actual.max.toString(),t.windspeed.actual.avg.toFixed(1),t.windspeed.actual.min.toString()]),e.push([t.pressure.actual.max.toFixed(1),t.pressure.actual.avg.toFixed(1),t.pressure.actual.min.toFixed(1)]),e.push([t.precipitation.rain.actual.val.toFixed(2).toString()]),this.daysData.push(e)}))})}getColumns(){return[{text:"Time",field:"dateString",priorityPersist:!0},{text:"Temperature",field:"temperature",displayUnit:{type:"temperature",decimalPositions:0,isDegreeVisible:!0}},{text:"Dew Point",field:"dewPoint",priorityPersist:!1,displayUnit:{type:"temperature",decimalPositions:0,isDegreeVisible:!0}},{text:"Humidity",field:"humidity",priorityPersist:!1,displayUnit:{type:"humidity",decimalPositions:0}},{text:"Wind",field:"windcardinal",priorityPersist:!1},{text:"Wind Speed",field:"windSpeed",priorityPersist:!1,displayUnit:{type:"speed",decimalPositions:0}},{text:"Wind Gust",field:"windGust",priorityPersist:!1,displayUnit:{type:"speed",decimalPositions:0}},{text:"Pressure",field:"pressure",priorityPersist:!1,displayUnit:{type:"pressure",decimalPositions:2}},{text:"Precip.",field:"precipRate",priorityPersist:!1,displayUnit:{type:"rain",decimalPositions:1}},{text:"Condition",field:"condition",priorityPersist:!1}]}}return t.\u0275fac=function(e){return new(e||t)(i.jc(d.a),i.jc(p.k),i.jc(h.b),i.jc(g.b))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-city-history-observation"]],viewQuery:function(t,e){if(1&t&&i.qd(o.a,1),2&t){let t;i.Sc(t=i.xc())&&(e.sort=t.first)}},decls:6,vars:2,consts:[[1,"observation-title"],["class","observation-table",4,"ngIf","ngIfElse"],["noData",""],[1,"observation-table"],["mat-table","","aria-labelledby","History observation","matSort","","class","mat-table","aria-label","table of contents",3,"dataSource",4,"ngIf","ngIfElse"],["days",""],["mat-table","","aria-labelledby","History observation","matSort","","aria-label","table of contents",1,"mat-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","","tabindex","0",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"type","value","suffix","prefix","isDegreeVisible","decimalPositions","allowEmptyValues","customUnits",4,"ngIf"],[4,"ngIf"],[3,"type","value","suffix","prefix","isDegreeVisible","decimalPositions","allowEmptyValues","customUnits"],["mat-footer-row",""],["mat-header-row","","tabindex","0"],["mat-row",""],["aria-labelledby","History days",1,"days"],[4,"ngFor","ngForOf"],["aria-labelledby","Days data"]],template:function(t,e){if(1&t&&(i.pc(0,"div"),i.pc(1,"div",0),i.jd(2,"Daily Observations"),i.oc(),i.hd(3,D,4,2,"div",1),i.hd(4,V,1,0,"ng-template",null,2,i.id),i.oc()),2&t){const t=i.Tc(5);i.Vb(3),i.Hc("ngIf",e.observationTable.columns.length||e.daysData.length)("ngIfElse",t)}},directives:[u.m,a.l,o.a,u.l,a.i,a.k,a.c,a.g,a.b,a.e,a.f,o.b,a.a,m.a,a.d,a.h,a.j],styles:["[_nghost-%COMP%]{display:block;min-height:270px}.center[_ngcontent-%COMP%]{text-align:center}.observation-title[_ngcontent-%COMP%]{font-size:35px;font-weight:700}.observation-table[_ngcontent-%COMP%]{white-space:nowrap;overflow:auto}.observation-table[_ngcontent-%COMP%]   .col-sub[_ngcontent-%COMP%]{display:inline-block;width:33.33333%}.observation-table[_ngcontent-%COMP%]{padding-top:20px;margin-bottom:20px}.observation-table[_ngcontent-%COMP%]     .mat-table{margin:0;border:1px solid #d7d7d7;border-bottom:none}.observation-table[_ngcontent-%COMP%]     .mat-table td.mat-cell:first-of-type{padding:0 15px 0 10px}.observation-table[_ngcontent-%COMP%]     .mat-table thead tr.mat-header-row{height:35px;background:#f7f7f7}.observation-table[_ngcontent-%COMP%]     .mat-table thead th.mat-header-cell{font-weight:700;font-size:12px;color:#1e2023;padding:0 10px}.observation-table[_ngcontent-%COMP%]     .mat-table tbody tr.mat-row{height:30px}.observation-table[_ngcontent-%COMP%]     .mat-table tbody tr.mat-row:nth-child(2n){background:#f7f7f7}.observation-table[_ngcontent-%COMP%]     .mat-table tbody td.mat-cell{font-size:12px;border:none;padding:0 10px}.observation-table[_ngcontent-%COMP%]     .mat-table tfoot{display:none}table.days[_ngcontent-%COMP%]{margin:0}table.days[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #a9a9a9}table.days[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:400;text-align:center}table.days[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{border:none}table.days[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:unset}table.days[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0}table.days[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table.days[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:unset}table.days[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2n){background-color:#f7f7f7}"]}),t})()},"iN+g":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),o=n("jhN1");let a=(()=>{class t{constructor(t){this.domSanitizer=t,this.speed="",this.angle="",this.transformStyle=""}ngOnInit(){this.transformStyle=this.safeStyle("rotate("+this.angle+"deg)")}safeStyle(t){return this.domSanitizer.bypassSecurityTrustStyle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(o.c))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-wind-gauge"]],inputs:{speed:"speed",angle:"angle"},decls:9,vars:3,consts:[[1,"wind-compass-wrap"],[1,"wind-compass"],[1,"dial"],[1,"arrow-direction"],[1,"wind-north"],[1,"wind-speed"]],template:function(t,e){1&t&&(i.pc(0,"div",0),i.pc(1,"div",1),i.pc(2,"div",2),i.kc(3,"div",3),i.oc(),i.oc(),i.pc(4,"div",4),i.jd(5,"N"),i.oc(),i.pc(6,"header",5),i.pc(7,"strong"),i.jd(8),i.oc(),i.oc(),i.oc()),2&t&&(i.Vb(1),i.ed("transform",e.transformStyle),i.Vb(7),i.kd(e.speed))},styles:[".wind-compass-wrap[_ngcontent-%COMP%]{width:50px;height:50px;position:relative;overflow:hidden}@media screen and (min-width:40em){.wind-compass-wrap[_ngcontent-%COMP%]{width:65px;height:65px;margin:10px auto 0}}.wind-compass[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:block}.wind-compass[_ngcontent-%COMP%]   .dial[_ngcontent-%COMP%]{border-radius:50%;width:46px;height:46px;border:2px solid #818282;position:relative;box-sizing:content-box}.wind-compass[_ngcontent-%COMP%]   .arrow-direction[_ngcontent-%COMP%]{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:15px solid #1e2023;position:absolute;left:18px;top:-8.3333333333px}@media screen and (min-width:40em){.wind-compass[_ngcontent-%COMP%]   .dial[_ngcontent-%COMP%]{border-radius:50%;width:59px;height:59px;border:3px solid #818282;position:relative;box-sizing:content-box}.wind-compass[_ngcontent-%COMP%]   .arrow-direction[_ngcontent-%COMP%]{width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:18px solid #1e2023;position:absolute;left:23.5px;top:-10px}}.wind-compass.wx-updated[_ngcontent-%COMP%]   .arrow-direction[_ngcontent-%COMP%]{border-top-color:#5b9f49}.wind-north[_ngcontent-%COMP%]{top:5px;width:50px;font-size:.5rem;left:0;text-align:center;position:absolute}@media screen and (min-width:40em){.wind-north[_ngcontent-%COMP%]{top:8px;width:65px;font-size:.65rem}}@media screen and (min-width:64em) and (max-width:74.9375em){.wind-north[_ngcontent-%COMP%]{top:7px}}.wind-speed[_ngcontent-%COMP%]{width:50px;line-height:55px;font-weight:700;font-size:.875rem;position:absolute;top:0;left:0;display:block;text-align:center;font-weight:500}@media screen and (min-width:40em){.wind-speed[_ngcontent-%COMP%]{width:65px;line-height:65px;font-size:.9375rem}}@media screen and (min-width:64em){.wind-speed[_ngcontent-%COMP%]{line-height:70px;font-size:1.125rem}}.wind-dir[_ngcontent-%COMP%]{margin-top:10px;text-align:center;color:#696969;font-size:.75rem;line-height:1.125rem}@media screen and (min-width:64em) and (max-width:74.9375em){.wind-dir[_ngcontent-%COMP%]{margin-top:0}}.wind-dir[_ngcontent-%COMP%]   .wx-value[_ngcontent-%COMP%]{color:#1e2023;font-size:.9375rem}.wind-dir[_ngcontent-%COMP%]   .wx-data[_ngcontent-%COMP%]   .wx-value[_ngcontent-%COMP%]{font-size:.75rem}.wind-dir[_ngcontent-%COMP%]   .is-variable[_ngcontent-%COMP%]{display:none}.wind-dir[_ngcontent-%COMP%]   .not-variable[_ngcontent-%COMP%], .wind-dir[_ngcontent-%COMP%]   .wind-dir-vrb[_ngcontent-%COMP%]   .is-variable[_ngcontent-%COMP%]{display:inline}.wind-dir[_ngcontent-%COMP%]   .wind-dir-vrb[_ngcontent-%COMP%]   .not-variable[_ngcontent-%COMP%]{display:none}"]}),t})()},qlze:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("AKWm"),o=n("fXoL"),a=n("8dEr"),c=n("p1rA"),s=n("JSYf"),r=n("Wr7N"),l=n("3ia6");const d=["pollenBars"];let p=(()=>{class t{constructor(t,e,n,i){this.weatherApi=t,this.stationService=e,this.cityLinksService=n,this.env=i,this.now=new Date,this.url="",this.tileHeight=130,this.tileWidth=300,this.pollenData={category:"No Data",pollen:[-1],range:"",highestAllergen:""},this.pollenColors={pollen:["#4c4c4c","#599f47","#ffb82e","#fd883f","#d5202a"],bar:"#e7e7e7",bkg:"#f7f7f7",top:"#e7e7e7"}}ngOnInit(){this.getHealthUrl()}ngAfterViewInit(){const{env:t}=this;t.isBrowser&&(this.element=this.barsContainer.nativeElement,this.stationService.currentStation.subscribe(t=>this.getPollenData(t)))}getHealthUrl(){this.cityLinksService.getCityLinks().subscribe(t=>this.url=t.health)}createChart(){const t=this.pollenData.pollen.slice(-1)[0],e=this.getPollenColor(t);this.tileTitle=t>=4.9?`POLLEN <i class="fi-alert" style="color:${e};"></i>`:"POLLEN",Object(i.a)("#pollenTopBar").style("height","36px").style("width","100%").style("position","static").style("background-color",this.pollenColors.top).style("padding","9px 0px 9px 15px").html(this.tileTitle),Object(i.a)("#pollenColorBar").style("width","100%").style("height","2px").style("position","static").style("background-color",e);const n=Object(i.a)("#pollenBarChart").append("svg").attr("height","130px").attr("width","100%").style("background-color",this.pollenColors.bkg);n.append("title").text("Pollen tile"),this.isPollenAvailable()&&(n.selectAll("rect").data(this.pollenData.pollen).enter().append("rect").attr("height",t=>this.barHeight(t)).attr("width",(t,e)=>this.barWidth(t,e)).attr("fill",this.pollenColors.bar).attr("x",(t,e)=>this.svgX(t,e)).attr("y",t=>this.svgY(t)).attr("rx",3).attr("ry",3),n.append("text").attr("x","85%").attr("y",90).attr("font-size","130%").attr("text-anchor","start").attr("dominant-baseline","middle").style("text-anchor","end").text(this.pollenData.highestAllergen).style("fill",this.pollenColors.pollen[0])),n.append("text").attr("x","85%").attr("y",40).attr("font-size","200%").attr("text-anchor","start").attr("dominant-baseline","middle").text(this.pollenData.category).style("fill",e).style("text-anchor","end").style("font-weight","bold")}barHeight(t){return t<=0?0:this.tileHeight*t/4}barWidth(t,e){return this.tileWidth/this.pollenData.pollen.length-10}svgX(t,e){return e*this.tileWidth/this.pollenData.pollen.length}svgY(t){return this.tileHeight-this.tileHeight*t/4}getPollenColor(t){return t>=0&&t<=1?this.pollenColors.pollen[1]:this.pollenColors.pollen[t=t<1||t>4?0:t]}isPollenAvailable(){return 1!==this.pollenData.pollen.length||-1!==this.pollenData.pollen[0]}getPollenData(t){this.weatherApi.get({features:["indices/pollen/daypart/7day"],action:"",version:"2",params:{geocode:this.getCityLocation(t),format:"json",language:"en-US"}}).subscribe(t=>this.pollenData=this.setData(t),t=>console.log("onError: %s",t),()=>this.createChart())}getCityLocation(t){return[Object(a.S)(t,"latitude",0),Object(a.S)(t,"longitude",0)].join(",")}setData(t){let e={category:"No Data",pollen:[-1],highestAllergen:""};const n=[];let i="";const o=Object(a.S)(t,"pollenForecast12hour.grassPollenIndex",[]),c=Object(a.S)(t,"pollenForecast12hour.ragweedPollenIndex",[]);o.forEach((t,e)=>{c[e]>t?(n.push(c[e]),i="Ragweed Pollen"):t>c[e]?(n.push(t),i="Grass Pollen"):(n.push(0),i="")});let s=Object(a.S)(t,`pollenForecast12hour.grassPollenCategory[${n.length-1}]`,"No Data");return"None"===s&&(s=Object(a.S)(t,`pollenForecast12hour.ragweedPollenCategory[${n.length-1}]`,"No Data")),s&&(e={category:s,pollen:n,highestAllergen:i}),e}}return t.\u0275fac=function(e){return new(e||t)(o.jc(c.l),o.jc(s.c),o.jc(r.c),o.jc(l.b))},t.\u0275cmp=o.dc({type:t,selectors:[["lib-pollen-tile"]],viewQuery:function(t,e){if(1&t&&o.qd(d,1),2&t){let t;o.Sc(t=o.xc())&&(e.barsContainer=t.first)}},decls:6,vars:1,consts:[[3,"href"],["id","pollenTopBar",1,"tile-title"],["id","pollenColorBar"],["id","pollenBarChart"],["pollenBars",""],[1,"hook-arrow"]],template:function(t,e){1&t&&(o.pc(0,"a",0),o.kc(1,"div",1),o.kc(2,"div",2),o.pc(3,"div",3,4),o.kc(5,"div",5),o.oc(),o.oc()),2&t&&o.Jc("href","",e.url,"?cm_ven=localwx_modpollen",o.bd)},styles:['a[_ngcontent-%COMP%]{color:inherit}.hook-arrow[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:130px;width:20px;border-left:1px solid #d7d7d7;background-color:#f7f7f7}.hook-arrow[_ngcontent-%COMP%]:before{transform:rotate(45deg) translateY(-70%);content:"";border-style:solid;border-width:2px 2px 0 0;width:11px;height:11px;display:inline-block;position:absolute;color:#15aadc;top:66px;right:13px}.tile-title[_ngcontent-%COMP%]{color:#1e2023}#pollenTopBar[_ngcontent-%COMP%]{width:100%;height:36px;font-family:sans-serif;font-size:14px;background-color:#e7e7e7}#pollenColorBar[_ngcontent-%COMP%]{height:2px;width:100%;background-color:#4c4c4c}#pollenBarChart[_ngcontent-%COMP%]{width:100%;height:130px;background-color:#f7f7f7;font-family:sans-serif;position:relative}']}),t})()},rUsK:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("fXoL"),o=n("0E4F"),a=n("JSYf"),c=n("Wr7N"),s=n("ofXK"),r=n("NmnS"),l=function(t,e,n,i){return new(n||(n=Promise))((function(o,a){function c(t){try{r(i.next(t))}catch(e){a(e)}}function s(t){try{r(i.throw(t))}catch(e){a(e)}}function r(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,s)}r((i=i.apply(t,e||[])).next())}))};function d(t,e){1&t&&(i.pc(0,"span",17),i.jd(1,"|"),i.oc())}function p(t,e){if(1&t&&(i.pc(0,"a",18),i.Bc(1,"async"),i.pc(2,"span"),i.jd(3,"Nexrad"),i.oc(),i.oc()),2&t){const t=i.Ac();i.Jc("title","",t.location.city," Weather Radar"),i.Hc("href",i.Cc(1,2,t.nexradLink),i.bd)}}var h=function(t){return t[t.satellite="satellite"]="satellite",t[t.radar="radar"]="radar",t}({});let g=(()=>{class t{constructor(t,e,n){this.stationService=t,this.cityLinks=e,this.injector=n,this.location={},this.nexradLink=this.cityLinks.getNearestRadarLink(),this.Layer=h,this.hasNexrad=!1}get selectedLayer(){return this._selectedLayer}set selectedLayer(t){this._selectedLayer=t;const{miniMap:e}=this,{map:n}=e;n&&(t===h.radar?(this.miniMap.map.removeLayer("satellite"),this.miniMap.changeStyle("terrain",()=>Object(o.d)({miniMap:this.miniMap,id:"radar",injector:this.injector}))):t===h.satellite&&(this.miniMap.map.removeLayer("radar"),this.miniMap.changeStyle("satellite",()=>Object(o.e)({miniMap:this.miniMap,id:"satellite",injector:this.injector}))))}ngAfterViewInit(){this.stationService.currentStation.subscribe(t=>l(this,void 0,void 0,(function*(){var e;this.hasNexrad=["us","ca","au"].indexOf(null===(e=t.countryCode)||void 0===e?void 0:e.toLowerCase())>=0,yield this.loadMap(t),this.selectedLayer=h.radar})))}loadMap(t){return l(this,void 0,void 0,(function*(){this.location=t;const{latitude:e,longitude:n}=t;yield this.miniMap.initMap({lat:e,lon:n,zoom:12})}))}}return t.\u0275fac=function(e){return new(e||t)(i.jc(a.c),i.jc(c.c),i.jc(i.D))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-city-map"]],viewQuery:function(t,e){if(1&t&&i.qd(o.b,1),2&t){let t;i.Sc(t=i.xc())&&(e.miniMap=t.first)}},decls:23,vars:12,consts:[[1,"city-map-wrapper"],[1,"weather-map","city-map"],[1,"ui-tabs","header-tabs"],[1,"wundermap_module_tabs","ui-tabs-nav","tab-nav","inline-list","tab-over"],[3,"click"],[1,"content"],[1,"wundermap_links"],[1,"trim-small",3,"href","title"],["class","split trim-small",4,"ngIf"],[3,"href","title",4,"ngIf"],[1,"map"],[1,"map-ui"],[3,"height","disableScroll","showAnimationControls"],["miniMap",""],[1,"logo"],[1,"row","crowd-switch"],[1,"columns","small-12","crowd-about"],[1,"split","trim-small"],[3,"href","title"]],template:function(t,e){if(1&t&&(i.pc(0,"div",0),i.pc(1,"div",1),i.pc(2,"div",2),i.pc(3,"ul",3),i.pc(4,"li"),i.pc(5,"a",4),i.wc("click",(function(){return e.selectedLayer=e.Layer.radar})),i.jd(6,"Radar"),i.oc(),i.oc(),i.pc(7,"li"),i.pc(8,"a",4),i.wc("click",(function(){return e.selectedLayer=e.Layer.satellite})),i.jd(9,"Satellite"),i.oc(),i.oc(),i.oc(),i.oc(),i.pc(10,"div",5),i.pc(11,"div",6),i.pc(12,"a",7),i.jd(13,"WunderMap"),i.oc(),i.hd(14,d,2,0,"span",8),i.hd(15,p,4,4,"a",9),i.oc(),i.pc(16,"div",10),i.pc(17,"div",11),i.kc(18,"lib-mini-map",12,13),i.oc(),i.kc(20,"div",14),i.oc(),i.oc(),i.oc(),i.pc(21,"div",15),i.kc(22,"div",16),i.oc(),i.oc()),2&t){const t=i.Tc(19);i.Vb(4),i.bc("ui-state-active",e.selectedLayer===e.Layer.radar),i.Vb(3),i.bc("ui-state-active",e.selectedLayer===e.Layer.satellite),i.Vb(5),i.Kc("href","/wundermap/?lat=",null==t.position?null:t.position.lat,"&lon=",null==t.position?null:t.position.lon,"&zoom=8&radar=1&wxstn=0",i.bd),i.Hc("title","xxx"!==e.location.radarcode||"EU"===e.location.continent?e.location.city+" Weather Radar on WunderMap":""),i.Vb(2),i.Hc("ngIf",!("xxx"===e.location.radarcode)&&e.hasNexrad),i.Vb(1),i.Hc("ngIf",!("xxx"===e.location.radarcode)&&e.hasNexrad),i.Vb(3),i.Hc("height",250)("disableScroll",!0)("showAnimationControls",!0)}},directives:[s.m,r.a],pipes:[s.b],styles:["[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]{min-height:250px;position:relative}@media screen and (min-width:40em){[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]{margin:0;display:block}}[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .wundermap_module_tabs[_ngcontent-%COMP%]{margin-bottom:1.0625rem}[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .wundermap_module_tabs[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .tab-nav[_ngcontent-%COMP%]{font-size:.9375rem}[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:10px;padding:0;position:relative}@media screen and (min-width:40em){[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-bottom:0}}[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   A[_ngcontent-%COMP%]{border-bottom:0}[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wundermap_links[_ngcontent-%COMP%]{width:100%;height:34px;text-align:center;position:absolute;bottom:-32px;top:auto;line-height:34px;color:#696969}@media only screen{[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wundermap_links[_ngcontent-%COMP%]{font-size:.9375rem}}@media screen and (max-width:39.9375em){[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wundermap_links[_ngcontent-%COMP%]{font-size:.75rem}}@media screen and (min-width:40em){[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wundermap_links[_ngcontent-%COMP%]{font-size:.75rem}}[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wundermap_links[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%]{color:#d7d7d7;display:inline-block;text-align:center;width:10px}[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wundermap_links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#006f9e}[_nghost-%COMP%]   .weather-map[_ngcontent-%COMP%]   .no-radar[_ngcontent-%COMP%]{position:absolute;top:45px;right:0;padding:2px;font-size:.75rem;font-weight:700;color:#d5202a;background-color:#fff;z-index:2;opacity:.8}[_nghost-%COMP%]   .map[_ngcontent-%COMP%]{height:250px!important;margin:0!important;clear:both!important;z-index:0!important;background:url(//www.wunderground.com/static/i/homepage/grid.png)!important}@media screen and (max-width:39.9375em){[_nghost-%COMP%]   .map[_ngcontent-%COMP%]{touch-action:auto}}[_nghost-%COMP%]   .map[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:absolute;top:227px;left:5px;display:block;z-index:1001;width:65px;height:20px;background-image:url(//www.wunderground.com/static/i/o/mapbox-logo.svg);background-repeat:no-repeat;background-position:0 0;background-size:65px 20px}[_nghost-%COMP%]   .map[_ngcontent-%COMP%]     img{max-width:inherit}[_nghost-%COMP%]   .city-map[_ngcontent-%COMP%]{min-height:230px}[_nghost-%COMP%]   .city-map[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{height:250px!important}[_nghost-%COMP%]   .city-map[_ngcontent-%COMP%]   .ui-tabs[_ngcontent-%COMP%]{background-color:#f7f7f7}[_nghost-%COMP%]   .city-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:0}[_nghost-%COMP%]   .city-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wundermap_links[_ngcontent-%COMP%]{background-color:#f7f7f7;padding-right:15px;text-align:right;font-size:.875rem;text-transform:uppercase;font-weight:700}[_nghost-%COMP%]   .city-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wundermap_links[_ngcontent-%COMP%]   .split[_ngcontent-%COMP%]{font-weight:400;font-size:.9375rem;color:#a3a3a3}@media screen and (max-width:39.9375em){[_nghost-%COMP%]   .city-map[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-bottom:30px}}"]}),t})()},rddR:function(t,e,n){"use strict";n.d(e,"a",(function(){return D}));var i=n("fXoL"),o=n("M9IT"),a=n("Dh3D"),c=n("+0xr"),s=n("pLZG"),r=n("8dEr"),l=n("HBZR"),d=n("JSYf"),p=n("Va8Q"),h=n("ofXK"),g=n("3ia6"),u=n("60Qe"),m=n("jwMx"),b=n("DNub");function f(t,e){if(1&t&&(i.pc(0,"th",16),i.jd(1),i.oc()),2&t){const t=i.Ac(3);i.Vb(1),i.kd(t.stationsTable.columns[0].text)}}function y(t,e){if(1&t&&(i.pc(0,"td",17),i.pc(1,"a",18),i.jd(2),i.oc(),i.oc()),2&t){const t=e.$implicit;i.Vb(1),i.Hc("href",(t.isPWS?"/dashboard/pws/":"/weather/")+t.id,i.bd)("title","Weather in"+(t.isPWS?t.neighborhood+", "+t.adm1+", "+t.adm2:t.station_name)),i.Vb(1),i.ld(" ",t.isPWS?t.neighborhood+", "+t.adm1+", "+t.adm2:t.station_name," ")}}function v(t,e){if(1&t&&(i.pc(0,"th",16),i.jd(1),i.oc()),2&t){const t=i.Ac(2).$implicit;i.Vb(1),i.kd(t.text)}}function O(t,e){if(1&t&&i.kc(0,"lib-display-unit",23),2&t){const t=i.Ac().$implicit,e=i.Ac(2).$implicit;i.Hc("isDegreeVisible",e.displayUnit.isDegreeVisible)("type",e.displayUnit.type)("decimalPositions",e.displayUnit.decimalPositions)("value",t[e.field])("prefix",e.appendDisplayUnit&&e.appendDisplayUnit(t))}}function C(t,e){if(1&t&&(i.pc(0,"span"),i.jd(1),i.oc()),2&t){const t=i.Ac().$implicit,e=i.Ac(2).$implicit;i.Vb(1),i.ld(" ",e.valuePrepare?e.valuePrepare(t):t[e.field]," ")}}function w(t,e){if(1&t&&(i.pc(0,"td",17),i.pc(1,"span"),i.hd(2,O,1,5,"lib-display-unit",21),i.hd(3,C,2,1,"span",22),i.oc(),i.oc()),2&t){const t=i.Ac(2).$implicit;i.Vb(2),i.Hc("ngIf",t.displayUnit),i.Vb(1),i.Hc("ngIf",!t.displayUnit)}}function P(t,e){if(1&t&&(i.nc(0,20),i.hd(1,v,2,1,"th",10),i.hd(2,w,4,2,"td",11),i.mc()),2&t){const t=i.Ac().$implicit;i.Hc("matColumnDef",t.field)}}function M(t,e){if(1&t&&(i.nc(0),i.hd(1,P,3,1,"ng-container",19),i.mc()),2&t){const t=e.$implicit;i.Vb(1),i.Hc("ngIf","neighborhood"!==t.field)}}function x(t,e){1&t&&i.kc(0,"tr",24)}function _(t,e){1&t&&i.kc(0,"tr",25)}function S(t,e){if(1&t&&(i.pc(0,"div",7),i.pc(1,"table",8),i.nc(2,9),i.hd(3,f,2,1,"th",10),i.hd(4,y,3,3,"td",11),i.mc(),i.hd(5,M,2,1,"ng-container",12),i.hd(6,x,1,0,"tr",13),i.hd(7,_,1,0,"tr",14),i.oc(),i.kc(8,"mat-paginator",15),i.oc()),2&t){const t=i.Ac(2);i.Vb(1),i.Hc("dataSource",t.stationsTable.stations),i.Vb(1),i.Hc("matColumnDef",t.stationsTable.columns[0].field),i.Vb(3),i.Hc("ngForOf",t.stationsTable.columns),i.Vb(1),i.Hc("matHeaderRowDef",t.stationsTable.columnsNames),i.Vb(1),i.Hc("matRowDefColumns",t.stationsTable.columnsNames)}}function j(t,e){if(1&t&&(i.pc(0,"div",2),i.pc(1,"div",3),i.pc(2,"div",4),i.jd(3,"Stations"),i.oc(),i.pc(4,"div",5),i.jd(5,"Nearby Weather Stations"),i.oc(),i.oc(),i.hd(6,S,9,5,"div",6),i.oc()),2&t){const t=i.Ac();i.Vb(6),i.Hc("ngIf",t.stationsTable.columns[0])}}function k(t,e){1&t&&(i.pc(0,"div",26),i.pc(1,"div",3),i.pc(2,"div",5),i.jd(3,"Nearby Weather Stations"),i.oc(),i.oc(),i.oc())}let D=(()=>{class t{constructor(t,e,n,i,o,a,c){this.stationService=t,this.userProfileService=e,this.datePipe=n,this.env=i,this.stationSelectService=o,this.timeService=a,this.elementRef=c,this.hideOnFold=!1,this.isBrowser=this.env.isBrowser,this.stationsTable={id:"station-list-table",NoRowsMsg:"There are no personal weather stations in this area.",columns:[],stations:[],columnsNames:[]},this.isBrowser&&this.getCurrentData()}getColumns(){const t=[{text:"Station Location",field:"neighborhood",priorityPersist:!0},{text:"Temp",field:"tempf",priorityPersist:!0,displayUnit:{type:"temperature",decimalPositions:1,isDegreeVisible:!0}}];return t.push({text:"Windchill",field:"windchillf",priorityPersist:!1,displayUnit:{type:"temperature",decimalPositions:1}}),t.push({text:"Heat Index",field:"heatindexf",priorityPersist:!1,displayUnit:{type:"temperature",decimalPositions:1,isDegreeVisible:!0}}),t.push({text:"Dew Point",field:"dewptf",priorityPersist:!1,displayUnit:{type:"temperature",decimalPositions:1,isDegreeVisible:!0}}),t.push({text:"Humidity",field:"humidity",priorityPersist:!1,displayUnit:{type:"humidity",decimalPositions:1}}),t.push({text:"Wind",field:"windspeedmph",priorityPersist:!1,hidden:!1,displayUnit:{type:"speed"},appendDisplayUnit:t=>Object(r.s)(t.winddir)+" at "}),t.push({text:"Precip.",field:"rainin",priorityPersist:!1,displayUnit:{type:"rain",decimalPositions:1}},{text:"Elev.",field:"elev",priorityPersist:!1,displayUnit:{type:"elevation",decimalPositions:1}}),t.push({text:"Updated",field:"updated",priorityPersist:!1,hidden:!1,valuePrepare:t=>{const e=new Date(t.validTime);return e.setUTCHours(e.getUTCHours()+this.dateTime.offset),`${Object(r.o)(e,!0)} ${this.dateTime.timeZone}`}}),t}isElementInViewport(){const t=this.elementRef.nativeElement.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}getCurrentData(){const t=()=>{this.isElementInViewport()&&(this.stationSelectService.startLoading(),window.removeEventListener("scroll",t))};window.addEventListener("scroll",t),this.stationSelectService.state$.pipe(Object(s.a)(t=>t.stations&&!!t.stations.length)).subscribe(t=>{const{userProfileService:e}=this,n=e.getUnitFormat(),i=Object(r.S)(t,"stations",[]).map(t=>Object.assign(Object.assign({},t),{tempf:t.tempf||t.temp,dewptf:t.dewptf||t.dewpt,humidity:t.humidity||t.rh,heatindexf:t.heatindexf||t.heat_index,windchillf:t.windchillf||t.wc,windspeedmph:t.windspeedmph||t.wspd,winddir:t.winddir||t.wdir,rainin:t.rainin||t.precip_hrly,validTime:t.validTime||t.updateTime,elev:t.elev})).map(t=>Object.assign(Object.assign({},t),{tempf:"metric"===n?Object(r.l)(+t.tempf,l.c.temperature):t.tempf,dewptf:"metric"===n?Object(r.l)(+t.dewptf,l.c.temperature):t.dewptf,humidity:t.humidity,heatindexf:"metric"===n?Object(r.l)(+t.heatindexf,l.c.temperature):t.heatindexf,windchillf:"metric"===n?Object(r.l)(+t.windchillf,l.c.temperature):t.windchillf,windspeedmph:"metric"===n?Object(r.l)(+t.windspeedmph,l.c.speed):t.windspeedmph,winddir:t.winddir,rainin:"metric"===n?Object(r.l)(+t.rainin,l.c.rain):t.rainin,elev:"metric"===n?Object(r.l)(+t.elev,l.c.elevation):t.elev,validTime:t.validTime}));i.length&&this.timeService.getDateTime(`${Object(r.S)(i,"[0].latitude")},${Object(r.S)(i,"[0].longitude")}`).subscribe(t=>{this.dateTime=t,this.stationsTable.stations=new c.m(i),this.stationsTable.stations.sort=this.sort,this.stationsTable.stations.paginator=this.paginator,this.stationsTable.columns=this.getColumns(),this.stationsTable.columnsNames=this.stationsTable.columns.map(t=>t.field)})})}ngAfterViewInit(){this.stationsTable.stations.sort=this.sort,this.stationsTable.stations.paginator=this.paginator}}return t.\u0275fac=function(e){return new(e||t)(i.jc(d.c),i.jc(p.e),i.jc(h.e),i.jc(g.b),i.jc(u.a),i.jc(m.w),i.jc(i.r))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-nearby-stations"]],viewQuery:function(t,e){if(1&t&&(i.qd(a.a,1),i.qd(o.a,1)),2&t){let t;i.Sc(t=i.xc())&&(e.sort=t.first),i.Sc(t=i.xc())&&(e.paginator=t.first)}},inputs:{hideOnFold:"hideOnFold"},decls:3,vars:2,consts:[["class","data-module",4,"ngIf","ngIfElse"],["empty",""],[1,"data-module"],[1,"module-header"],[1,"show-for-small-only","component-title"],[1,"show-for-medium","component-title"],["id","station-list","class","row collapse station-list",4,"ngIf"],["id","station-list",1,"row","collapse","station-list"],["mat-table","","matSort","","matSortActive","neighborhood","matSortDirection","asc","aria-label","table of contents","aria-labelledby","Nearby Stations",1,"mat-table",3,"dataSource"],["sticky","",3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["mat-header-row","","tabindex","0",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["hidePageSize","true","pageSize","10","showFirstLastButtons",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"href","title"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],[3,"isDegreeVisible","type","decimalPositions","value","prefix",4,"ngIf"],[4,"ngIf"],[3,"isDegreeVisible","type","decimalPositions","value","prefix"],["mat-header-row","","tabindex","0"],["mat-row",""],[1,"data-module","empty-block"]],template:function(t,e){if(1&t&&(i.hd(0,j,7,1,"div",0),i.hd(1,k,4,0,"ng-template",null,1,i.id)),2&t){const t=i.Tc(2);i.Hc("ngIf",e.isBrowser)("ngIfElse",t)}},directives:[h.m,c.l,a.a,c.c,c.g,c.b,h.l,c.i,c.k,o.a,c.f,a.b,c.a,b.a,c.h,c.j],styles:[".pane-wu-nearby-stations[_ngcontent-%COMP%], wu-nearby-stations[_ngcontent-%COMP%]{display:block;min-height:350px}.data-module[_ngcontent-%COMP%]{background:none}#station-list[_ngcontent-%COMP%]{overflow-x:auto}#station-list[_ngcontent-%COMP%]     tr{background-color:#fff}#station-list[_ngcontent-%COMP%]     tr:nth-of-type(2n){background:#f7f7f7}#station-list[_ngcontent-%COMP%]     tr th{font-size:.75rem}#station-list[_ngcontent-%COMP%]     tr th .wu-unit{white-space:nowrap}#station-list[_ngcontent-%COMP%]     tr td, #station-list[_ngcontent-%COMP%]     tr th{padding:.2rem .625rem;font-size:.75rem;color:#4c4c4c;text-align:left}#station-list[_ngcontent-%COMP%]     tr td:first-child{border-bottom-left-radius:5px;border-top-left-radius:5px;border-left:6px solid transparent;padding-left:7px}#station-list[_ngcontent-%COMP%]     tr td a:hover{text-decoration:underline}#station-list[_ngcontent-%COMP%]     tr:hover{background-color:rgba(142,209,233,.5)!important}#station-list[_ngcontent-%COMP%]     tr:hover td:first-child{border-left:6px solid #15aadc}#station-list[_ngcontent-%COMP%]     .mat-header-cell{color:#1e2023;font-weight:700}#station-list[_ngcontent-%COMP%]     .mat-paginator-range-label{font-weight:700}mat-table[_ngcontent-%COMP%]{text-align:left}.empty-block[_ngcontent-%COMP%]{height:703px}@media screen and (min-width:40em){.empty-block[_ngcontent-%COMP%]{height:595px}}@media screen and (min-width:75em){.empty-block[_ngcontent-%COMP%]{height:955px}}"]}),t})()},saHA:function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var i=n("fXoL"),o=n("lJxs"),a=n("/uUt"),c=n("8dEr"),s=n("jAAy"),r=n("JSYf"),l=n("60Qe"),d=n("Wr7N"),p=n("t9xE"),h=n("7EHt"),g=n("EyG8"),u=n("ofXK"),m=n("Tg9P");function b(t,e){1&t&&(i.pc(0,"div",38),i.jd(1,"Personal Weather Station"),i.oc())}function f(t,e){1&t&&(i.pc(0,"div",39),i.jd(1,"Airport"),i.oc())}function y(t,e){if(1&t&&(i.pc(0,"div",40),i.pc(1,"a",8),i.jd(2),i.pc(3,"span",41),i.jd(4),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac();i.Vb(1),i.Hc("href",t.getStationUrl(t.state),i.bd),i.Vb(1),i.ld(" ",(null==t.state||null==t.state.station||null==t.state.station.display?null:t.state.station.display.neighborhood)||(null==t.state||null==t.state.station?null:t.state.station.city)," "),i.Vb(2),i.ld("(",null==t.state||null==t.state.station||null==t.state.station.pws?null:t.state.station.pws.id,")")}}function v(t,e){if(1&t&&(i.pc(0,"div",40),i.pc(1,"a",8),i.jd(2),i.pc(3,"span",41),i.jd(4),i.oc(),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(1),i.Hc("href",t.getStationUrl(t.state),i.bd),i.Vb(1),i.ld(" ",null==t.state||null==t.state.station||null==t.state.station.airport?null:t.state.station.airport.name," "),i.Vb(2),i.ld("(",null==t.state||null==t.state.station||null==t.state.station.airport?null:t.state.station.airport.icao,")")}}function O(t,e){if(1&t&&i.hd(0,v,5,3,"div",42),2&t){const t=i.Ac();i.Hc("ngIf",null==t.state||null==t.state.station?null:t.state.station.isAirport)}}function C(t,e){if(1&t&&(i.pc(0,"div",43),i.pc(1,"span"),i.jd(2,"Elevation"),i.oc(),i.jd(3,": "),i.pc(4,"span",44),i.jd(5),i.oc(),i.pc(6,"span",45),i.jd(7),i.oc(),i.oc()),2&t){const t=i.Ac();i.Vb(5),i.kd(null==t.state||null==t.state.station||null==t.state.station.pws?null:t.state.station.pws.elevation),i.Vb(2),i.kd("metric"===(null==t.state?null:t.state.units)?"m":"ft")}}function w(t,e){if(1&t){const t=i.qc();i.pc(0,"div",46),i.pc(1,"div",47),i.kc(2,"span",48),i.oc(),i.pc(3,"a",49),i.wc("mouseover",(function(){i.Xc(t);const n=e.$implicit;return i.Ac().onStationHover(null==n?null:n.id)}))("mouseleave",(function(){i.Xc(t);const n=e.$implicit;return i.Ac().onStationLeave(null==n?null:n.id)}))("click",(function(){i.Xc(t);const n=e.$implicit;return i.Ac().onStationClick(n)})),i.jd(4),i.oc(),i.pc(5,"span",50),i.jd(6),i.oc(),i.oc()}if(2&t){const t=e.$implicit,n=i.Ac();i.bc("is-pws",null==t?null:t.isPWS)("is-airport",!(null!=t&&t.isPWS))("ext-link",null==t?null:t.isExternal),i.Vb(3),i.bc("hover",(null==t?null:t.id)===(null==n.state?null:n.state.hoveredStation))("selected",(null==t?null:t.id)===(null==n.state||null==n.state.observation||null==n.state.observation.station?null:n.state.observation.station.id)),i.Vb(1),i.md(" ",(null==t?null:t.neighborhood)||(null==t?null:t.city)||(null==t?null:t.station_name)," (",null==t?null:t.id,") "),i.Vb(2),i.ld("",null==t?null:t.temperature," \xb0")}}let P=(()=>{class t{constructor(t,e,n,i,c){this.station=t,this.urlCreatorParser=e,this.stationSelectService=n,this.cityLinks=i,this.storageService=c,this.translateContext="station-select",this.state$=this.stationSelectService.state$,this.seeMoreUrl$=this.state$.pipe(Object(o.a)(t=>{const e=t.mapData;return`/wundermap/?lat=${e.lat}&lon=${e.lon}&zoom=${e.zoom}&wxsn=1`})),this.stationsByDistance$=this.state$.pipe(Object(a.a)((t,e)=>t.stations&&t.stations.length===e.stations.length),Object(o.a)(t=>(t.stations||[]).sort((t,e)=>t._distance-e._distance))),this.getCurrentStation(),this.state$.subscribe(t=>this.state=t)}getStationUrl(t){const e=Object(c.S)(t.station,"pws.date",new Date(0));return this.cityLinks.getLink("/history/daily",t.station,{},e)}onStationHover(t){this.stationSelectService.hoverStation(t)}onStationLeave(){this.stationSelectService.leaveStation()}onStationClick(t){const e=this.urlCreatorParser.parse(s.a),n=this.station.getCountryStateCityUrl(e,!1),i=this.station.getStationLink(t);n&&this.storageService.add("pws:"+n,t.pws),window.location.href=i}getCurrentStation(){this.station.currentStation.subscribe(t=>{var e,n;this.stationSelectService.setCurrentStation(t),this.stationSelectService.updateMapInfo({lat:null===(e=t.display)||void 0===e?void 0:e.latitude,lon:null===(n=t.display)||void 0===n?void 0:n.longitude,zoom:12})})}}return t.\u0275fac=function(e){return new(e||t)(i.jc(r.c),i.jc(s.d),i.jc(l.a),i.jc(d.c),i.jc(p.b))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-station-select"]],decls:70,vars:32,consts:[["id","stationselector"],["id","stationselector_loading"],[3,"expanded"],["id","stationselector_content",1,"row"],[1,"small-12","medium-6","large-4","columns"],["id","stationselector_map"],["map",""],["id","stationselector_toomany"],[3,"href"],[1,"map-reset",3,"click"],[1,"small-12","medium-6","large-8","columns"],[1,"row"],[1,"small-12","medium-12","large-4","large-push-8","columns"],[1,"current-container"],[1,"title"],["id","stationselector_current"],["class","station-type is-pws",4,"ngIf"],["class","station-type is-airport",4,"ngIf"],["class","station-name",4,"ngIf","ngIfElse"],["airport",""],[1,"station-location"],[1,"location-data"],[1,"station-city"],[1,"station-state"],["class","wx-data",4,"ngIf"],[1,"small-12","medium-12","large-8","large-pull-4","columns"],[1,"list-container"],["id","stationselector_nostations"],["ng-click","reset()",1,"map-reset"],["href","/member/devices/new"],["href","javascript:void(0);",1,"hide","map-zoom-out"],["scroll",""],["id","stationselector_table"],["class","table-row",3,"is-pws","is-airport","ext-link",4,"ngFor","ngForOf"],["id","stationselector_list_footer"],[1,"scroll-fade"],[1,"list-scroll-arrow","list-scroll-up",3,"click"],[1,"list-scroll-arrow","list-scroll-down",3,"click"],[1,"station-type","is-pws"],[1,"station-type","is-airport"],[1,"station-name"],[1,"station-id"],["class","station-name",4,"ngIf"],[1,"wx-data"],[1,"wx-value"],[1,"wx-unit"],[1,"table-row"],[1,"icon-wrapper"],[1,"station-icon"],["title","",1,"stationselectorRowPWS",3,"mouseover","mouseleave","click"],[1,"temp"]],template:function(t,e){if(1&t){const t=i.qc();i.pc(0,"div",0),i.kc(1,"div",1),i.pc(2,"mat-expansion-panel",2),i.pc(3,"div",3),i.pc(4,"div",4),i.kc(5,"lib-station-select-map",5,6),i.pc(7,"div",7),i.pc(8,"p"),i.pc(9,"a",8),i.Bc(10,"async"),i.jd(11,"See more"),i.oc(),i.oc(),i.pc(12,"p"),i.jd(13,"("),i.pc(14,"a",9),i.wc("click",(function(){return i.Xc(t),i.Tc(6).miniMap.reset()})),i.jd(15,"Reset Map"),i.oc(),i.jd(16,")"),i.oc(),i.oc(),i.oc(),i.pc(17,"div",10),i.pc(18,"div",11),i.pc(19,"div",12),i.pc(20,"div",13),i.pc(21,"div",14),i.jd(22,"Current Station"),i.oc(),i.pc(23,"div",15),i.hd(24,b,2,0,"div",16),i.hd(25,f,2,0,"div",17),i.hd(26,y,5,3,"div",18),i.hd(27,O,1,1,"ng-template",null,19,i.id),i.pc(29,"div",20),i.pc(30,"span"),i.jd(31,"Location"),i.oc(),i.jd(32,": "),i.pc(33,"strong",21),i.pc(34,"span",22),i.jd(35),i.oc(),i.pc(36,"span",23),i.jd(37),i.oc(),i.oc(),i.hd(38,C,8,2,"div",24),i.oc(),i.oc(),i.oc(),i.oc(),i.pc(39,"div",25),i.pc(40,"div",26),i.pc(41,"div",14),i.jd(42,"Nearby Weather Stations"),i.oc(),i.pc(43,"div",27),i.pc(44,"p"),i.jd(45,"No PWS"),i.oc(),i.pc(46,"p"),i.pc(47,"a",28),i.jd(48,"Reset Map"),i.oc(),i.jd(49,", or "),i.pc(50,"a",29),i.jd(51,"Add PWS"),i.oc(),i.jd(52,". "),i.oc(),i.pc(53,"a",30),i.jd(54,"zoom out"),i.oc(),i.oc(),i.pc(55,"lib-station-select-scroll",null,31),i.pc(57,"div",32),i.hd(58,w,7,13,"div",33),i.Bc(59,"async"),i.oc(),i.oc(),i.pc(60,"div",34),i.kc(61,"div",35),i.pc(62,"span"),i.pc(63,"span"),i.jd(64,"Showing"),i.oc(),i.jd(65),i.pc(66,"span"),i.jd(67,"Stations"),i.oc(),i.oc(),i.pc(68,"span",36),i.wc("click",(function(){return i.Xc(t),i.Tc(56).up()})),i.oc(),i.pc(69,"span",37),i.wc("click",(function(){return i.Xc(t),i.Tc(56).down()})),i.oc(),i.oc(),i.oc(),i.oc(),i.oc(),i.oc(),i.oc(),i.oc(),i.oc()}if(2&t){const t=i.Tc(28);i.bc("open",null==e.state?null:e.state.active),i.Vb(1),i.bc("hide",!(null!=e.state&&e.state.loading)),i.Vb(1),i.Hc("expanded",null==e.state?null:e.state.active),i.Vb(5),i.bc("hide",!(null!=e.state&&e.state.hasTooManyStations)),i.Vb(2),i.Hc("href",i.Cc(10,28,e.seeMoreUrl$),i.bd),i.Vb(15),i.Hc("ngIf",!0===(null==e.state?null:e.state.isPWS)),i.Vb(1),i.Hc("ngIf",null==e.state?null:e.state.isAirport),i.Vb(1),i.Hc("ngIf",null==e.state||null==e.state.station?null:e.state.station.isPWS)("ngIfElse",t),i.Vb(9),i.kd(null==e.state||null==e.state.station?null:e.state.station.city),i.Vb(2),i.md("",null!=e.state&&null!=e.state.station&&e.state.station.adminDistrictCode||null!=e.state&&null!=e.state.station&&e.state.station.adminDistrict?", "+((null==e.state||null==e.state.station?null:e.state.station.adminDistrictCode)||(null==e.state||null==e.state.station?null:e.state.station.adminDistrict)):"","","US"===(null==e.state||null==e.state.station?null:e.state.station.countryCode)||null!=e.state&&null!=e.state.station&&e.state.station.disputedArea?"":", "+(null==e.state||null==e.state.station?null:e.state.station.country)||!1,""),i.Vb(1),i.Hc("ngIf",null==e.state||null==e.state.station||null==e.state.station.pws?null:e.state.station.pws.elevation),i.Vb(5),i.bc("hide",null==e.state||null==e.state.stations?null:e.state.stations.length),i.Vb(12),i.bc("hide",!(null!=e.state&&null!=e.state.stations&&e.state.stations.length)),i.Vb(3),i.Hc("ngForOf",i.Cc(59,30,e.stationsByDistance$)),i.Vb(2),i.bc("hide",!(null!=e.state&&null!=e.state.canScroll&&e.state.canScroll.active)),i.Vb(5),i.ld(" ",null==e.state||null==e.state.stations?null:e.state.stations.length," "),i.Vb(3),i.bc("disabled",!(null!=e.state&&null!=e.state.canScroll&&e.state.canScroll.up)),i.Vb(1),i.bc("disabled",!(null!=e.state&&null!=e.state.canScroll&&e.state.canScroll.down))}},directives:[h.c,g.a,u.m,m.a,u.l],pipes:[u.b],styles:["#stationselector[_ngcontent-%COMP%]{position:relative}#stationselector[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{background:none;box-shadow:none}#stationselector[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0 0 10px}#stationselector[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:none}#stationselector.open[_ngcontent-%COMP%]{background:#f7f7f7;border-top:1px solid #d7d7d7;padding:15px 5px}#stationselector.open[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{display:inline-block}#stationselector[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{height:20px;cursor:pointer;font-size:.75rem;color:#006f9e;position:absolute;top:5px;right:5px}#stationselector[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:#f83}#stationselector[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{min-height:450px;background:#fff}@media only screen{#stationselector[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{margin:10px 0 0}}@media screen and (min-width:40em){#stationselector[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{margin:10px 0 0}}@media screen and (min-width:64em){#stationselector[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{margin:0}}@media only screen{#stationselector[_ngcontent-%COMP%]   .current-container[_ngcontent-%COMP%]{margin:0;background:#fff}}@media screen and (min-width:40em){#stationselector[_ngcontent-%COMP%]   .current-container[_ngcontent-%COMP%]{margin:0}}@media screen and (min-width:64em){#stationselector[_ngcontent-%COMP%]   .current-container[_ngcontent-%COMP%]{margin:0;height:450px;background:#fff url(//www.wunderground.com/static/i/o/current-container-bg.png) no-repeat bottom;background-size:100%}}#stationselector[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:40px;line-height:40px;margin:0 10px}#stationselector_loading[_ngcontent-%COMP%]{transition:all height .5s;height:0}#stationselector_loading.loading[_ngcontent-%COMP%]{height:30px}#stationselector_toomany[_ngcontent-%COMP%]{font-size:.9375rem;text-align:center}#stationselector_list[_ngcontent-%COMP%]{margin:0 10px;overflow:auto}@media only screen{#stationselector_list[_ngcontent-%COMP%]{height:auto}}@media screen and (min-width:40em){#stationselector_list[_ngcontent-%COMP%]{height:370px}}#stationselector_content.expanded[_ngcontent-%COMP%]   #stationselector_list[_ngcontent-%COMP%]{height:auto;overflow:visible}#stationselector_content.expanded[_ngcontent-%COMP%]   .list-expand[_ngcontent-%COMP%]{display:none}#stationselector_content.expanded[_ngcontent-%COMP%]   .list-collapse[_ngcontent-%COMP%]{display:inline}#stationselector_content.expanded[_ngcontent-%COMP%]   .list-scroll-arrow[_ngcontent-%COMP%], #stationselector_content[_ngcontent-%COMP%]   .list-collapse[_ngcontent-%COMP%]{display:none}#stationselector_nostations[_ngcontent-%COMP%]{padding:15px 20px 20px;height:410px;display:none;background:#fff url(//www.wunderground.com/static/i/o/list-container-bg.png) no-repeat bottom;background-size:100%}  #stationselector_list{height:auto;margin:0 10px;overflow:auto}@media screen and (min-width:40em){  #stationselector_list{height:370px}}#stationselector_table[_ngcontent-%COMP%]{margin:5px 0 30px;border:1px solid #f7f7f7;background-color:#fff}#stationselector_table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:31px}#stationselector_table[_ngcontent-%COMP%]   .table-row.is-pws[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{background-position:0 -616px}#stationselector_table[_ngcontent-%COMP%]   .table-row.is-airport[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{background-position:0 -597px}#stationselector_table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{background-color:#fff!important;padding:3px 5px}#stationselector_table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}#stationselector_table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .station-icon[_ngcontent-%COMP%]{flex-shrink:0;display:inline-block;width:20px;height:20px;background-image:url(//www.wunderground.com/static/i/o/sprite-common-vert.png?v=1.20);background-repeat:no-repeat;background-position:50%}#stationselector_table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .temp[_ngcontent-%COMP%]{flex-shrink:0;color:#1e2023}#stationselector_table[_ngcontent-%COMP%]   .stationselectorRowPWS[_ngcontent-%COMP%]{width:100%}#stationselector_table[_ngcontent-%COMP%]   .stationselectorRowAirport.hover[_ngcontent-%COMP%], #stationselector_table[_ngcontent-%COMP%]   .stationselectorRowPWS.hover[_ngcontent-%COMP%]{color:#f83}#stationselector_table[_ngcontent-%COMP%]   .stationselectorRowAirport.selected[_ngcontent-%COMP%], #stationselector_table[_ngcontent-%COMP%]   .stationselectorRowPWS.selected[_ngcontent-%COMP%]{font-weight:700}#stationselector_list_footer[_ngcontent-%COMP%]{position:relative;text-align:center;height:40px;line-height:40px;margin:0 10px;font-size:.9375rem}#stationselector_list_footer[_ngcontent-%COMP%]   .list-scroll-up[_ngcontent-%COMP%]{right:30px;background-position:0 -415px}#stationselector_list_footer[_ngcontent-%COMP%]   .list-scroll-down[_ngcontent-%COMP%], #stationselector_list_footer[_ngcontent-%COMP%]   .list-scroll-up[_ngcontent-%COMP%]{background-image:url(//www.wunderground.com/static/i/o/sprite-common-vert.png?v=1.20);background-repeat:no-repeat}#stationselector_list_footer[_ngcontent-%COMP%]   .list-scroll-down[_ngcontent-%COMP%]{right:0;background-position:0 -433px}#stationselector_list_footer[_ngcontent-%COMP%]   .list-scroll-down[_ngcontent-%COMP%], #stationselector_list_footer[_ngcontent-%COMP%]   .list-scroll-up[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;top:10px;cursor:pointer}#stationselector_list_footer[_ngcontent-%COMP%]   .list-scroll-arrow.disabled[_ngcontent-%COMP%]{opacity:.2;cursor:default}#stationselector_list_footer[_ngcontent-%COMP%]   .scroll-fade[_ngcontent-%COMP%]{position:absolute;top:-30px;width:100%;height:30px;background-color:transparent;background-color:hsla(0,0%,100%,0);background-image:linear-gradient(hsla(0,0%,100%,0),#fff)}@media only screen{#stationselector_current[_ngcontent-%COMP%]{padding:0 15px 5px}}@media screen and (min-width:64em){#stationselector_current[_ngcontent-%COMP%]{padding:0 15px;height:410px}}#stationselector_current[_ngcontent-%COMP%]   .station-type[_ngcontent-%COMP%]{background-image:url(//www.wunderground.com/static/i/o/sprite-common-vert.png?v=1.20);background-repeat:no-repeat;min-height:20px;line-height:20px;padding-left:25px;font-size:.75rem}#stationselector_current[_ngcontent-%COMP%]   .station-type.is-pws[_ngcontent-%COMP%]{background-position:0 -616px}#stationselector_current[_ngcontent-%COMP%]   .station-type.is-airport[_ngcontent-%COMP%]{background-position:0 -597px}#stationselector_current[_ngcontent-%COMP%]   .station-name[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.4;margin:10px 0}#stationselector_current[_ngcontent-%COMP%]   .station-location[_ngcontent-%COMP%]{font-size:.9375rem}@media only screen{#stationselector_current[_ngcontent-%COMP%]   .station-location[_ngcontent-%COMP%]{display:none}}@media screen and (min-width:64em){#stationselector_current[_ngcontent-%COMP%]   .station-location[_ngcontent-%COMP%]{display:block}}#stationselector_current[_ngcontent-%COMP%]   .station-location[_ngcontent-%COMP%]   .wx-data[_ngcontent-%COMP%]{margin-top:5px}@media only screen{#stationselector_map[_ngcontent-%COMP%]{min-height:200px;margin-bottom:10px}}@media screen and (min-width:40em){#stationselector_map[_ngcontent-%COMP%]{min-height:450px;margin-bottom:0}}#station-list[_ngcontent-%COMP%]{margin-top:20px}#station-list[_ngcontent-%COMP%]   TABLE[_ngcontent-%COMP%]   TH[_ngcontent-%COMP%]{white-space:nowrap}#station-list-table[_ngcontent-%COMP%]{min-height:20px}"]}),t})()},stX5:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("fXoL"),o=n("3ia6"),a=n("tyNb"),c=n("ofXK"),s=n("QoAZ");const r=["slideshow"];function l(t,e){if(1&t&&(i.pc(0,"a",16),i.pc(1,"i",17),i.jd(2,"play_circle_outline"),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Hc("href",t.videos[t.slideIndex].videoPageUrl,i.bd)}}function d(t,e){if(1&t&&(i.pc(0,"div",12),i.kc(1,"slideshow",13,14),i.hd(3,l,3,1,"a",15),i.oc()),2&t){const t=i.Ac();i.Vb(1),i.Hc("imageUrls",t.slides)("lazyLoad",(null==t.slides?null:t.slides.length)>1)("showDots",!1)("showArrows",!1)("autoPlayWaitForLazyLoad",!0),i.Vb(2),i.Hc("ngIf",t.videos[t.slideIndex])}}function p(t,e){if(1&t&&(i.nc(0),i.pc(1,"div",18),i.pc(2,"a",11),i.jd(3),i.oc(),i.oc(),i.pc(4,"div",19),i.jd(5),i.oc(),i.mc()),2&t){const t=i.Ac();i.Vb(2),i.Hc("href",t.videos[t.slideIndex].videoPageUrl,i.bd),i.Vb(1),i.kd(t.videos[t.slideIndex].title),i.Vb(2),i.ld("[",t.videos[t.slideIndex].duration,"]")}}const h=function(t){return{active:t}};function g(t,e){if(1&t){const t=i.qc();i.pc(0,"li"),i.pc(1,"div",20),i.wc("click",(function(){i.Xc(t);const n=e.$implicit;return i.Ac().setSlide(n)})),i.oc(),i.oc()}if(2&t){const t=e.$implicit,n=i.Ac();i.Vb(1),i.Hc("ngClass",i.Nc(1,h,t===n.slideIndex))}}const u=function(t){return{disabled:t}};let m=(()=>{class t{constructor(t,e){this.env=t,this.route=e,this.collection="top-stories",this.hideOnServer=!0,this.slides=[],this.dots=[],this.videos=[],this.slideIndex=0,this.hideOnServer=!this.env.isBrowser,this.env.isBrowser&&(this.videos=this.route.snapshot.data.currentVideo.videos.slice(0,3),this.videos.forEach(t=>{const e=t.assetName.split("/");t.videoPageUrl=`/video/${this.collection}/${e[e.length-1]}`}),this.slides=this.videos.map(t=>t.variants[10]),this.dots=this.videos.map((t,e)=>e))}ngAfterViewInit(){this.slideshow&&this.env.isBrowser&&this.slideshow.onIndexChanged.subscribe(t=>{this.slideIndex=t})}prevSlide(){this.slideshow&&this.slideshow.onSlide(-1)}nextSlide(){this.slideshow&&this.slideshow.onSlide(1)}setSlide(t){this.slideshow&&this.slideshow.goToSlide(t)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(o.b),i.jc(a.a))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-video-promo"]],viewQuery:function(t,e){if(1&t&&i.qd(r,1),2&t){let t;i.Sc(t=i.xc())&&(e.slideshow=t.first)}},inputs:{collection:"collection"},decls:17,vars:10,consts:[[1,"data-module","video-promo"],[1,"module-header"],[1,"content"],["class","slider-wrapper",4,"ngIf"],[4,"ngIf"],[1,"navigation"],[1,"arrow"],[1,"prev","material-icons",3,"ngClass","click"],[4,"ngFor","ngForOf"],[1,"next","material-icons",3,"ngClass","click"],[1,"view-more"],[3,"href"],[1,"slider-wrapper"],[1,"video-slider",3,"imageUrls","lazyLoad","showDots","showArrows","autoPlayWaitForLazyLoad"],["slideshow",""],["class","href-layer",3,"href",4,"ngIf"],[1,"href-layer",3,"href"],[1,"material-icons"],[1,"video-title"],[1,"duration"],[1,"dot",3,"ngClass","click"]],template:function(t,e){1&t&&(i.pc(0,"div",0),i.pc(1,"div",1),i.jd(2,"Top Video Stories"),i.oc(),i.pc(3,"div",2),i.hd(4,d,4,6,"div",3),i.hd(5,p,6,3,"ng-container",4),i.pc(6,"ul",5),i.pc(7,"li",6),i.pc(8,"i",7),i.wc("click",(function(){return e.prevSlide()})),i.jd(9,"keyboard_arrow_left"),i.oc(),i.oc(),i.hd(10,g,2,3,"li",8),i.pc(11,"li",6),i.pc(12,"i",9),i.wc("click",(function(){return e.nextSlide()})),i.jd(13,"keyboard_arrow_right"),i.oc(),i.oc(),i.oc(),i.oc(),i.pc(14,"div",10),i.pc(15,"a",11),i.jd(16,"See more Top Video Stories"),i.oc(),i.oc(),i.oc()),2&t&&(i.Vb(4),i.Hc("ngIf",!e.hideOnServer),i.Vb(1),i.Hc("ngIf",e.videos[e.slideIndex]),i.Vb(3),i.Hc("ngClass",i.Nc(6,u,!e.slideIndex)),i.Vb(2),i.Hc("ngForOf",e.dots),i.Vb(2),i.Hc("ngClass",i.Nc(8,u,e.videos.length<e.slideIndex+1)),i.Vb(3),i.Hc("href","/video/"+e.collection,i.bd))},directives:[c.m,c.k,c.l,s.b],styles:[".video-promo[_ngcontent-%COMP%]   .video-title[_ngcontent-%COMP%]{margin:10px 0;font-size:16px;line-height:1.2;font-weight:700}.video-promo[_ngcontent-%COMP%]   .video-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1e2023}.video-promo[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{font-size:14px;line-height:1;color:#696969}.slider-wrapper[_ngcontent-%COMP%]{width:100%;padding-bottom:56.25%;height:0;position:relative}.slider-wrapper[_ngcontent-%COMP%]   .href-layer[_ngcontent-%COMP%], .slider-wrapper[_ngcontent-%COMP%]   .video-slider[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%}.slider-wrapper[_ngcontent-%COMP%]   .href-layer[_ngcontent-%COMP%]{z-index:1000}.slider-wrapper[_ngcontent-%COMP%]   .href-layer[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:60px;color:#fff}.view-more[_ngcontent-%COMP%]{background-color:transparent;border-top:1px solid #696969;border-bottom:1px solid #696969;text-align:center}.view-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;height:32px;line-height:32px;font-size:.9375rem;font-weight:700;text-transform:uppercase}.navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:20px;margin:10px 0 0;color:#15aadc;list-style-type:none}.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:1}.navigation[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#a3a3a3;margin:0 5px}.navigation[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%]{background:#15aadc;pointer-events:none}.navigation[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:hover{background:#15aadc}.navigation[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin:0 10px;cursor:pointer;font-size:40px;line-height:1}.navigation[_ngcontent-%COMP%]   .material-icons.disabled[_ngcontent-%COMP%]{color:#a3a3a3;pointer-events:none}.navigation[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:hover{color:#15aadc}"]}),t})()},uIbo:function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var i=n("tk/3"),o=n("fXoL"),a=n("ofXK"),c=n("lJxs"),s=n("SxV6"),r=n("bOdf"),l=n("8dEr"),d=n("HBZR"),p=n("60Qe"),h=n("3Pt+"),g=n("Wr7N"),u=n("3ia6"),m=n("tyNb"),b=n("jwMx"),f=n("Va8Q"),y=n("JSYf"),v=n("ehsb"),O=n("BU5o"),C=n("DNub"),w=n("saHA"),P=n("EsUB");const M=["reportBox"];function x(t,e){if(1&t&&(o.pc(0,"span"),o.jd(1,"Elev "),o.pc(2,"strong"),o.jd(3),o.oc(),o.jd(4),o.oc()),2&t){const t=o.Ac(2);o.Vb(3),o.kd(t.station.elevation),o.Vb(1),o.ld(" ",t.station.elevationUnit,", ")}}const _=function(t){return{active:t}};function S(t,e){if(1&t){const t=o.qc();o.pc(0,"div",3),o.pc(1,"span",4),o.hd(2,x,5,2,"span",5),o.pc(3,"strong"),o.jd(4),o.oc(),o.jd(5),o.pc(6,"strong"),o.jd(7),o.oc(),o.jd(8),o.oc(),o.pc(9,"h1"),o.pc(10,"span"),o.jd(11),o.oc(),o.pc(12,"span",6),o.pc(13,"i",7),o.wc("click",(function(){return o.Xc(t),o.Ac().toggleFavorite()})),o.jd(14,"star_rate"),o.oc(),o.pc(15,"i",8),o.wc("click",(function(){return o.Xc(t),o.Ac().toggleHome()})),o.jd(16,"home"),o.oc(),o.oc(),o.oc(),o.pc(17,"div",9),o.kc(18,"img",10),o.pc(19,"a",11),o.kc(20,"lib-display-unit",12),o.jd(21),o.oc(),o.pc(22,"span",13),o.pc(23,"span",14),o.jd(24,"|"),o.oc(),o.pc(25,"a",15),o.jd(26,"Report"),o.oc(),o.pc(27,"div",16,17),o.pc(29,"div",18),o.jd(30,"Report Station"),o.oc(),o.pc(31,"p",19),o.jd(32,"Thank you for reporting this station. We will review the data in question."),o.oc(),o.pc(33,"div",20),o.kc(34,"p",21),o.pc(35,"p"),o.jd(36,"You are about to report this weather station for bad data. Please select the information that is incorrect."),o.oc(),o.pc(37,"form",22),o.wc("ngSubmit",(function(){return o.Xc(t),o.Ac().sendReport()})),o.pc(38,"div",23),o.kc(39,"input",24),o.pc(40,"label",25),o.jd(41,"Temperature"),o.oc(),o.oc(),o.pc(42,"div",23),o.kc(43,"input",26),o.pc(44,"label",27),o.jd(45,"Pressure"),o.oc(),o.oc(),o.pc(46,"div",23),o.kc(47,"input",28),o.pc(48,"label",29),o.jd(49,"Wind"),o.oc(),o.oc(),o.pc(50,"div",23),o.kc(51,"input",30),o.pc(52,"label",31),o.jd(53,"Forecast"),o.oc(),o.oc(),o.pc(54,"div",23),o.kc(55,"input",32),o.pc(56,"label",33),o.jd(57,"Station Offline"),o.oc(),o.oc(),o.pc(58,"div",34),o.pc(59,"button",35),o.jd(60,"Send Report"),o.oc(),o.oc(),o.oc(),o.oc(),o.oc(),o.oc(),o.pc(61,"span",14),o.jd(62,"|"),o.oc(),o.pc(63,"a",36),o.wc("click",(function(){return o.Xc(t),o.Ac().openChangeStation()})),o.Bc(64,"async"),o.jd(65,"Change"),o.oc(),o.oc(),o.kc(66,"lib-station-select"),o.oc()}if(2&t){const t=o.Ac();o.Vb(2),o.Hc("ngIf",t.station.elevation),o.Vb(2),o.kd(t.station.lat),o.Vb(1),o.ld(" \xb0",t.station.latDirection,", "),o.Vb(2),o.kd(t.station.lon),o.Vb(1),o.ld(" \xb0",t.station.lonDirection," "),o.Vb(3),o.kd(t.station.location),o.Vb(2),o.Hc("ngClass",o.Nc(28,_,t.isFavorite)),o.Vb(2),o.Hc("ngClass",o.Nc(30,_,t.isHome)),o.Vb(3),o.Hc("src",t.station.iconUrl,o.bd),o.Vb(1),o.Hc("href",t.station.href,o.bd)("trackClick","localwx_pwsdash"),o.Vb(1),o.Hc("value",t.station.temperature)("colorCoded",!0)("isDegreeVisible",!0),o.Vb(1),o.ld(" ",t.station.name," Station"),o.Vb(1),o.bc("hide","PWS"!==t.source),o.Vb(3),o.Hc("trackClick","localwx_reportpws"),o.Vb(6),o.bc("hide",!t.reportSuccess),o.Vb(2),o.bc("hide",t.reportSuccess),o.Vb(4),o.Hc("formGroup",t.reportForm),o.Vb(26),o.bc("open",o.Cc(64,26,t.stationSelectActive$)),o.Hc("trackClick","localwx_changepws")}}function j(t,e){if(1&t&&o.kc(0,"lib-subnav",37),2&t){const t=o.Ac();o.Hc("tabs",t.tabs)}}let k=(()=>{class t{constructor(t,e,n,i,o,a,d,p,h,g,u,m){this.http=t,this.stationSelectService=e,this.formBuilder=n,this.cityLinksService=i,this.env=o,this.currentService=d,this.ups=p,this.stationService=h,this.displayUnitService=g,this.cityCanonicalService=u,this.dom=m,this.REPORT_URL="//www.wunderground.com/wuflag/flag.html",this.staticHost=this.env.apiVars.endpoints.staticHost,this.observation={},this.location={},this.station={},this.geocode="",this.isFavorite=!1,this.isHome=!1,this.source="",this.reportSuccess=!1,this.isAirport=!1,this.showNav=!1,this.isBrowser=this.env.isBrowser,this.isServer=this.env.isServer,this.tabs=[],this.stationSelectActive$=this.stationSelectService.state$.pipe(Object(c.a)(t=>t.active)),this.displayHeader(a.snapshot.data.currentStation.station),this.isServer&&this.createCanonicalURL(),this.station.location+=""+this.addLastPartOfTitle(a.snapshot.data.currentStation.metrics),this.reportForm=this.formBuilder.group({badtemp:!1,badpress:!1,badwind:!1,badfct:!1,badoff:!1}),this.stationService.currentStation.pipe(Object(s.a)(),Object(r.a)(t=>{const e=Object(l.S)(t,"latitude",0),n=Object(l.S)(t,"longitude",0);return this.currentService.getCurrentObservation(`${e},${n}`)})).subscribe(t=>{this.observation=t,this.station.iconUrl=`//${this.staticHost}/static/i/c/v4/${Object(l.S)(this.observation,"icon",0)}.svg`})}displayHeader(t){if(!t)return;this.location=t,this.isAirport=t.isAirport,this.geocode=`${Object(l.S)(this.location,"latitude","0")},${Object(l.S)(this.location,"longitude","0")}`,this.isBrowser&&this.ups.favorites.subscribe(()=>{const t=this.geocode.split(",");this.isFavorite=this.ups.isFav(+t[0],+t[1]),this.isHome=this.ups.isHome(this.geocode)}),this.station.id=Object(l.S)(this.location,"pws.id",""),this.station.location=Object(l.S)(this.location,"city","")||Object(l.S)(this.location,"displayName",""),this.city=this.station.location;const e=Object(l.S)(this.location,"adminDistrictCode","")||Object(l.S)(this.location,"adminDistrict","");let n=Object(l.S)(this.location,"countryCode","");if(!n){const t=Object(l.S)(this.location,"postalKey",""),[,e]=t.split(":");n=e||""}const i=Object(l.S)(this.location,"country")||n,o=Object(l.S)(this.location,"disputedArea",!1);this.station.location+=e?", "+e:"",this.state=e,!o&&i&&n&&"US"!==n.toUpperCase()&&(this.country=Object(l.S)(this.location,"country"),this.station.location+=", "+i),this.station.name=Object(l.S)(this.location,"pws.name","")||Object(l.S)(this.location,"pws.neighborhood",""),this.station.latDirection="N",this.station.lonDirection="E";const a=this.getLatLon(t);a&&(a.lat<0&&(this.station.latDirection="S"),a.lon<0&&(this.station.lonDirection="W"),this.station.lat=parseFloat(Math.abs(a.lat).toFixed(2)),this.station.lon=parseFloat(Math.abs(a.lon).toFixed(2))),this.station.temperature=Object(l.S)(this.location,"pws.temperature",""),this.station.elevation=Object(l.S)(this.location,"pws.elevation",""),this.station.elevationUnit=this.displayUnitService.getTranslationKey(d.c.elevation,!1),this.cityLinksService.getCityLinks().subscribe(t=>{this.station.href=Object(l.S)(this.location,"pwsId","")?t.pws:t.today,this.ups.isUserLoggedIn().subscribe(e=>{if(this.env.isServer)return;const n=this.ups.isUserPremium();this.tabs=[{title:"Today",url:t.today,external:!0},{title:n?"Hourly Forecast":"Hourly",url:t.hourly,external:!0},{title:n?"10-Day Forecast":"10-Day",url:t.tenday,external:!0},{title:"Calendar",url:t.calendar,external:!0},{title:"History",url:t.history,external:!0},{title:"Wundermap",url:t.wumap,queryParams:{lat:this.location.latitude,lon:this.location.longitude},external:!0}],this.showNav=!0})})}openChangeStation(){this.stationSelectService.state$.getValue().active?this.stationSelectService.deactivateStationSelect():(this.stationSelectService.startLoading(),this.stationSelectService.activateStationSelect())}toggleFavorite(){const t=this.geocode.split(",");this.ups.isFav(+t[0],+t[1])?this.ups.removeFav("favorites",+t[0],+t[1]):this.ups.addFavorite(this.geocode),this.isFavorite=!this.isFavorite}toggleHome(){this.isHome?this.ups.removeHome():this.ups.setHome(this.geocode),this.isHome=!this.isHome}sendReport(){const t=this.reportForm.value,e=new i.e;e.append("type","wxstation"),e.append("stationid",Object(l.S)(this.station,"id","")),e.append("zip",Object(l.S)(this.location,"zip","")),e.append("magic",Object(l.S)(this.location,"magic","")),e.append("wmo",Object(l.S)(this.location,"wmo","")),e.append("badtemp",t.badtemp),e.append("badpress",t.badpress),e.append("badwind",t.badwind),e.append("badfct",t.badfct),e.append("badoff",t.badoff),e.append("temp_e",Object(l.S)(this.observation,"temperature","")),e.append("press",Object(l.S)(this.observation,"pressure","")),this.http.get(this.REPORT_URL,{params:e}).subscribe(t=>{this.reportSuccess=t.ok})}getLatLon(t){return{lat:Object(l.S)(t,"latitude",0),lon:Object(l.S)(t,"longitude",0)}}addLastPartOfTitle(t){const e=Object(l.S)(t,"title",""),n=Object(l.S)(t,"omniture.channel")||"",i=e.split("|")[0];if(!i)return"";const o=i.split(" ");let a=0;return a+=this.country?this.country.split(" ").length:0,a+=this.state&&"International"!==n?this.state.split(" ").length:0,a+=this.city?this.city.split(" ").length:0,o.splice(0,a)," "+o.join(" ")}createCanonicalURL(){const{cityCanonicalService:t}=this;t.canonical$.subscribe(t=>{let e=this.dom.querySelector('link[rel="canonical"]');e&&e.setAttribute("href",t)})}}return t.\u0275fac=function(e){return new(e||t)(o.jc(i.a),o.jc(p.a),o.jc(h.e),o.jc(g.c),o.jc(u.b),o.jc(m.a),o.jc(b.f),o.jc(f.e),o.jc(y.c),o.jc(d.b),o.jc(v.a),o.jc(a.d))},t.\u0275cmp=o.dc({type:t,selectors:[["lib-city-header"]],viewQuery:function(t,e){if(1&t&&o.qd(M,1),2&t){let t;o.Sc(t=o.xc())&&(e.REPORT_URL=t.first)}},decls:4,vars:2,consts:[[1,"row"],["class","columns small-12 city-header",4,"ngIf"],["class",".sub-nav",3,"tabs",4,"ngIf"],[1,"columns","small-12","city-header"],[1,"subheading"],[4,"ngIf"],[1,"icons"],[1,"material-icons","favorite-star",3,"ngClass","click"],[1,"material-icons","homecity-button",3,"ngClass","click"],[1,"station-nav"],["alt","icon",1,"station-condition",3,"src"],[1,"station-name",3,"href","trackClick"],["type","temperature",3,"value","colorCoded","isDegreeVisible"],["id","report-link"],[1,"separator"],["data-toggle","report-box",1,"report-link",3,"trackClick"],["id","report-box","data-dropdown","","data-close-on-click","true",1,"dropdown-pane","bottom","report-box"],["reportBox",""],[1,"report-station"],["id","report-inactive"],["id","report-active"],["id","report-error",1,"error","hide"],["id","report-form",1,"wuForm",3,"formGroup","ngSubmit"],[1,"checkbox-wrap"],["type","checkbox","name","badtemp","formControlName","badtemp","id","badtemp",1,"report-checkbox"],["for","badtemp"],["type","checkbox","name","badpress","formControlName","badpress","id","badpress",1,"report-checkbox"],["for","badpress"],["type","checkbox","name","badwind","formControlName","badwind","id","badwind",1,"report-checkbox"],["for","badwind"],["type","checkbox","name","badfct","formControlName","badfct","id","badfct",1,"report-checkbox"],["for","badfct"],["type","checkbox","name","badoff","formControlName","badoff","id","badoff",1,"report-checkbox"],["for","badoff"],[1,"submit-button"],["id","flagstationbutton","type","submit","form","report-form",1,"button","radius"],["id","station-select-button",1,"station-select-button",3,"trackClick","click"],[1,".sub-nav",3,"tabs"]],template:function(t,e){1&t&&(o.pc(0,"div",0),o.hd(1,S,67,32,"div",1),o.oc(),o.pc(2,"div",0),o.hd(3,j,1,1,"lib-subnav",2),o.oc()),2&t&&(o.Vb(1),o.Hc("ngIf",e.station.location),o.Vb(2),o.Hc("ngIf",e.showNav))},directives:[a.m,a.k,O.a,C.a,h.A,h.r,h.j,h.a,h.q,h.h,w.a,P.a],pipes:[a.b],styles:['@charset "UTF-8";.city-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:80%;margin-bottom:0;font-size:1.5rem;vertical-align:top}@media screen and (min-width:26.25em){.city-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:100%}}.city-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:28px;width:32px}.city-header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{overflow:hidden;position:absolute;padding:3px 0 0 5px;white-space:nowrap}.city-header[_ngcontent-%COMP%]   .station-condition[_ngcontent-%COMP%]{margin-right:5px}.city-header[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{color:#696969;font-size:.75rem}.city-header[_ngcontent-%COMP%]   .station-nav[_ngcontent-%COMP%]{text-transform:uppercase;margin-bottom:10px;font-size:.9375rem}.city-header[_ngcontent-%COMP%]   .report-station[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem;line-height:1.4;font-weight:400}.city-header[_ngcontent-%COMP%]   .station-select-button[_ngcontent-%COMP%]{position:relative}.city-header[_ngcontent-%COMP%]   .station-select-button[_ngcontent-%COMP%]:before{transform:rotate(135deg) translateY(100%);right:-29px}.city-header[_ngcontent-%COMP%]   .station-select-button.open[_ngcontent-%COMP%]:before, .city-header[_ngcontent-%COMP%]   .station-select-button[_ngcontent-%COMP%]:before{content:"";border-style:solid;border-width:2px 2px 0 0;width:12px;height:12px;display:inline-block;position:absolute;color:#006f9e;bottom:-2px}.city-header[_ngcontent-%COMP%]   .station-select-button.open[_ngcontent-%COMP%]:before{transform:rotate(-45deg) translateY(-20%);right:-22px}.city-header[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin:0 5px}.city-header[_ngcontent-%COMP%]   .station-name[_ngcontent-%COMP%]{font-weight:700}.city-header[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%], .city-header[_ngcontent-%COMP%]   .homecity-button[_ngcontent-%COMP%]{cursor:pointer;color:#d7d7d7;font-size:40px;width:40px}.city-header[_ngcontent-%COMP%]   .favorite-star.active[_ngcontent-%COMP%]{color:#ffb92f}.city-header[_ngcontent-%COMP%]   .homecity-button.active[_ngcontent-%COMP%]{color:#19aadb}.city-header[_ngcontent-%COMP%]   .station-condition[_ngcontent-%COMP%]{width:20px;height:20px}.city-header[_ngcontent-%COMP%]   .report-box[_ngcontent-%COMP%]{text-transform:none;padding:18px 20px;width:310px}.city-header[_ngcontent-%COMP%]   .report-box[_ngcontent-%COMP%]   .checkbox-wrap[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:0}.city-header[_ngcontent-%COMP%]   .report-box[_ngcontent-%COMP%]   .checkbox-wrap[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{height:23px}.city-header[_ngcontent-%COMP%]   .report-box[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], .city-header[_ngcontent-%COMP%]   .report-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}@media (min-width:768px){.city-header[_ngcontent-%COMP%]   .favorite-star[_ngcontent-%COMP%]:hover{color:#ffb92f;text-shadow:0 0 5px #5b9f49}.city-header[_ngcontent-%COMP%]   .homecity-button[_ngcontent-%COMP%]:hover{color:#19aadb}}  .station-nav .wu-value-to:after{content:"\xb0"}  .station-nav .wu-label{display:none}']}),t})()},us7i:function(t,e,n){"use strict";var i=n("fXoL"),o=n("8dEr");const a={"-60":"#9f94a7","-55":"#896ea0","-50":"#754a9a","-40":"#883da5","-35":"#953aac","-30":"#8341b4","-25":"#6f47bc","-20":"#5b4ec4","-15":"#445bc7","-10":"#4655c9","-5":"#1767c3",0:"#1278c8",5:"#1f91d7",10:"#2aa8e5",15:"#36c1f3",20:"#30bfef",25:"#28b7e6",30:"#1fafdd",35:"#32afb1",40:"#52b673",45:"#71bc3c",50:"#93c124",55:"#b6c609",60:"#f4b701",65:"#feae3c",70:"#fe9a3b",75:"#fd843b",80:"#ec5a34",85:"#da2f2f",90:"#d72a36",95:"#da3a45",100:"#dc4953",105:"#df5961",110:"#e26870",115:"#e5787f",120:"#e8878d"};var c=n("ofXK"),s=n("JSYf"),r=n("p1rA"),l=n("Va8Q"),d=n("SIdu"),p=n("jhN1"),h=n("jwMx"),g=n("Wr7N"),u=n("DNub"),m=n("iN+g"),b=n("ZDuv");function f(t,e){if(1&t&&(i.pc(0,"span"),i.pc(1,"i",24),i.jd(2,"access_time"),i.oc(),i.pc(3,"strong"),i.jd(4),i.oc(),i.jd(5),i.pc(6,"span",11),i.jd(7,"| "),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(4),i.ld(" ",t.cityTime,""),i.Vb(1),i.md(" (GMT ",t.date.current.offset>0?"+":"","",t.date.current.offset,") ")}}function y(t,e){if(1&t&&(i.pc(0,"span",25),i.jd(1),i.Bc(2,"timeAgo"),i.oc()),2&t){const t=i.Ac(2);i.Vb(1),i.ld("Updated ",i.Cc(2,1,t.metadata.obsTimeUtc),"")}}function v(t,e){if(1&t&&i.kc(0,"lib-wind-gauge",26),2&t){const t=i.Ac(2);i.Hc("speed",t.pwsConditions.windSpeed)("angle",t.windAngle)}}function O(t,e){1&t&&(i.pc(0,"span"),i.jd(1,"from "),i.oc())}function C(t,e){if(1&t&&(i.pc(0,"p"),i.jd(1,"Wind "),i.hd(2,O,2,0,"span",4),i.pc(3,"strong"),i.jd(4),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(2),i.Hc("ngIf",t.pwsConditions.windDir>=0),i.Vb(2),i.kd(t.pwsConditions.windDir)}}function w(t,e){if(1&t&&(i.pc(0,"p"),i.jd(1," Gusts "),i.pc(2,"strong"),i.kc(3,"lib-display-unit",27),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(3),i.Hc("type","speed")("value",t.pwsConditions.windGust)}}function P(t,e){if(1&t&&(i.pc(0,"div",18),i.pc(1,"div",28),i.kc(2,"p",29),i.oc(),i.oc()),2&t){const t=i.Ac(2);i.Vb(2),i.Hc("innerHtml",t.weatherQuickie,i.Yc)}}function M(t,e){if(1&t&&(i.pc(0,"div",1),i.pc(1,"div",2),i.pc(2,"p",3),i.hd(3,f,8,3,"span",4),i.hd(4,y,3,3,"span",5),i.oc(),i.oc(),i.pc(5,"div",6),i.pc(6,"div",7),i.pc(7,"div",8),i.pc(8,"div",9),i.pc(9,"span",10),i.jd(10),i.oc(),i.pc(11,"span",11),i.jd(12," | "),i.oc(),i.pc(13,"span",12),i.jd(14),i.oc(),i.oc(),i.pc(15,"div",13),i.kc(16,"lib-display-unit",14),i.oc(),i.pc(17,"div",15),i.jd(18," like "),i.pc(19,"span",16),i.jd(20),i.oc(),i.oc(),i.oc(),i.oc(),i.oc(),i.pc(21,"div",17),i.pc(22,"div",18),i.pc(23,"div",19),i.kc(24,"img",20),i.pc(25,"p"),i.jd(26),i.oc(),i.oc(),i.pc(27,"div",21),i.hd(28,v,1,2,"lib-wind-gauge",22),i.hd(29,C,5,2,"p",4),i.hd(30,w,4,2,"p",4),i.oc(),i.oc(),i.oc(),i.hd(31,P,3,1,"div",23),i.oc()),2&t){const t=i.Ac();i.Vb(3),i.Hc("ngIf",t.date),i.Vb(1),i.Hc("ngIf",t.metadata&&t.metadata.obsTimeUtc),i.Vb(2),i.ed("background",t.pwsConditions.tempStyle),i.Vb(4),i.ld("",t.conditions.high,"\xb0"),i.Vb(4),i.ld("",t.conditions.low,"\xb0"),i.Vb(1),i.ed("color",t.pwsConditions.tempColor),i.Vb(1),i.Hc("isDegreeVisible","true")("dynamicDecimals",!0)("value",t.pwsConditions.temp),i.Vb(3),i.ed("color",t.pwsConditions.feelsLikeColor),i.Vb(1),i.ld("",t.pwsConditions.feelsLike,"\xb0"),i.Vb(4),i.Hc("src",t.conditions.iconUrl,i.bd),i.Vb(2),i.kd(t.conditions.phrase),i.Vb(2),i.Hc("ngIf",t.windAngle>=0),i.Vb(1),i.Hc("ngIf",t.pwsConditions.windDir),i.Vb(1),i.Hc("ngIf",t.pwsConditions.windGust),i.Vb(1),i.Hc("ngIf",t.weatherQuickie)}}n.d(e,"a",(function(){return x}));let x=(()=>{class t{constructor(t,e,n,i,o,a,c,s,r,l,d){this.datePipe=t,this.stationService=e,this.weatherApi=n,this.userProfileService=i,this.forecastService=o,this.domSanitizer=a,this.currentService=c,this.timeService=s,this.iconService=r,this.dailyService=l,this.historyService=d,this.pwsConditions={temp:"--",heatIndex:"--",dewpt:"--",windChill:"--",windDir:"--",windSpeed:"--",windGust:"--",pressure:"--",precipRate:"--",precipTotal:"--",elev:"--",feelsLike:"--",tempColor:"#BDBDBD",feelsLikeColor:"#8A8A8A",tempStyle:"linear-gradient(to bottom, #D7D7D7, #A3A3A3)"},this.conditions={phrase:"No Data",high:"--",low:"--",iconUrl:""},this.hasTemp=!1,this.cityTime="",this.stationService.currentStation.subscribe(t=>this.getData(t))}getData(t){const e=this.getUserUnits(),n=`${Object(o.S)(t,"latitude",0)},${Object(o.S)(t,"longitude",0)}`;this.currentService.getCurrentObservation(n).subscribe(i=>{if(this.observation=i,this.setWeatherQuickie(t,n),this.conditions.phrase=Object(o.S)(this.observation,"phrase","--"),this.conditions.iconUrl=this.iconService.getIconUrl(Object(o.S)(this.observation,"icon",0)),Object(o.S)(t,"pws.id","")){this.metadata={},this.metadata.obsTimeUtc=Object(o.S)(t,"pws.dateUtc","0"),this.pwsConditions.temp=Object(o.S)(t,"pws.temperature",0);let n=this.pwsConditions.temp;"m"===e&&(n=1.8*n+32),this.pwsConditions.feelsLike=n>=70?Object(o.S)(t,"pws.heatIndex",0):n<=61?Object(o.S)(t,"pws.wind.chill",0):this.pwsConditions.temp,this.pwsConditions.feelsLike=this.pwsConditions.feelsLike||this.pwsConditions.temp,this.hasTemp=Object(o.I)(this.pwsConditions.temp),this.pwsConditions.tempColor=this.getTemperatureColor(this.pwsConditions.temp),this.pwsConditions.feelsLikeColor=this.getTemperatureColor(this.pwsConditions.feelsLike);const i=this.getTemperatureColor(this.pwsConditions.temp-5);this.pwsConditions.tempStyle=`linear-gradient(to bottom, ${this.pwsConditions.tempColor}, ${i})`,this.pwsConditions.windSpeed=Object(o.S)(t,"pws.wind.speed",0),this.pwsConditions.windDir=Object(o.S)(t,"pws.wind.cardinal",""),this.pwsConditions.windGust=Object(o.S)(t,"pws.wind.gust",0),this.windAngle=Object(o.S)(t,"pws.wind.direction",0)}else{this.metadata={},this.metadata.obsTimeUtc=Object(o.S)(this.observation,"dateUtc","0"),this.pwsConditions.temp=Object(o.S)(this.observation,"temperature",0),this.pwsConditions.feelsLike=Object(o.S)(this.observation,"feelslike",0),this.hasTemp=Object(o.I)(this.pwsConditions.temp),this.pwsConditions.tempColor=this.getTemperatureColor(this.pwsConditions.temp),this.pwsConditions.feelsLikeColor=this.getTemperatureColor(this.pwsConditions.feelsLike);const t=this.getTemperatureColor(this.pwsConditions.temp-5);this.pwsConditions.tempStyle=`linear-gradient(to bottom, ${this.pwsConditions.tempColor}, ${t})`,this.pwsConditions.windSpeed=Object(o.S)(this.observation,"wind.speed",0),this.pwsConditions.windDir=Object(o.S)(this.observation,"wind.cardinal",""),this.pwsConditions.windGust=Object(o.S)(this.observation,"wind.gust",0),this.windAngle=Object(o.S)(this.observation,"wind.direction",0)}})}setWeatherQuickie(t,e){this.timeService.getDateTime(e).subscribe(n=>{this.date={date:Object(o.S)(this.observation,"date",new Date),current:n},this.date.date.setHours(this.date.date.getHours()+this.date.date.getTimezoneOffset()/60);const i=this.datePipe.transform(this.date.date,"longDate")||"",a=this.datePipe.transform(this.date.date,"shortTime")||"";this.cityTime=a+" "+this.date.current.timeZone+" on "+i;let c="Today",s="";this.dailyService.getThreeDayForecast(e).subscribe(e=>{const n=e.days;this.conditions.low=Object(o.S)(n,"[0].temperature.min",0)||"--",this.conditions.high=Object(o.S)(n,"[0].temperature.max",0)||"--",this.historyService.getHistory(t.airport.icao).subscribe(t=>{let e=0;n[0].temperature.max?e=n[0].temperature.max-t[0].temperature.max:(e=n[1].temperature.max-t[0].temperature.max,c="Tomorrow");const i=Math.abs(e);s+=c+"'s temperature is forecast to be",s+=i>7?e>0?' <span class="b warmer">MUCH WARMER</span> than':' <span class="b cooler">MUCH COOLER</span> than':i>2?e>0?' <span class="b warmer">WARMER</span> than':' <span class="b cooler">COOLER</span> than':' <span class="b same">NEARLY THE SAME</span> as',s+="Today"===c?" yesterday.":" today.",this.weatherQuickie=this.domSanitizer.bypassSecurityTrustHtml(s)})})})}getTemperatureColor(t){return t="e"===this.getUserUnits()?t:9*t/5+32,t=5*Math.round(t/5),t=Math.min(Math.max(t,-60),120),a[t]}getUserUnits(){return"metric"===this.userProfileService.getUnitFormat()?"m":"e"}}return t.\u0275fac=function(e){return new(e||t)(i.jc(c.e),i.jc(s.c),i.jc(r.l),i.jc(l.e),i.jc(d.a),i.jc(p.c),i.jc(h.f),i.jc(h.w),i.jc(g.a),i.jc(h.g),i.jc(h.k))},t.\u0275cmp=i.dc({type:t,selectors:[["lib-city-current-conditions"]],decls:1,vars:1,consts:[["class","city-conditions row collapse",4,"ngIf"],[1,"city-conditions","row","collapse"],[1,"small-12"],[1,"timestamp"],[4,"ngIf"],["class","last-updated",4,"ngIf"],[1,"conditions-circle-wrap","small-12","medium-7","columns","text-center"],[1,"conditions-circle"],[1,"condition-data"],[1,"hi-lo"],[1,"hi"],[1,"separator"],[1,"lo"],[1,"current-temp"],["type","temperature",3,"isDegreeVisible","dynamicDecimals","value"],[1,"feels-like"],[1,"temp"],[1,"conditions-extra","small-9","medium-5","columns","small-centered","medium-uncentered"],[1,"row"],[1,"condition-icon","small-6","medium-12","columns"],["alt","icon",3,"src"],[1,"condition-wind","small-6","medium-12","columns"],[3,"speed","angle",4,"ngIf"],["class","row",4,"ngIf"],[1,"material-icons"],[1,"last-updated"],[3,"speed","angle"],["dynamicDecimals","true",3,"type","value"],[1,"columns","small-12"],[1,"weather-quickie",3,"innerHtml"]],template:function(t,e){1&t&&i.hd(0,M,32,20,"div",0),2&t&&i.Hc("ngIf",e.conditions&&e.pwsConditions)},directives:[c.m,u.a,m.a],pipes:[b.a],styles:['.timestamp[_ngcontent-%COMP%]{font-size:.75rem;color:#696969}.timestamp[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#d7d7d7}.timestamp[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{vertical-align:top;font-size:13px;line-height:17px}  .conditions-circle .wu-unit-temperature .wu-label{font-size:1.5rem;vertical-align:super;margin-bottom:16px;position:relative;top:-12px}@media screen and (min-width:40em) and (max-width:63.9375em){  .conditions-circle .wu-unit-temperature .wu-label{font-size:20px;top:-10px}}@media screen and (max-width:39.9375em){  .conditions-circle .wu-unit-temperature .wu-label{font-size:20px;top:-5px}}.conditions-circle[_ngcontent-%COMP%]{width:205px;height:205px;margin:15px 0;border-radius:50%;position:relative;display:inline-block}.conditions-circle[_ngcontent-%COMP%]:before{content:"";background-color:#fff;width:195px;height:195px;display:block;border-radius:50%;position:absolute;top:5px;left:5px}.conditions-circle[_ngcontent-%COMP%]   .condition-data[_ngcontent-%COMP%]{position:absolute;width:205px;height:205px;padding:27px 0;text-align:center}.conditions-circle[_ngcontent-%COMP%]   .current-temp[_ngcontent-%COMP%]{font-size:80px;margin:-16px 0;color:#f83}.conditions-circle[_ngcontent-%COMP%]   .current-temp[_ngcontent-%COMP%]   sup[_ngcontent-%COMP%]{font-size:40px}@media screen and (min-width:40em){.conditions-circle[_ngcontent-%COMP%]   .current-temp[_ngcontent-%COMP%]   sup[_ngcontent-%COMP%]{margin-left:0;top:-34px}}.conditions-circle[_ngcontent-%COMP%]   .current-temp[_ngcontent-%COMP%]     .wu-value{margin-right:-10%}.conditions-circle[_ngcontent-%COMP%]   .hi-lo[_ngcontent-%COMP%]{font-size:20px}.conditions-circle[_ngcontent-%COMP%]   .hi-lo[_ngcontent-%COMP%]   .lo[_ngcontent-%COMP%]{color:#8a8a8a}.conditions-circle[_ngcontent-%COMP%]   .hi-lo[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{color:#d7d7d7}.conditions-circle[_ngcontent-%COMP%]   .feels-like[_ngcontent-%COMP%]{font-size:1rem;text-transform:uppercase}.conditions-circle[_ngcontent-%COMP%]   .feels-like[_ngcontent-%COMP%]   .temp[_ngcontent-%COMP%]{color:#f83}@media screen and (min-width:40em) and (max-width:63.9375em){.conditions-circle[_ngcontent-%COMP%]{width:190px;height:190px;margin:31px 0}.conditions-circle[_ngcontent-%COMP%]:before{width:180px;height:180px}.conditions-circle[_ngcontent-%COMP%]   .condition-data[_ngcontent-%COMP%]{width:190px;height:190px;padding:28px 0}.conditions-circle[_ngcontent-%COMP%]   .hi-lo[_ngcontent-%COMP%]{font-size:1.125rem}.conditions-circle[_ngcontent-%COMP%]   .current-temp[_ngcontent-%COMP%]{font-size:72px;margin:-14px 0}.conditions-circle[_ngcontent-%COMP%]   .current-temp[_ngcontent-%COMP%]   sup[_ngcontent-%COMP%]{margin-left:0;top:-21px}.conditions-circle[_ngcontent-%COMP%]   .feels-like[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (max-width:39.9375em){.conditions-circle[_ngcontent-%COMP%]{width:170px;height:170px}.conditions-circle[_ngcontent-%COMP%]:before{width:160px;height:160px}.conditions-circle[_ngcontent-%COMP%]   .condition-data[_ngcontent-%COMP%]{width:170px;height:170px;padding:28px 0}.conditions-circle[_ngcontent-%COMP%]   .hi-lo[_ngcontent-%COMP%]{font-size:1.125rem}.conditions-circle[_ngcontent-%COMP%]   .current-temp[_ngcontent-%COMP%]{font-size:55px;margin:-12px 0}.conditions-circle[_ngcontent-%COMP%]   .current-temp[_ngcontent-%COMP%]   sup[_ngcontent-%COMP%]{top:-11px;margin-left:0}.conditions-circle[_ngcontent-%COMP%]   .feels-like[_ngcontent-%COMP%]{font-size:.9375rem}}@media screen and (min-width:64em){  .wu-paid .conditions-circle-wrap .conditions-circle{width:230px;height:230px}  .wu-paid .conditions-circle-wrap .conditions-circle:before{width:220px;height:220px}  .wu-paid .conditions-circle-wrap .conditions-circle .condition-data{width:230px;height:230px;padding:35px 0}  .wu-paid .conditions-circle-wrap .conditions-circle .current-temp{font-size:88px;margin:-16px 0}  .wu-paid .conditions-circle-wrap .conditions-circle .current-temp sup{font-size:40px}  .wu-paid .conditions-circle-wrap .conditions-circle .hi-lo{font-size:20px}  .wu-paid .conditions-circle-wrap .conditions-circle .feels-like{font-size:1.125rem}  .wu-paid .conditions-extra{margin-top:20px}}.condition-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:85px}.condition-icon[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}@media screen and (min-width:40em){.condition-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px}}@media screen and (max-width:39.9375em){.condition-icon[_ngcontent-%COMP%]{min-height:130px;border-right:1px solid #d7d7d7}}.condition-wind[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-top:10px}.condition-wind[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media screen and (max-width:39.9375em){.condition-wind[_ngcontent-%COMP%]{margin-top:0}}@media screen and (max-width:39.9375em){.conditions-extra[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px}}@media screen and (max-width:450px){.conditions-extra[_ngcontent-%COMP%]   .condition-icon[_ngcontent-%COMP%], .conditions-extra[_ngcontent-%COMP%]   .condition-wind[_ngcontent-%COMP%]{min-height:104px}.conditions-extra[_ngcontent-%COMP%]   .condition-icon[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .conditions-extra[_ngcontent-%COMP%]   .condition-wind[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;margin-top:0}.conditions-extra[_ngcontent-%COMP%]   .condition-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:70px}.conditions-extra[_ngcontent-%COMP%]   .wind-compass-wrap[_ngcontent-%COMP%]{margin-top:12px}}@media screen and (min-width:40em){  .conditions-extra{margin-top:13px}}@media screen and (min-width:40em) and (max-width:63.9375em){  .conditions-extra{padding-left:3%}}  .conditions-extra .condition-wind .wind-compass-wrap{width:85px;height:85px;margin:0 auto}  .conditions-extra .condition-wind .wind-compass-wrap .wind-compass{top:9px;left:9px}  .conditions-extra .condition-wind .wind-compass-wrap .wind-compass .dial{border-radius:50%;width:59px;height:59px;border:3px solid #818282;position:relative;box-sizing:content-box}  .conditions-extra .condition-wind .wind-compass-wrap .wind-compass .arrow-direction{width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:18px solid #1e2023;position:absolute;left:23.5px;top:-10px}  .conditions-extra .condition-wind .wind-compass-wrap .wind-north{top:15px;width:85px}  .conditions-extra .condition-wind .wind-compass-wrap .wind-speed{width:85px;height:85px;line-height:85px;font-size:1rem}@media screen and (min-width:40em){  .conditions-extra .condition-wind .wind-compass-wrap .wind-speed{font-size:.9375rem}}  .wu-unit-no-value~.wu-label{display:none}@media screen and (max-width:450px){  .conditions-extra{margin-top:10px}}@media screen and (max-width:450px){  .conditions-extra .condition-wind .wind-compass-wrap{width:70px;height:70px;margin:0 auto}  .conditions-extra .condition-wind .wind-compass-wrap .wind-compass{top:9px;left:9px}  .conditions-extra .condition-wind .wind-compass-wrap .wind-compass .dial{border-radius:50%;width:48px;height:48px;border:3px solid #818282;position:relative;box-sizing:content-box}  .conditions-extra .condition-wind .wind-compass-wrap .wind-compass .arrow-direction{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:15px solid #1e2023;position:absolute;left:19px;top:-8.3333333333px}  .conditions-extra .condition-wind .wind-compass-wrap .wind-north{top:15px;width:75px}  .conditions-extra .condition-wind .wind-compass-wrap .wind-speed{width:73px;height:73px;line-height:75px;font-size:1rem}}  .wu-paid .has-sidebar{padding-right:0}  .wu-paid .is-sidebar,   .wu-paid .is-top-sidebar{display:none}@media screen and (min-width:64em){  .wu-paid .city-map-column{width:58.3333333333%;float:left;padding-left:.625rem;padding-right:.625rem;padding-right:.625rem!important}}@media screen and (min-width:64em) and (min-width:40em){  .wu-paid .city-map-column{padding-left:.9375rem;padding-right:.9375rem}}@media screen and (min-width:64em){  .wu-paid .city-map-column:last-child:not(:first-child){float:right}}@media screen and (min-width:64em){  .wu-paid .city-conditions-column{width:41.6666666667%;float:left;padding-left:.625rem;padding-right:.625rem}}@media screen and (min-width:64em) and (min-width:40em){  .wu-paid .city-conditions-column{padding-left:.9375rem;padding-right:.9375rem}}@media screen and (min-width:64em){  .wu-paid .city-conditions-column:last-child:not(:first-child){float:right}}.conditions-extra[_ngcontent-%COMP%]{text-align:center}.last-updated[_ngcontent-%COMP%]{white-space:nowrap}  .weather-quickie{margin:10px auto;white-space:normal;text-align:center;color:#1e2023;font-size:.9375rem}  .weather-quickie span{font-weight:700;font-style:italic;text-transform:uppercase;color:#87c404}  .weather-quickie span.warmer{color:#f83}  .weather-quickie span.cooler{color:#15aadc}  .weather-quickie p{display:inline;margin:10px 0;font-weight:400}@media screen and (max-width:39.9375em){  .weather-quickie{margin:0 auto 10px}}']}),t})()}}]);